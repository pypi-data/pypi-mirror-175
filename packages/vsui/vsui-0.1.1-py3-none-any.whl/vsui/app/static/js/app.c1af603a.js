(function(){"use strict";var e={8266:function(e,t,a){var l=a(9242),n=a(1020),i=(a(7658),a(3396)),s=a(7139),o=a(4870),r=a(2066);const u=(0,n.Q_)("vsui_store",(()=>{const e=(0,r.ZP)({extraHeaders:{type:"web"}}),t=(0,o.iH)("tasks");function a(){"tasks"==t.value?(console.log("toggling to settings"),this.currentTab="settings"):(console.log("toggling to tabs"),this.currentTab="tasks")}return{socket:e,currentTab:t,toggle_current_tab:a}})),c={class:"row mb-3"},d={class:"col"},v={class:"progress"},g=["aria-valuenow"];var _={__name:"ProgressElement",props:{id:String,task_id:String},setup(e){const t=e,a=u(),l=a.socket,n=(0,o.qj)({value:{current:0,max:1}}),r=(0,i.Fl)((()=>n.value.current/n.value.max*100));return l.on("display_update",(e=>{let a=e.data;t.id in a&&(n.value=a[t.id])})),(0,i.bv)((()=>{console.log("requesting progress updates"),l.emit("request_update",{task_id:t.task_id,key:t.id})})),(t,a)=>((0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",d,[(0,i._)("h5",null,(0,s.zw)(e.id)+" - "+(0,s.zw)(n.value.current)+" / "+(0,s.zw)(n.value.max),1),(0,i._)("div",v,[(0,i._)("div",{class:"progress-bar",role:"progressbar",id:"epoch-progress-bar",style:(0,s.j5)({width:(0,o.SU)(r)+"%"}),"aria-valuenow":(0,o.SU)(r),"aria-valuemin":"0","aria-valuemax":"100"},null,12,g)])])]))}},p=a(89);const f=(0,p.Z)(_,[["__scopeId","data-v-9e1db9ba"]]);var k=f;const b=e=>((0,i.dD)("data-v-5a267718"),e=e(),(0,i.Cn)(),e),w={class:"row mb-3"},m={class:"col"},y={class:"row"},h={class:"col align-self-start"},S={class:"col-1 align-self-end"},C=b((()=>(0,i._)("hr",null,null,-1))),D=b((()=>(0,i._)("hr",null,null,-1)));var x={__name:"LogElement",props:{id:String,task_id:String},setup(e){const t=e,a=u(),l=a.socket,n=(0,o.iH)(!1);function r(){n.value=!n.value}const c=(0,i.Fl)((()=>n.value?"":"log")),d=(0,i.Fl)((()=>n.value?"bi bi-chevron-down":"bi bi-chevron-up")),v=(0,i.Fl)((()=>{var e=g.value;return e.reverse()})),g=(0,o.qj)({value:["nothing to show"]});return l.on("display_update",(e=>{let a=e.data;t.id in a&&(g.value=a[t.id])})),(0,i.bv)((()=>{console.log("requesting progress updates"),l.emit("request_update",{task_id:t.task_id,key:t.id})})),(t,a)=>((0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("div",m,[(0,i._)("div",y,[(0,i._)("div",h,[(0,i._)("h5",null,(0,s.zw)(e.id),1)]),(0,i._)("div",S,[(0,i._)("h5",null,[(0,i._)("i",{class:(0,s.C_)((0,o.SU)(d)),onClick:a[0]||(a[0]=e=>r()),style:{cursor:"pointer"}},null,2)])])]),C,(0,i._)("div",{class:(0,s.C_)((0,o.SU)(c))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,o.SU)(v),(e=>((0,i.wg)(),(0,i.iD)("p",{key:e},(0,s.zw)(e),1)))),128))],2),D])]))}};const H=(0,p.Z)(x,[["__scopeId","data-v-5a267718"]]);var q=H,j=a(6294),T=a(741);const U={class:"row mb-3"},O={class:"col"};var E={__name:"ChartElement",props:{id:String,task_id:String},setup(e){const t=e;T.kL.register(T.Dx,T.u,T.De,T.jn,T.f$,T.od,T.uw);const a=u(),l=a.socket,n=(0,o.qj)({value:{x:[],y:[]}}),r=(0,i.Fl)((()=>({value:{labels:n.value.x,datasets:[{label:"Training Loss",backgroundColor:"#f87979",data:n.value.y}]}}))),c={responsive:!0,maintainAspectRatio:!1};return l.on("display_update",(e=>{let a=e.data;t.id in a&&(n.value=a[t.id])})),(0,i.bv)((()=>{console.log("requesting progress updates"),l.emit("request_update",{task_id:t.task_id,key:t.id})})),(t,a)=>((0,i.wg)(),(0,i.iD)("div",U,[(0,i._)("div",O,[(0,i._)("h5",null,(0,s.zw)(e.id),1),(0,i.Wm)((0,o.SU)(j.x1),{"chart-options":c,"chart-data":(0,o.SU)(r).value},null,8,["chart-data"])])]))}};const z=E;var F=z;const P={class:"justify-content-center"},Y={class:"row"},Z=["src"];var I={__name:"GalleryViewer",setup(e,{expose:t}){const a=(0,o.iH)(!1),n=(0,o.iH)([]);function s(e){n.value=e}function r(){a.value=!1}function u(){a.value=!0}return t({open:u,close:r,set_images:s}),(e,t)=>a.value?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"foggy",onClick:t[0]||(t[0]=(0,l.iM)((e=>r()),["stop"]))},[(0,i._)("div",P,[(0,i._)("div",Y,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.value,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"col",key:e},[(0,i._)("img",{src:e,class:"img-fluid"},null,8,Z)])))),128))])])])):(0,i.kq)("",!0)}};const K=(0,p.Z)(I,[["__scopeId","data-v-73b85606"]]);var L=K;const M=e=>((0,i.dD)("data-v-2d6bd503"),e=e(),(0,i.Cn)(),e),N={class:"row mb-3"},W={class:"col"},B={class:"row"},A={class:"col align-self-start"},G=M((()=>(0,i._)("div",{class:"col-1 align-self-end"},null,-1))),R=M((()=>(0,i._)("hr",null,null,-1))),V={class:"container"},Q=["src","onClick"],$=M((()=>(0,i._)("hr",null,null,-1)));var J={__name:"GalleryElement",props:{id:String,task_id:String},setup(e){const t=e,a=u(),l=a.socket,n=(0,o.iH)(null),r=4,c=(0,o.qj)({value:[]}),d=(0,i.Fl)((()=>{var e=c.value;return e.reverse()}));function v(e){return"data:image/jpeg;base64, "+e}const g=(0,i.Fl)((()=>c.value.length)),_=(0,i.Fl)((()=>Math.ceil(g.value/r)));function p(e){n.value.set_images([v(d.value[e])]),n.value.open()}return l.on("display_update",(e=>{let a=e.data;t.id in a&&(c.value=a[t.id])})),(0,i.bv)((()=>{console.log("requesting progress updates"),l.emit("request_update",{task_id:t.task_id,key:t.id})})),(t,a)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",N,[(0,i._)("div",W,[(0,i._)("div",B,[(0,i._)("div",A,[(0,i._)("h5",null,(0,s.zw)(e.id),1)]),G]),R,(0,i._)("div",V,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,o.SU)(_),(e=>((0,i.wg)(),(0,i.iD)("div",{class:"row",key:e},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(r,(t=>(0,i._)("div",{class:"col",key:t},[(e-1)*r+(t-1)<(0,o.SU)(g)?((0,i.wg)(),(0,i.iD)("img",{key:0,src:v((0,o.SU)(d)[(e-1)*r+(t-1)]),class:"img-fluid",onClick:a=>p((e-1)*r+(t-1))},null,8,Q)):(0,i.kq)("",!0)]))),64))])))),128))]),$])]),(0,i.Wm)(L,{ref_key:"viewer",ref:n},null,512)],64))}};const X=(0,p.Z)(J,[["__scopeId","data-v-2d6bd503"]]);var ee=X;function te(e,t){return(0,i.wg)(),(0,i.iD)("p",null,"test")}const ae={},le=(0,p.Z)(ae,[["render",te]]);var ne=le;const ie={class:"card mb-2"},se={class:"card-header"},oe={class:"float-start"},re={class:"card-body"},ue={key:0},ce={key:1};var de={__name:"TaskCard",props:{id:{required:!0,type:String},struct:{default:null},active:{default:!1,type:Boolean}},setup(e){const t={ProgressElement:k,LogElement:q,ChartElement:F,GalleryElement:ee};return(a,l)=>((0,i.wg)(),(0,i.iD)("div",ie,[(0,i._)("div",se,[(0,i._)("div",oe,(0,s.zw)(e.id),1)]),(0,i._)("div",re,["new_task"==e.struct?((0,i.wg)(),(0,i.iD)("div",ue,[(0,i.Wm)(ne)])):(0,i.kq)("",!0),null!==e.struct?((0,i.wg)(),(0,i.iD)("div",ce,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.struct,(a=>((0,i.wg)(),(0,i.j4)((0,i.LL)(t[a.component]),{key:a.key,id:a.key,task_id:e.id},null,8,["id","task_id"])))),128))])):(0,i.kq)("",!0)])]))}};const ve=de;var ge=ve;const _e=e=>((0,i.dD)("data-v-68cf6080"),e=e(),(0,i.Cn)(),e),pe={class:"card",style:{width:"10rem"}},fe={class:"card-header"},ke=_e((()=>(0,i._)("div",{class:"float-start"}," Add Task ",-1))),be={class:"float-end"},we={class:"list-group list-group-flush"},me=_e((()=>(0,i._)("li",{class:"list-group-item clickable"},"Prediction",-1)));var ye={__name:"NewTaskMenu",emits:["new_train","new_predict"],setup(e,{expose:t,emit:a}){const l=(0,o.iH)(!1),n=(0,o.iH)(0),r=(0,o.iH)(0);function u(){l.value=!0}function c(){l.value=!1}function d(e,t){n.value=e,r.value=t}function v(){c(),a("new_train")}return t({open:u,set_position:d}),(e,t)=>l.value?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"position-absolute overlay",style:(0,s.j5)({top:r.value+"px",left:n.value+"px"})},[(0,i._)("div",pe,[(0,i._)("div",fe,[ke,(0,i._)("div",be,[(0,i._)("i",{class:"bi bi-x-lg clickable",onClick:t[0]||(t[0]=e=>c())})])]),(0,i._)("ul",we,[(0,i._)("li",{class:"list-group-item clickable",onClick:t[1]||(t[1]=e=>v())},"Training"),me])])],4)):(0,i.kq)("",!0)}};const he=(0,p.Z)(ye,[["__scopeId","data-v-68cf6080"]]);var Se=he,Ce=a(4677);const De=(0,i.uE)('<nav class="navbar fixed-top navbar-expand-sm navbar-light bg-light" aria-label="Volume Segmentation Toolkit"><div class="container-fluid"><div class="navbar-brand">Volume Segmentation Toolkit</div><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar_top" aria-controls="navbar_top" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbar_top"><ul class="navbar-nav ms-auto"><li class="nav-item"><a class="nav-link active" aria-current="page" href="#">Help</a></li></ul></div></div><hr></nav>',1),xe={class:"container-fluid mt-20"},He={class:"row gx-1"},qe={class:"col-3"},je={class:"card"},Te={class:"card-header"},Ue=(0,i._)("div",{class:"float-start"}," Tasks ",-1),Oe={class:"float-end"},Ee={class:"list-group list-group-flush"},ze=["onClick"],Fe={class:"float-end"},Pe=["onClick"],Ye=["onClick"],Ze={class:"col-9"};var Ie={__name:"App",setup(e){const t=u(),a=t.socket,n=(0,Ce.pm)(),r=(0,o.iH)("task"),c=(0,o.iH)(null),d=(0,o.iH)(null);function v(){const e=c.value.getBoundingClientRect().left,t=c.value.getBoundingClientRect().bottom;d.value.set_position(e,t),d.value.open()}const g=(0,o.qj)({value:[{id:"No Connection",struct:[{key:"Nothing to Show",component:"LogElement"}],active:!1}]}),_=(0,o.qj)({value:[]}),p=(0,o.iH)(0),f=(0,i.Fl)((()=>"task"==r.value?p.value<g.value.length?g.value[p.value]:g.value[0]:"utility"==r.value&&p.value<_.value.length?_.value[p.value]:g.value[0]));function k(e,t){"task"==t?(p.value=g.value.findIndex((t=>t.id===e)),r.value="task"):"utility"==t&&(p.value=_.value.findIndex((t=>t.id===e)),r.value="utility")}function b(e){let t=k(e);t>-1&&_.value.splice(t,1)}function w(e){var t="list-group-item pointer clickable";return f.value.id==e.id&&(t+=" border border-primary border-4"),e.active?t+=" active-task":t+=" inactive-task",t}function m(){_.value.some((e=>"New Task"===e.id))||_.value.push({id:"New Task",struct:"new_task",active:!0}),k("New Task","utility")}return a.on("connect",(()=>{console.log("connected"),n("connected")})),a.on("disconnect",(()=>{console.log("disconnected"),n.error("disconnected")})),a.on("tasks",(e=>{g.value=e.data})),a.on("toast",(e=>{var t=e.txt,a=e.type;"success"==a?n.success(t):"error"==a?n.error(t):"info"==a?n.info(t):"warning"==a&&n.warning(t)})),(e,t)=>((0,i.wg)(),(0,i.iD)("html",null,[(0,i._)("body",null,[De,(0,i._)("div",xe,[(0,i._)("div",He,[(0,i._)("div",qe,[(0,i._)("div",je,[(0,i._)("div",Te,[Ue,(0,i._)("div",Oe,[(0,i._)("h3",null,[(0,i._)("i",{class:"bi bi-plus-square-fill clickable",ref_key:"new_task_button",ref:c,onClick:t[0]||(t[0]=(0,l.iM)((e=>v()),["self"]))},null,512)])])]),(0,i._)("ul",Ee,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(_.value,(e=>((0,i.wg)(),(0,i.iD)("li",{class:(0,s.C_)(w(e)),key:e.id,onClick:t=>k(e.id,"utility")},[(0,i.Uk)("* "+(0,s.zw)(e.id)+" * ",1),(0,i._)("div",Fe,[(0,i._)("i",{class:"bi bi-x-lg",onClick:t=>b(e.id)},null,8,Pe)])],10,ze)))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(g.value,(e=>((0,i.wg)(),(0,i.iD)("li",{class:(0,s.C_)(w(e)),key:e.id,onClick:t=>k(e.id,"task")},(0,s.zw)(e.id),11,Ye)))),128))])])]),(0,i._)("div",Ze,[(0,i.Wm)(ge,{is:(0,o.SU)(f),id:(0,o.SU)(f).id,struct:(0,o.SU)(f).struct,active:(0,o.SU)(f).active},null,8,["is","id","struct","active"])])]),(0,i.Wm)(Se,{ref_key:"task_menu",ref:d,onNew_train:t[1]||(t[1]=e=>m())},null,512)])])]))}};const Ke=Ie;var Le=Ke;a(343),a(2166);const Me=(0,n.WB)(),Ne=(0,l.ri)(Le),We={position:"bottom-right"};Ne.use(Me),Ne.use(Ce.ZP,We),Ne.mount("#app")}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var i=t[l]={exports:{}};return e[l](i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,l,n,i){if(!l){var s=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],i=e[c][2];for(var o=!0,r=0;r<l.length;r++)(!1&i||s>=i)&&Object.keys(a.O).every((function(e){return a.O[e](l[r])}))?l.splice(r--,1):(o=!1,i<s&&(s=i));if(o){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[l,n,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,i,s=l[0],o=l[1],r=l[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(r)var c=r(a)}for(t&&t(l);u<s.length;u++)i=s[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},l=self["webpackChunkweb"]=self["webpackChunkweb"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(8266)}));l=a.O(l)})();
//# sourceMappingURL=app.c1af603a.js.map