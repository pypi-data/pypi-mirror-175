(function(){"use strict";var e={6896:function(e,t,i){var n=i(9242),a=i(1020),s=(i(2262),i(4506),i(7658),i(3396)),l=i(7139),o=i(4870),r=i(2066);const c=(0,a.Q_)("vsui_store",(()=>{const e=(0,r.ZP)({extraHeaders:{type:"web"}}),t=(0,o.iH)("/");function i(i){t.value=i,e.emit("web_working_dir",i)}return e.on("server_working_dir",(e=>{t.value=e})),{socket:e,working_directory:t,set_working_directory:i}})),u={class:"row mb-3"},d={class:"col"},v={class:"progress"},_=["aria-valuenow"];var p={__name:"ProgressElement",props:{id:String,task_id:String},setup(e){const t=e,i=c(),n=i.socket,a=(0,o.qj)({value:{current:0,max:1}}),r=(0,s.Fl)((()=>a.value.current/a.value.max*100));return n.on("progress_data_update",(e=>{t.task_id in e&&t.id in e[t.task_id]&&(a.value=e[t.task_id][t.id])})),(0,s.bv)((()=>{n.emit("request_update",{task_id:t.task_id,key:t.id})})),(t,i)=>((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",d,[(0,s._)("h5",null,(0,l.zw)(e.id)+" - "+(0,l.zw)(a.value.current)+" / "+(0,l.zw)(a.value.max),1),(0,s._)("div",v,[(0,s._)("div",{class:"progress-bar",role:"progressbar",id:"epoch-progress-bar",style:(0,l.j5)({width:(0,o.SU)(r)+"%"}),"aria-valuenow":(0,o.SU)(r),"aria-valuemin":"0","aria-valuemax":"100"},null,12,_)])])]))}},g=i(89);const b=(0,g.Z)(p,[["__scopeId","data-v-5feaa082"]]);var m=b;const f=e=>((0,s.dD)("data-v-64816b98"),e=e(),(0,s.Cn)(),e),k={class:"row mb-3"},w={class:"col"},y={class:"row"},h={class:"col align-self-start"},S={class:"col-1 align-self-end"},D=f((()=>(0,s._)("hr",null,null,-1))),x=f((()=>(0,s._)("hr",null,null,-1)));var q={__name:"LogElement",props:{id:String,task_id:String},setup(e){const t=e,i=c(),n=i.socket,a=(0,o.iH)(!1);function r(){a.value=!a.value}const u=(0,s.Fl)((()=>a.value?"":"log")),d=(0,s.Fl)((()=>a.value?"bi bi-chevron-down":"bi bi-chevron-up")),v=(0,s.Fl)((()=>{var e=_.value;return e.reverse()})),_=(0,o.qj)({value:["nothing to show"]});return n.on("log_data_update",(e=>{t.task_id in e&&t.id in e[t.task_id]&&(_.value=e[t.task_id][t.id])})),(0,s.bv)((()=>{n.emit("request_update",{task_id:t.task_id,key:t.id})})),(t,i)=>((0,s.wg)(),(0,s.iD)("div",k,[(0,s._)("div",w,[(0,s._)("div",y,[(0,s._)("div",h,[(0,s._)("h5",null,(0,l.zw)(e.id),1)]),(0,s._)("div",S,[(0,s._)("h5",null,[(0,s._)("i",{class:(0,l.C_)((0,o.SU)(d)),onClick:i[0]||(i[0]=e=>r()),style:{cursor:"pointer"}},null,2)])])]),D,(0,s._)("div",{class:(0,l.C_)((0,o.SU)(u))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,o.SU)(v),(e=>((0,s.wg)(),(0,s.iD)("p",{key:e},(0,l.zw)(e),1)))),128))],2),x])]))}};const C=(0,g.Z)(q,[["__scopeId","data-v-64816b98"]]);var H=C,j=i(6294),U=i(741);const z={class:"row mb-3"},F={class:"col"};var T={__name:"ChartElement",props:{id:String,task_id:String},setup(e){const t=e;U.kL.register(U.Dx,U.u,U.De,U.jn,U.f$,U.od,U.uw);const i=c(),n=i.socket,a=(0,o.qj)({value:{x:[],y:[]}}),r=(0,s.Fl)((()=>({value:{labels:a.value.x,datasets:[{label:"Training Loss",backgroundColor:"#f87979",data:a.value.y}]}}))),u={responsive:!0,maintainAspectRatio:!1};return n.on("chart_data_update",(e=>{t.task_id in e&&t.id in e[t.task_id]&&(a.value=e[t.task_id][t.id])})),(0,s.bv)((()=>{n.emit("request_update",{task_id:t.task_id,key:t.id})})),(t,i)=>((0,s.wg)(),(0,s.iD)("div",z,[(0,s._)("div",F,[(0,s._)("h5",null,(0,l.zw)(e.id),1),(0,s.Wm)((0,o.SU)(j.x1),{"chart-options":u,"chart-data":(0,o.SU)(r).value},null,8,["chart-data"])])]))}};const M=T;var Y=M;const I={class:"row"},O={class:"col"},L=["src"],Z={class:"col"},K=["src"],$={class:"col"},E=["src"];var P={__name:"GalleryViewer",setup(e,{expose:t}){const i=(0,o.iH)(!1),a=(0,o.iH)(""),l=(0,o.iH)([]);function r(e){a.value=e}function c(){i.value=!1}function u(){i.value=!0}function d(e){l.value=e}return t({open:u,close:c,set_images:r,set_reference:d}),(e,t)=>i.value?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"foggy d-flex justify-content-center align-items-center",onClick:t[0]||(t[0]=(0,n.iM)((e=>c()),["stop"]))},[(0,s._)("div",I,[(0,s._)("div",O,[(0,s._)("img",{src:a.value,class:"img-fluid"},null,8,L)]),(0,s._)("div",Z,[(0,s._)("img",{src:l.value[1],class:"img-fluid"},null,8,K)]),(0,s._)("div",$,[(0,s._)("img",{src:l.value[0],class:"img-fluid"},null,8,E)])])])):(0,s.kq)("",!0)}};const B=(0,g.Z)(P,[["__scopeId","data-v-40e9d1e2"]]);var R=B;const A=e=>((0,s.dD)("data-v-15f6f784"),e=e(),(0,s.Cn)(),e),W={class:"row mb-3"},N={class:"col"},V={class:"row"},G={class:"col align-self-start"},Q=A((()=>(0,s._)("div",{class:"col-1 align-self-end"},null,-1))),J=A((()=>(0,s._)("hr",null,null,-1))),X={class:"container"},ee=["src","onClick"],te=A((()=>(0,s._)("hr",null,null,-1)));var ie={__name:"GalleryElement",props:{id:String,task_id:String},setup(e){const t=e,i=c(),n=i.socket,a=(0,o.iH)(null),r=4,u=(0,o.qj)({value:[]}),d=(0,o.iH)([]),v=(0,s.Fl)((()=>{var e=u.value;return e.reverse()}));function _(e){return"data:image/jpeg;base64, "+e}const p=(0,s.Fl)((()=>u.value.length)),g=(0,s.Fl)((()=>Math.ceil(p.value/r)));function b(e){a.value.set_images(_(v.value[e])),a.value.set_reference(d.value.map(_)),a.value.open()}return n.on("gallery_data_update",(e=>{t.task_id in e&&t.id in e[t.task_id]&&(u.value=e[t.task_id][t.id])})),n.on("gallery_reference_update",(e=>{t.task_id in e&&t.id in e[t.task_id]&&(d.value=e[t.task_id][t.id],console.log("have some reference images"))})),(0,s.bv)((()=>{n.emit("request_update",{task_id:t.task_id,key:t.id})})),(t,i)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",W,[(0,s._)("div",N,[(0,s._)("div",V,[(0,s._)("div",G,[(0,s._)("h5",null,(0,l.zw)(e.id),1)]),Q]),J,(0,s._)("div",X,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,o.SU)(g),(e=>((0,s.wg)(),(0,s.iD)("div",{class:"row",key:e},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(r,(t=>(0,s._)("div",{class:"col",key:t},[(e-1)*r+(t-1)<(0,o.SU)(p)?((0,s.wg)(),(0,s.iD)("img",{key:0,src:_((0,o.SU)(v)[(e-1)*r+(t-1)]),class:"img-fluid",onClick:i=>b((e-1)*r+(t-1))},null,8,ee)):(0,s.kq)("",!0)]))),64))])))),128))]),te])]),(0,s.Wm)(R,{ref_key:"viewer",ref:a},null,512)],64))}};const ne=(0,g.Z)(ie,[["__scopeId","data-v-15f6f784"]]);var ae=ne;const se={class:"card mb-2"},le={class:"card-header"},oe={class:"float-start"},re={class:"card-body"};var ce={__name:"TaskCard",props:{id:{required:!0,type:String},struct:{default:null},active:{default:!1,type:Boolean}},setup(e){const t={ProgressElement:m,LogElement:H,ChartElement:Y,GalleryElement:ae};function i(){}return(n,a)=>((0,s.wg)(),(0,s.iD)("div",se,[(0,s._)("div",le,[(0,s._)("div",oe,(0,l.zw)(e.id),1),(0,s._)("div",{class:"float-end"},[(0,s._)("i",{class:"bi bi-download clickable",onClick:i})])]),(0,s._)("div",re,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.struct,(i=>((0,s.wg)(),(0,s.j4)((0,s.LL)(t[i.component]),{key:i.key,id:i.key,task_id:e.id},null,8,["id","task_id"])))),128))])]))}};const ue=ce;var de=ue;const ve=e=>((0,s.dD)("data-v-0f5e10ea"),e=e(),(0,s.Cn)(),e),_e={class:"row align-items-center g-2 mt-2 pb-4"},pe={class:"col"},ge={class:"input-group"},be=ve((()=>(0,s._)("span",{class:"input-group-text",style:{width:"20%"},id:"task_id_label",name:"task_id_label"},"Task ID",-1))),me=["aria-describedby"],fe={class:"input-group-text"},ke={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},we=ve((()=>(0,s._)("span",{class:"visually-hidden"},"Editing...",-1))),ye=[we],he={key:1,class:"bi bi-check"},Se={key:2,class:"bi bi-exclamation-lg"},De=ve((()=>(0,s._)("div",{class:"col"},[(0,s._)("span",{id:"task_id_help",class:"form-text"}," Must be Unique ")],-1))),xe={class:"row align-items-center g-2"},qe={class:"error"};var Ce={__name:"TaskIDInput",props:{process_id:String},emits:["new_task_id"],setup(e,{emit:t}){const i=e,a=c(),r=a.socket,u=(0,o.iH)("");var d=1200,v=null;const _=(0,o.iH)("success"),p=(0,o.iH)("");function g(){let e=new Date,t=String(e.getFullYear())+String(e.getMonth()+1)+String(e.getDate());var n=String(e.getHours())+String(e.getMinutes());let a=t+"_"+n;u.value=i.process_id+"_"+a,b(u.value)?r.emit("check_task_id_unique",u.value):(p.value=f["id"],_.value="error")}function b(e){let t=m["id"];return t.test(e)}(0,s.YP)(u,(e=>{clearTimeout(v),_.value="editing",v=setTimeout((()=>{b(e)?r.emit("check_task_id_unique",e):(p.value=f["id"],_.value="error")}),d)})),(0,s.ic)((()=>{g()})),(0,s.bv)((()=>{g()})),r.on("task_id_uniqueness",(e=>{"unique"==e?(t("new_task_id",u.value),p.value="",_.value="success"):(p.value="Not Unique",_.value="error")}));const m={id:/^[\w\-_]+$/},f={id:"Required, Must only contain characters { A-Z - _ }."};return(e,t)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",_e,[(0,s._)("div",pe,[(0,s._)("div",ge,[be,(0,s.wy)((0,s._)("input",{type:"text",id:"task_id_input",name:"task_id_input",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),"aria-describedby":e.task_id_help},null,8,me),[[n.nr,u.value]]),(0,s._)("span",fe,["editing"==_.value?((0,s.wg)(),(0,s.iD)("div",ke,ye)):(0,s.kq)("",!0),"success"==_.value?((0,s.wg)(),(0,s.iD)("i",he)):(0,s.kq)("",!0),"error"==_.value?((0,s.wg)(),(0,s.iD)("i",Se)):(0,s.kq)("",!0)])])]),De]),(0,s._)("div",xe,[(0,s._)("p",qe,(0,l.zw)(p.value),1)])],64))}};const He=(0,g.Z)(Ce,[["__scopeId","data-v-0f5e10ea"]]);var je=He;const Ue=e=>((0,s.dD)("data-v-7e2b9d0b"),e=e(),(0,s.Cn)(),e),ze={class:"row align-items-center g-2 mb-2"},Fe={class:"col"},Te={class:"input-group"},Me=["id","name"],Ye=["id","name","aria-describedby"],Ie={class:"input-group-text"},Oe={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},Le=Ue((()=>(0,s._)("span",{class:"visually-hidden"},"Editing...",-1))),Ze=[Le],Ke={key:1,class:"bi bi-check"},$e={key:2,class:"bi bi-exclamation-lg"},Ee={class:"col"},Pe=["id"],Be={key:0,class:"row align-items-center g-2"},Re={class:"error"};var Ae={__name:"SettingText",props:{process_id:String,id:String,name:String,help:String,validation:String},setup(e){const t=e,i=c(),a=i.socket,r=(0,o.iH)(""),u=(0,s.Fl)((()=>t.id+"_help_inline")),d=(0,s.Fl)((()=>t.id+"_addon"));var v=500,_=null;const p=(0,o.iH)("success"),g=(0,o.iH)("");function b(e){m(e)?(a.emit("setting_change",{process_id:t.process_id,setting_id:t.id,data:e}),p.value="success",g.value=""):(p.value="error",g.value=k[t.validation])}function m(e){let i=f[t.validation];return i.test(e)}(0,s.YP)(r,(e=>{clearTimeout(_),p.value="editing",_=setTimeout((()=>{b(e)}),v)})),a.emit("request_setting",{process_id:t.process_id,setting_id:t.id}),a.on("setting_update",(e=>{t.process_id in e&&t.id in e[t.process_id]&&(r.value=e[t.process_id][t.id])}));const f={filename:/^[\w\-_]*$/,"required filename":/^[\w\-_]+$/,filepath:/^(^\/[\w\-_]+|(?![\s\S]))$/,"required filepath":/^\/[\w\-_]+$/,integer:/^[0-9]*$/,"required integer":/^[0-9]+$/,float:/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+|^(?![\s\S]))$/,"required float":/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+)$/},k={filename:"Must only contain characters { A-Z - _ }.","required filename":"Required, Must only contain characters { A-Z - _ }.",filepath:"Must start with / and only contain characters { A-Z - _ }.","required filepath":"Required, Must start with / and only contain characters { A-Z - _ }.",integer:"Must be an Integer.","required integer":"Required, Must be an Integer.",float:"Must be a number. Scientific notation e.g. 6.022e-23 is supported.","required float":"Required, Must be a number. Scientific notation e.g. 6.022e-23 is supported."};return(t,i)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",ze,[(0,s._)("div",Fe,[(0,s._)("div",Te,[(0,s._)("span",{class:"input-group-text",style:{width:"50%"},id:(0,o.SU)(d),name:e.name},(0,l.zw)(e.name),9,Me),(0,s.wy)((0,s._)("input",{type:"text",id:e.id,name:e.name,class:"form-control","onUpdate:modelValue":i[0]||(i[0]=e=>r.value=e),"aria-describedby":(0,o.SU)(u)},null,8,Ye),[[n.nr,r.value]]),(0,s._)("span",Ie,["editing"==p.value?((0,s.wg)(),(0,s.iD)("div",Oe,Ze)):(0,s.kq)("",!0),"success"==p.value?((0,s.wg)(),(0,s.iD)("i",Ke)):(0,s.kq)("",!0),"error"==p.value?((0,s.wg)(),(0,s.iD)("i",$e)):(0,s.kq)("",!0)])])]),(0,s._)("div",Ee,[(0,s._)("span",{id:(0,o.SU)(u),class:"form-text"},(0,l.zw)(e.help),9,Pe)])]),""!=g.value?((0,s.wg)(),(0,s.iD)("div",Be,[(0,s._)("p",Re,(0,l.zw)(g.value),1)])):(0,s.kq)("",!0)],64))}};const We=(0,g.Z)(Ae,[["__scopeId","data-v-7e2b9d0b"]]);var Ne=We;const Ve=e=>((0,s.dD)("data-v-7c39d40f"),e=e(),(0,s.Cn)(),e),Ge={class:"row align-items-center g-2 mb-2"},Qe={class:"col"},Je={class:"input-group"},Xe=["id","name"],et=["id","name","aria-describedby"],tt={class:"input-group-text"},it={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},nt=Ve((()=>(0,s._)("span",{class:"visually-hidden"},"Editing...",-1))),at=[nt],st={key:1,class:"bi bi-check"},lt={key:2,class:"bi bi-exclamation-lg"},ot={class:"col"},rt=["id"],ct={key:0,class:"row align-items-center g-2"},ut={class:"error"};var dt={__name:"SettingNumber",props:{process_id:String,id:String,default:String,name:String,help:String,validation:String},setup(e){const t=e,i=c(),a=i.socket,r=(0,o.iH)(""),u=(0,s.Fl)((()=>t.id+"_help_inline")),d=(0,s.Fl)((()=>t.id+"_addon"));var v=500,_=null;const p=(0,o.iH)("success"),g=(0,o.iH)("");function b(e){m(e)?(a.emit("setting_change",{process_id:t.process_id,setting_id:t.id,data:e}),p.value="success",g.value=""):(p.value="error",g.value=k[t.validation])}function m(e){let i=f[t.validation];return i.test(e)}(0,s.YP)(r,(e=>{clearTimeout(_),p.value="editing",_=setTimeout((()=>{b(e)}),v)})),a.emit("request_setting",{process_id:t.process_id,setting_id:t.id}),a.on("setting_update",(e=>{let i=e;t.process_id in i&&t.id in i[t.process_id]&&(r.value=i[t.process_id][t.id])}));const f={integer:/^[0-9]*$/,"required integer":/^[0-9]+$/,float:/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+|^(?![\s\S]))$/,"required float":/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+)$/},k={integer:"Must be an Integer.","required integer":"Required, Must be an Integer.",float:"Must be a number. Scientific notation e.g. 6.022e-23 is supported.","required float":"Required, Must be a number. Scientific notation e.g. 6.022e-23 is supported."};return(t,i)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Ge,[(0,s._)("div",Qe,[(0,s._)("div",Je,[(0,s._)("span",{class:"input-group-text",style:{width:"50%"},id:(0,o.SU)(d),name:e.name},(0,l.zw)(e.name),9,Xe),(0,s.wy)((0,s._)("input",{type:"number",id:e.id,name:e.name,class:"form-control","onUpdate:modelValue":i[0]||(i[0]=e=>r.value=e),"aria-describedby":(0,o.SU)(u)},null,8,et),[[n.nr,r.value,void 0,{number:!0}]]),(0,s._)("span",tt,["editing"==p.value?((0,s.wg)(),(0,s.iD)("div",it,at)):(0,s.kq)("",!0),"success"==p.value?((0,s.wg)(),(0,s.iD)("i",st)):(0,s.kq)("",!0),"error"==p.value?((0,s.wg)(),(0,s.iD)("i",lt)):(0,s.kq)("",!0)])])]),(0,s._)("div",ot,[(0,s._)("span",{id:(0,o.SU)(u),class:"form-text"},(0,l.zw)(e.help),9,rt)])]),""!=g.value?((0,s.wg)(),(0,s.iD)("div",ct,[(0,s._)("p",ut,(0,l.zw)(g.value),1)])):(0,s.kq)("",!0)],64))}};const vt=(0,g.Z)(dt,[["__scopeId","data-v-7c39d40f"]]);var _t=vt;const pt={class:"row g-2 align-items-center mb-2"},gt={class:"col"},bt={class:"input-group"},mt=["id","name"],ft=["id","name","aria-describedby"],kt=["value"],wt=(0,s._)("span",{class:"input-group-text"},[(0,s._)("i",{class:"bi bi-check"})],-1),yt={class:"col"},ht=["id"];var St={__name:"SettingDropdown",props:{process_id:String,id:String,default:String,help:String,name:String,options:Object,selected:String},setup(e){const t=e,i=c(),a=i.socket,r=(0,o.iH)(""),u=(0,s.Fl)((()=>t.id+"_help_inline")),d=(0,s.Fl)((()=>t.id+"_addon"));return a.on("setting_update",(e=>{let i=e;t.process_id in i&&t.id in i[t.process_id]&&(r.value=i[t.process_id][t.id])})),(0,s.bv)((()=>{a.emit("request_setting",{process_id:t.process_id,setting_id:t.id})})),(t,i)=>((0,s.wg)(),(0,s.iD)("div",pt,[(0,s._)("div",gt,[(0,s._)("div",bt,[(0,s._)("span",{class:"input-group-text",style:{width:"50%"},id:(0,o.SU)(d),name:(0,o.SU)(d)},(0,l.zw)(e.name),9,mt),(0,s.wy)((0,s._)("select",{class:"form-select",id:e.id,name:e.name,"onUpdate:modelValue":i[0]||(i[0]=e=>r.value=e),"aria-describedby":t.downsample_help_inline},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.options,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e.value,value:e.value},(0,l.zw)(e.label),9,kt)))),128))],8,ft),[[n.bM,r.value]]),wt])]),(0,s._)("div",yt,[(0,s._)("span",{id:(0,o.SU)(u),class:"form-text"},(0,l.zw)(e.help),9,ht)])]))}};const Dt=St;var xt=Dt;const qt=e=>((0,s.dD)("data-v-da076340"),e=e(),(0,s.Cn)(),e),Ct={class:"card"},Ht={class:"card-header d-flex justify-content-center"},jt={class:"btn-group p-2",role:"group","aria-label":"Nav Buttons"},Ut=["disabled"],zt=qt((()=>(0,s._)("i",{class:"bi bi-chevron-left"},null,-1))),Ft=[zt],Tt=["disabled"],Mt=qt((()=>(0,s._)("i",{class:"bi bi-chevron-right"},null,-1))),Yt=[Mt],It={class:"input-group p-2"},Ot=["onKeyup"],Lt=qt((()=>(0,s._)("i",{class:"bi bi-search"},null,-1))),Zt=[Lt],Kt=qt((()=>(0,s._)("i",{class:"bi bi-arrow-90deg-up"},null,-1))),$t=[Kt],Et=qt((()=>(0,s._)("i",{class:"bi bi-house"},null,-1))),Pt=[Et],Bt=qt((()=>(0,s._)("i",{class:"bi bi-x-lg"},null,-1))),Rt=[Bt],At={key:0,class:"card-body"},Wt={class:"list-view"},Nt=["onClick"],Vt={key:1,class:"card-body overflow-scroll"},Gt={class:"d-flex flex-wrap"},Qt=["onClick"],Jt={class:"col"},Xt={class:"row text-center"},ei={class:"row text-center d-flex flex-wrap",style:{width:"7rem"}},ti={class:"card-footer text-muted inline align-middle d-flex justify-content-between"},ii=["disabled"];var ni={__name:"FileBrowserCard",emits:["close, user_selected"],setup(e,{emit:t}){const i=c(),a=i.socket,r=i.working_directory,u=(0,o.iH)("grid"),d=(0,o.iH)(""),v=(0,o.iH)([]),_=(0,o.iH)([]),p=(0,o.iH)(""),g=(0,o.iH)(""),b=(0,o.iH)(""),m=(0,o.iH)([]),f=(0,s.Fl)((()=>0==v.value.length||p.value==v.value.at(-1))),k=(0,s.Fl)((()=>0==_.value.length||p.value==_.value.at(-1))),w=(0,s.Fl)((()=>""==g.value));function y(){console.log(_.value),k.value?b.value="cannot go back":(v.value.push(p.value),q(_.value.at(-1)),_.value.pop())}function h(){console.log(v.value),f.value?b.value="Cannot go Forward":(_.value.push(p.value),q(v.value.at(-1)),v.value.pop())}function S(){q(r)}function D(){let e=p.value.split("/");""==e.at(-1)&&e.pop(),e.pop();let t=e.join("/");""==t&&(t="/"),console.log(t),q(t)}function x(){q(d.value)}function q(e){a.emit("request_directory_contents",e)}function C(e){g.value!=e.path?g.value=e.path:q(e.path)}function H(e){return g.value==e.path?"p-2 selected":"p-2"}function j(){console.log("close"),t("close")}function U(){t("user_selected",g.value)}(0,s.bv)((()=>{q(r)})),a.on("directory_contents",(e=>{"success"==e.status?(b.value="",""!=p.value&&_.value.push(p.value),p.value=e.path,g.value=e.path,m.value=e.contents):b.value=e.status})),(0,s.YP)(p,(e=>{d.value=e}));const z={directory:"bi bi-folder-fill file clickable","directory-empty":"bi bi-folder file clickable","file-generic":"bi bi-file-earmark file clickable","file-data":"bi bi-file-earmark-image file clickable","file-yaml":"bi bi-filetype-yml file clickable"};return(e,t)=>((0,s.wg)(),(0,s.iD)("div",Ct,[(0,s._)("div",Ht,[(0,s._)("div",jt,[(0,s._)("button",{type:"button",class:"btn btn-outline-primary",disabled:e.no_history_exists,onClick:y},Ft,8,Ut),(0,s._)("button",{type:"button",class:"btn btn-outline-primary",disabled:e.no_future_exists,onClick:h},Yt,8,Tt)]),(0,s._)("div",It,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),type:"text",class:"form-control","aria-label":"filepath",onFocus:t[1]||(t[1]=e=>e.target.select()),onKeyup:(0,n.D2)(x,["enter"])},null,40,Ot),[[n.nr,d.value]]),(0,s._)("button",{class:"btn btn-outline-primary",type:"button",onClick:x},Zt)]),(0,s._)("div",{class:"btn-group p-2",role:"group","aria-label":"Right nav Buttons"},[(0,s._)("button",{type:"button",class:"btn btn-outline-primary",onClick:D},$t),(0,s._)("button",{type:"button",class:"btn btn-outline-primary",onClick:S},Pt),(0,s._)("button",{type:"button",class:"btn btn-outline-secondary p-2",onClick:j},Rt)])]),"list"==u.value?((0,s.wg)(),(0,s.iD)("div",At,[(0,s._)("div",Wt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.value,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.path,class:(0,l.C_)(H(e)),onClick:t=>C(e)},(0,l.zw)(e.path),11,Nt)))),128))])])):(0,s.kq)("",!0),"grid"==u.value?((0,s.wg)(),(0,s.iD)("div",Vt,[(0,s._)("div",Gt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.value,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.path,class:(0,l.C_)(H(e)),onClick:t=>C(e)},[(0,s._)("div",Jt,[(0,s._)("div",Xt,[(0,s._)("i",{class:(0,l.C_)(z[e.type]),style:{"font-size":"6rem"}},null,2)]),(0,s._)("div",ei,[(0,s._)("p",null,(0,l.zw)("/"+e.path.split("/").at(-1)),1)])])],10,Qt)))),128))])])):(0,s.kq)("",!0),(0,s._)("div",ti,[(0,s._)("b",null,(0,l.zw)(g.value),1),(0,s._)("b",null,(0,l.zw)(b.value),1),(0,s._)("button",{type:"button",class:"btn btn-outline-primary",disabled:(0,o.SU)(w),onClick:U},"Select",8,ii)])]))}};const ai=(0,g.Z)(ni,[["__scopeId","data-v-da076340"]]);var si=ai;const li={key:0,class:"foggy d-flex justify-content-center align-items-center"};var oi={__name:"FileBrowserModal",emits:["user_selected"],setup(e,{expose:t,emit:i}){const n=(0,o.iH)(!1);function a(){n.value=!1}function l(){n.value=!0}function r(){n.value?a():l()}function c(e){console.log(e),i("user_selected",e),a()}return t({open:l,close:a,toggle:r}),(e,t)=>n.value?((0,s.wg)(),(0,s.iD)("div",li,[(0,s.Wm)(si,{onClose:a,onUser_selected:c})])):(0,s.kq)("",!0)}};const ri=oi;var ci=ri;const ui={class:"row align-items-center g-2 mb-2"},di={class:"col"},vi=["id","name"],_i=["id","name","aria-describedby"],pi=["id","name"],gi={class:"col"},bi=["id"];var mi={__name:"FileSelect",props:{process_id:String,id:String,name:String,help:String,count:Number,validation:String},setup(e){const t=e,i=c(),n=i.socket,a=(0,o.iH)(null),r=(0,o.iH)("");function u(){a.value.open()}function d(e){r.value.includes(e)||null===e||(r.value=e,v(r.value))}function v(e){n.emit("setting_change",{process_id:t.process_id,setting_id:t.id,data:e})}return(t,i)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",ui,[(0,s._)("div",di,[(0,s._)("div",{class:"input-group",onClick:u},[(0,s._)("span",{class:"input-group-text",style:{width:"25%"},id:t.addon_id,name:e.name},(0,l.zw)(e.name),9,vi),(0,s._)("button",{type:"Button",style:{width:"15%"},id:e.id+"btn",name:e.name,class:"form-control","aria-describedby":t.help_id},"Browse",8,_i),(0,s._)("span",{class:"input-group-text filename",style:{width:"60%"},id:t.addon_id+"post",name:e.name},(0,l.zw)(r.value),9,pi)])]),(0,s._)("div",gi,[(0,s._)("span",{id:t.help_id,class:"form-text"},(0,l.zw)(e.help),9,bi)])]),(0,s.Wm)(ci,{ref_key:"file_browser",ref:a,onUser_selected:d},null,512)],64))}};const fi=(0,g.Z)(mi,[["__scopeId","data-v-2979908c"]]);var ki=fi;const wi={class:"pb-4"};var yi={__name:"SettingSectionArgs",props:{struct:Object,id:String},setup(e){const t={text:Ne,number:_t,select:xt,file_select:ki};return(i,n)=>((0,s.wg)(),(0,s.iD)("div",wi,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.struct,(i=>((0,s.wg)(),(0,s.j4)((0,s.LL)(t[i.component]),{key:i.id,process_id:e.id,id:i.id,name:i.name,help:i.help,validation:i.validation,options:i.options,count:i.count},null,8,["process_id","id","name","help","validation","options","count"])))),128))]))}};const hi=yi;var Si=hi;const Di={class:"pb-4"},xi=(0,s._)("hr",null,null,-1);var qi={__name:"SettingSectionBasic",props:{header:String,struct:Object,id:String},setup(e){const t={text:Ne,number:_t,select:xt,file_select:ki};return(i,n)=>((0,s.wg)(),(0,s.iD)("div",Di,[(0,s._)("h5",null,(0,l.zw)(e.header),1),xi,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.struct,(i=>((0,s.wg)(),(0,s.j4)((0,s.LL)(t[i.component]),{key:i.id,process_id:e.id,id:i.id,name:i.name,help:i.help,validation:i.validation,options:i.options,count:i.count},null,8,["process_id","id","name","help","validation","options","count"])))),128))]))}};const Ci=qi;var Hi=Ci;const ji={class:"pb-4"},Ui={class:"row"},zi={class:"col align-self-start"},Fi={class:"col-1 align-self-end"},Ti=(0,s._)("hr",null,null,-1),Mi={key:0};var Yi={__name:"SettingSectionAdvanced",props:{header:String,struct:Object,id:String},setup(e){const t={text:Ne,number:_t,select:xt,file_select:ki},i=(0,o.iH)(!1);function n(){i.value=!i.value}const a={true:"bi bi-chevron-down",false:"bi bi-chevron-up"};return(o,r)=>((0,s.wg)(),(0,s.iD)("div",ji,[(0,s._)("div",Ui,[(0,s._)("div",zi,[(0,s._)("h5",{onClick:r[0]||(r[0]=e=>n()),style:{cursor:"pointer"}},(0,l.zw)(e.header),1)]),(0,s._)("div",Fi,[(0,s._)("h5",null,[(0,s._)("i",{class:(0,l.C_)(a[i.value]),onClick:r[1]||(r[1]=e=>n()),style:{cursor:"pointer"}},null,2)])])]),Ti,((0,s.wg)(),(0,s.j4)(s.Ob,null,[i.value?((0,s.wg)(),(0,s.iD)("div",Mi,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.struct,(i=>((0,s.wg)(),(0,s.j4)((0,s.LL)(t[i.component]),{key:i.id,process_id:e.id,id:i.id,name:i.name,help:i.help,options:i.options,validation:i.validation,count:i.count,nest:i},null,8,["process_id","id","name","help","options","validation","count","nest"])))),128))])):(0,s.kq)("",!0)],1024))]))}};const Ii=Yi;var Oi=Ii;const Li={class:"card mb-2"},Zi={class:"card-header"},Ki={class:"float-start"},$i={class:"card-body"},Ei={class:"row"},Pi={class:"col"},Bi={key:0,class:"spinner-border text-primary",role:"status"},Ri=(0,s._)("span",{class:"visually-hidden"},"Loading...",-1),Ai=[Ri];var Wi={__name:"SettingsCard",props:{id:{required:!0,type:String},settings:{default:null},active:{default:!1,type:Boolean},args:{default:null}},emits:["settings_completed"],setup(e,{emit:t}){const i=e,n=c(),a=n.socket,r={args:Si,basic:Hi,advanced:Oi},u=(0,o.iH)(""),d=(0,o.iH)(!1),v=(0,s.Fl)((()=>_(i.settings)));function _(e){let t=e.slice(1).findIndex(p)+1;return 0==t?[{header:e[0]["header"],type:e[0]["type"],struct:e.slice(1)}]:[{header:e[0]["header"],type:e[0]["type"],struct:e.slice(1,t)}].concat(_(e.slice(t)))}function p(e){return"section"==e["component"]}function g(e){u.value=e}function b(){a.emit("launch_process",{process_id:i.id,task_id:u.value}),d.value=!0}return a.on("server_added_task",(e=>{console.log(e),e==u.value&&(d.value=!1,t("settings_completed",u.value,i.id))})),(t,i)=>((0,s.wg)(),(0,s.iD)("div",Li,[(0,s._)("div",Zi,[(0,s._)("div",Ki,(0,l.zw)(e.id),1)]),(0,s._)("div",$i,[(0,s.Wm)(je,{process_id:e.id,onNew_task_id:g},null,8,["process_id"]),(0,s.Wm)(Si,{struct:e.args,id:e.id},null,8,["struct","id"]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,o.SU)(v),(t=>((0,s.wg)(),(0,s.j4)((0,s.LL)(r[t.type]),{key:t.header,struct:t.struct,id:e.id,header:t.header},null,8,["struct","id","header"])))),128)),(0,s._)("div",Ei,[(0,s._)("div",{class:"col"},[(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:b},"Start")]),(0,s._)("div",Pi,[1==d.value?((0,s.wg)(),(0,s.iD)("div",Bi,Ai)):(0,s.kq)("",!0)])])])]))}};const Ni=Wi;var Vi=Ni;const Gi=e=>((0,s.dD)("data-v-69a3eff5"),e=e(),(0,s.Cn)(),e),Qi={class:"card",style:{width:"18rem"}},Ji={class:"card-header"},Xi=Gi((()=>(0,s._)("div",{class:"float-start"}," Add Task ",-1))),en={class:"float-end"},tn={class:"list-group list-group-flush"},nn=["onClick"];var an={__name:"NewTaskMenu",emits:["process_chosen"],setup(e,{expose:t,emit:i}){const n=(0,o.iH)(!1),a=(0,o.iH)(0),r=(0,o.iH)(0),c=(0,o.qj)({value:[]});function u(e){n.value=!0,c.value=e}function d(){n.value=!1}function v(e){n.value?d():u(e)}function _(e,t){a.value=e,r.value=t}function p(e){d(),i("process_chosen",e)}return t({open:u,toggle:v,set_position:_}),(e,t)=>n.value?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"position-absolute overlay",style:(0,l.j5)({top:r.value+"px",left:a.value+"px"})},[(0,s._)("div",Qi,[(0,s._)("div",Ji,[Xi,(0,s._)("div",en,[(0,s._)("i",{class:"bi bi-x-lg clickable",onClick:t[0]||(t[0]=e=>d())})])]),(0,s._)("ul",tn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.value,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"list-group-item clickable",key:e.name,onClick:t=>p(e)},(0,l.zw)(e.name),9,nn)))),128))])])],4)):(0,s.kq)("",!0)}};const sn=(0,g.Z)(an,[["__scopeId","data-v-69a3eff5"]]);var ln=sn,on=i(4677);const rn={class:"navbar fixed-top navbar-expand-sm navbar-light bg-light","aria-label":"Volume Segmentation Toolkit"},cn={class:"container-fluid"},un=(0,s._)("div",{class:"navbar-brand"},"Volume Segmentation Toolkit",-1),dn=(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar_top","aria-controls":"navbar_top","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1),vn={class:"collapse navbar-collapse",id:"navbar_top"},_n={class:"navbar-nav ms-auto"},pn=(0,s._)("hr",null,null,-1),gn={class:"container-fluid mt-20"},bn={class:"row gx-1"},mn={class:"col-3"},fn={class:"card"},kn={class:"card-header d-flex justify-content-between align-items-center"},wn=(0,s._)("h5",null,"Tasks",-1),yn={class:"list-group list-group-flush"},hn=["onClick"],Sn={key:0,class:"float-end"},Dn=["onClick"],xn={key:1,class:"float-end"},qn=(0,s._)("div",{class:"spinner-border spinner-border-sm text-primary m-1",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Task running...")],-1),Cn=[qn],Hn={class:"col-9"};var jn={__name:"App",setup(e){const t=c(),i=t.socket,a=(0,on.pm)(),r=(0,o.iH)(null),u=(0,o.iH)(null),d=(0,o.iH)(null),v={TaskCard:de,SettingsCard:Vi},_=(0,o.qj)({value:[]}),p=(0,o.qj)({value:[]}),g=(0,o.qj)({value:[]}),b=(0,s.Fl)((()=>g.value.concat(p.value.map((e=>Object.assign(e,{card_type:"TaskCard"}))),[{id:"Help",struct:[{key:"Nothing to Show",component:"LogElement"}],active:!1,card_type:"TaskCard"}]))),m=(0,s.Fl)((()=>"/"==t.working_directory?"Choose Working Directory":t.working_directory)),f={Taskcard:p,SettingsCard:g},k=(0,o.iH)(b.value[0]);function w(e){k.value=e}function y(e){e.id==k.value.id&&w(b.value.at(-1));let t=f[e.card_type].value;t.splice(t.findIndex((t=>t.id===e.id)),1)}function h(e,t){y(b.value.find((e=>e.id===t)))}function S(e){if(console.log(e.name),!g.value.some((t=>t.id===e.name))){console.log(e),console.log("args schema"),console.log(e.args_schema);let t={id:e.name,settings:e.settings_schema,args:e.args_schema,false:!0,card_type:"SettingsCard"};g.value.push(t),w(t)}}function D(e){var t="list-group-item pointer clickable";return k.value.id==e.id&&(t+=" border border-primary border-4"),t}function x(){d.value.toggle()}function q(e){t.set_working_directory(e),console.log(t.working_directory)}function C(){const e=r.value.getBoundingClientRect().left,t=r.value.getBoundingClientRect().bottom;u.value.set_position(e,t),u.value.toggle(_.value)}return i.on("connect",(()=>{console.log("connected"),a("server connected")})),i.on("disconnect",(()=>{console.log("disconnected"),a.error("server disconnected"),w(b.value.at(-1)),p.value=[]})),i.on("tasks",(e=>{p.value=e})),i.on("available_processes",(e=>{console.log(e),_.value=e})),(0,s.bv)((()=>{i.emit("get_working_dir")})),i.on("toast",(e=>{var t=e.txt,i=e.type;"success"==i?a.success(t):"error"==i?a.error(t):"info"==i?a.info(t):"warning"==i&&a.warning(t)})),(e,t)=>((0,s.wg)(),(0,s.iD)("html",null,[(0,s._)("body",null,[(0,s._)("nav",rn,[(0,s._)("div",cn,[un,dn,(0,s._)("div",vn,[(0,s._)("ul",_n,[(0,s._)("button",{type:"button",class:"btn btn-outline-primary",onClick:x},(0,l.zw)((0,o.SU)(m)),1)])])]),pn]),(0,s._)("div",gn,[(0,s._)("div",bn,[(0,s._)("div",mn,[(0,s._)("div",fn,[(0,s._)("div",kn,[wn,(0,s._)("h3",null,[(0,s._)("button",{class:"btn btn-outline-primary clickable",ref_key:"new_task_button",ref:r,onClick:t[0]||(t[0]=(0,n.iM)((e=>C()),["self"]))},"New Task",512)])]),(0,s._)("ul",yn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,o.SU)(b),(e=>((0,s.wg)(),(0,s.iD)("li",{class:(0,l.C_)(D(e)),key:e.id,onClick:t=>w(e)},[(0,s.Uk)((0,l.zw)(e.id)+" ",1),"SettingsCard"==e.card_type?((0,s.wg)(),(0,s.iD)("div",Sn,[(0,s._)("i",{class:"bi bi-x-lg",onClick:(0,n.iM)((t=>y(e)),["stop"])},null,8,Dn)])):(0,s.kq)("",!0),e.active?((0,s.wg)(),(0,s.iD)("div",xn,Cn)):(0,s.kq)("",!0)],10,hn)))),128))])])]),(0,s._)("div",Hn,[((0,s.wg)(),(0,s.j4)((0,s.LL)(v[k.value.card_type]),{id:k.value.id,struct:k.value.struct,settings:k.value.settings,active:k.value.active,args:k.value.args,onSettings_completed:h},null,40,["id","struct","settings","active","args"]))])]),(0,s.Wm)(ln,{ref_key:"task_menu",ref:u,onProcess_chosen:S},null,512),(0,s.Wm)(ci,{ref_key:"file_browser",ref:d,onUser_selected:q},null,512)])])]))}};const Un=jn;var zn=Un;i(343),i(2166),i(6744);const Fn=(0,a.WB)(),Tn=(0,n.ri)(zn),Mn={position:"bottom-right"};Tn.use(Fn),Tn.use(on.ZP,Mn),Tn.mount("#app")}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,i),s.exports}i.m=e,function(){var e=[];i.O=function(t,n,a,s){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],s=e[u][2];for(var o=!0,r=0;r<n.length;r++)(!1&s||l>=s)&&Object.keys(i.O).every((function(e){return i.O[e](n[r])}))?n.splice(r--,1):(o=!1,s<l&&(l=s));if(o){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,a,s]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,s,l=n[0],o=n[1],r=n[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(r)var u=r(i)}for(t&&t(n);c<l.length;c++)s=l[c],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(u)},n=self["webpackChunkweb"]=self["webpackChunkweb"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(6896)}));n=i.O(n)})();
//# sourceMappingURL=app.97bffa07.js.map