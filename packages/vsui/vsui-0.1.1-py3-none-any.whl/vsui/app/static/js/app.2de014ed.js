(function(){"use strict";var e={7634:function(e,t,i){var s=i(9242),a=i(1020),n=(i(7658),i(2262),i(4506),i(3396)),l=i(7139),r=i(4870),o=i(2066);const c=(0,a.Q_)("vsui_store",(()=>{const e=(0,o.ZP)({extraHeaders:{type:"web",id:"web"}}),t=(0,r.iH)("/");function i(i){t.value=i,a(i),e.emit("web_working_dir",i)}const s=(0,r.iH)("/");function a(e){s.value=e}return{socket:e,working_directory:t,set_working_directory:i,prev_file_browser_path:s,set_prev_file_browser_path:a}})),u={class:"row mb-3"},d={class:"col"},v={class:"progress"},_=["aria-valuenow"];var p={__name:"ProgressElement",props:{id:String,task_id:String},setup(e){const t=e,i=c(),s=i.socket,a=(0,r.qj)({value:{current:0,max:1}}),o=(0,n.Fl)((()=>a.value.current/a.value.max*100));return s.on("progress_data_update",(e=>{t.task_id in e&&t.id in e[t.task_id]&&(a.value=e[t.task_id][t.id])})),(0,n.bv)((()=>{s.emit("request_update",{task_id:t.task_id,key:t.id})})),(t,i)=>((0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("div",d,[(0,n._)("h5",null,(0,l.zw)(e.id)+" - "+(0,l.zw)(a.value.current)+" / "+(0,l.zw)(a.value.max),1),(0,n._)("div",v,[(0,n._)("div",{class:"progress-bar",role:"progressbar",id:"epoch-progress-bar",style:(0,l.j5)({width:(0,r.SU)(o)+"%"}),"aria-valuenow":(0,r.SU)(o),"aria-valuemin":"0","aria-valuemax":"100"},null,12,_)])])]))}},g=i(89);const b=(0,g.Z)(p,[["__scopeId","data-v-5feaa082"]]);var m=b;const f=e=>((0,n.dD)("data-v-38bd6c2a"),e=e(),(0,n.Cn)(),e),k={class:"row mb-3"},w={class:"col"},y={class:"row"},h={class:"col align-self-start"},S={class:"col-1 align-self-end"},C=f((()=>(0,n._)("hr",null,null,-1))),D=f((()=>(0,n._)("hr",null,null,-1)));var H={__name:"LogElement",props:{id:String,task_id:String},setup(e){const t=e,i=c(),s=i.socket,a=(0,r.iH)(!1);function o(){a.value=!a.value}const u=(0,n.Fl)((()=>a.value?"":"log")),d=(0,n.Fl)((()=>a.value?"bi bi-chevron-up":"bi bi-chevron-down")),v=(0,n.Fl)((()=>{var e=_.value;return e.reverse()})),_=(0,r.qj)({value:["nothing to show"]});return s.on("log_data_update",(e=>{t.task_id in e&&t.id in e[t.task_id]&&(_.value=e[t.task_id][t.id])})),(0,n.bv)((()=>{s.emit("request_update",{task_id:t.task_id,key:t.id})})),(t,i)=>((0,n.wg)(),(0,n.iD)("div",k,[(0,n._)("div",w,[(0,n._)("div",y,[(0,n._)("div",h,[(0,n._)("h5",null,(0,l.zw)(e.id),1)]),(0,n._)("div",S,[(0,n._)("h5",null,[(0,n._)("i",{class:(0,l.C_)((0,r.SU)(d)),onClick:i[0]||(i[0]=e=>o()),style:{cursor:"pointer"}},null,2)])])]),C,(0,n._)("div",{class:(0,l.C_)((0,r.SU)(u))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,r.SU)(v),(e=>((0,n.wg)(),(0,n.iD)("p",{key:e},(0,l.zw)(e),1)))),128))],2),D])]))}};const x=(0,g.Z)(H,[["__scopeId","data-v-38bd6c2a"]]);var q=x,U=i(6294),j=i(741);const z={class:"row mb-3"},F={class:"col"};var M={__name:"ChartElement",props:{id:String,task_id:String},setup(e){const t=e;j.kL.register(j.Dx,j.u,j.De,j.jn,j.f$,j.od,j.uw);const i=c(),s=i.socket,a=(0,r.qj)({value:{x:[],y:[]}}),o=(0,n.Fl)((()=>({value:{labels:a.value.x,datasets:[{label:"Training Loss",backgroundColor:"#f87979",data:a.value.y}]}}))),u={responsive:!0,maintainAspectRatio:!1};return s.on("chart_data_update",(e=>{t.task_id in e&&t.id in e[t.task_id]&&(a.value=e[t.task_id][t.id])})),(0,n.bv)((()=>{s.emit("request_update",{task_id:t.task_id,key:t.id})})),(t,i)=>((0,n.wg)(),(0,n.iD)("div",z,[(0,n._)("div",F,[(0,n._)("h5",null,(0,l.zw)(e.id),1),(0,n.Wm)((0,r.SU)(U.x1),{"chart-options":u,"chart-data":(0,r.SU)(o).value},null,8,["chart-data"])])]))}};const T=M;var Y=T;const I={class:"row"},O={class:"col"},Z=["src"],K={class:"col"},L=["src"],P={class:"col"},E=["src"];var $={__name:"GalleryViewer",setup(e,{expose:t}){const i=(0,r.iH)(!1),a=(0,r.iH)(""),l=(0,r.iH)([]);function o(e){a.value=e}function c(){i.value=!1}function u(){i.value=!0}function d(e){l.value=e}return t({open:u,close:c,set_images:o,set_reference:d}),(e,t)=>i.value?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"foggy d-flex justify-content-center align-items-center",onClick:t[0]||(t[0]=(0,s.iM)((e=>c()),["stop"]))},[(0,n._)("div",I,[(0,n._)("div",O,[(0,n._)("img",{src:a.value,class:"img-fluid"},null,8,Z)]),(0,n._)("div",K,[(0,n._)("img",{src:l.value[1],class:"img-fluid"},null,8,L)]),(0,n._)("div",P,[(0,n._)("img",{src:l.value[0],class:"img-fluid"},null,8,E)])])])):(0,n.kq)("",!0)}};const B=(0,g.Z)($,[["__scopeId","data-v-40e9d1e2"]]);var R=B;const A=e=>((0,n.dD)("data-v-15f6f784"),e=e(),(0,n.Cn)(),e),W={class:"row mb-3"},V={class:"col"},N={class:"row"},G={class:"col align-self-start"},Q=A((()=>(0,n._)("div",{class:"col-1 align-self-end"},null,-1))),J=A((()=>(0,n._)("hr",null,null,-1))),X={class:"container"},ee=["src","onClick"],te=A((()=>(0,n._)("hr",null,null,-1)));var ie={__name:"GalleryElement",props:{id:String,task_id:String},setup(e){const t=e,i=c(),s=i.socket,a=(0,r.iH)(null),o=4,u=(0,r.qj)({value:[]}),d=(0,r.iH)([]),v=(0,n.Fl)((()=>{var e=u.value;return e.reverse()}));function _(e){return"data:image/jpeg;base64, "+e}const p=(0,n.Fl)((()=>u.value.length)),g=(0,n.Fl)((()=>Math.ceil(p.value/o)));function b(e){a.value.set_images(_(v.value[e])),a.value.set_reference(d.value.map(_)),a.value.open()}return s.on("gallery_data_update",(e=>{t.task_id in e&&t.id in e[t.task_id]&&(u.value=e[t.task_id][t.id])})),s.on("gallery_reference_update",(e=>{t.task_id in e&&t.id in e[t.task_id]&&(d.value=e[t.task_id][t.id],console.log("have some reference images"))})),(0,n.bv)((()=>{s.emit("request_update",{task_id:t.task_id,key:t.id})})),(t,i)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",W,[(0,n._)("div",V,[(0,n._)("div",N,[(0,n._)("div",G,[(0,n._)("h5",null,(0,l.zw)(e.id),1)]),Q]),J,(0,n._)("div",X,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,r.SU)(g),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"row",key:e},[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(o,(t=>(0,n._)("div",{class:"col",key:t},[(e-1)*o+(t-1)<(0,r.SU)(p)?((0,n.wg)(),(0,n.iD)("img",{key:0,src:_((0,r.SU)(v)[(e-1)*o+(t-1)]),class:"img-fluid",onClick:i=>b((e-1)*o+(t-1))},null,8,ee)):(0,n.kq)("",!0)]))),64))])))),128))]),te])]),(0,n.Wm)(R,{ref_key:"viewer",ref:a},null,512)],64))}};const se=(0,g.Z)(ie,[["__scopeId","data-v-15f6f784"]]);var ae=se;const ne={class:"card mb-2"},le={class:"card-header"},re={class:"float-start"};var oe={__name:"TaskCard",props:{id:{required:!0,type:String},struct:{default:null},active:{default:!1,type:Boolean}},setup(e){const t=e,i=c(),s=i.socket,a={ProgressElement:m,LogElement:q,ChartElement:Y,GalleryElement:ae},o=(0,n.Fl)((()=>u[t.active])),u={true:"card-body border border-primary",false:"card-body border border-secondary"};function d(){s.emit("end_process",{task_id:t.id})}return(t,i)=>((0,n.wg)(),(0,n.iD)("div",ne,[(0,n._)("div",le,[(0,n._)("div",re,(0,l.zw)(e.id),1),(0,n._)("div",{class:"float-end"},[(0,n._)("button",{type:"button",class:"btn btn-outline-danger",onClick:d,disabled:""},"End Process")])]),(0,n._)("div",{class:(0,l.C_)((0,r.SU)(o))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.struct,(t=>((0,n.wg)(),(0,n.j4)((0,n.LL)(a[t.component]),{key:t.key,id:t.key,task_id:e.id},null,8,["id","task_id"])))),128))],2)]))}};const ce=(0,g.Z)(oe,[["__scopeId","data-v-45236b34"]]);var ue=ce;const de=e=>((0,n.dD)("data-v-be8f706a"),e=e(),(0,n.Cn)(),e),ve={class:"row align-items-center g-2 mt-2 pb-4"},_e={class:"col"},pe={class:"input-group"},ge=de((()=>(0,n._)("span",{class:"input-group-text",style:{width:"20%"},id:"task_id_label",name:"task_id_label"},"Task ID",-1))),be=["aria-describedby"],me={class:"input-group-text"},fe={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},ke=de((()=>(0,n._)("span",{class:"visually-hidden"},"Editing...",-1))),we=[ke],ye={key:1,class:"bi bi-check"},he={key:2,class:"bi bi-exclamation-lg"},Se=de((()=>(0,n._)("div",{class:"col"},[(0,n._)("span",{id:"task_id_help",class:"form-text"}," Must be Unique ")],-1))),Ce={class:"row align-items-center g-2"},De={class:"error"};var He={__name:"TaskIDInput",props:{process_id:String},emits:["new_task_id"],setup(e,{emit:t}){const i=e,a=c(),o=a.socket,u=(0,r.iH)("");var d=1200,v=null;const _=(0,r.iH)("success"),p=(0,r.iH)("");function g(){let e=new Date,t=String(e.getFullYear())+String(e.getMonth()+1)+String(e.getDate());var s=String(e.getHours())+String(e.getMinutes());let a=t+"_"+s;u.value=i.process_id+"_"+a,b(u.value)?o.emit("request_is_task_id_unique",u.value):(p.value=f["id"],_.value="error")}function b(e){let t=m["id"];return t.test(e)}(0,n.YP)(u,(e=>{clearTimeout(v),_.value="editing",v=setTimeout((()=>{b(e)?o.emit("request_is_task_id_unique",e,(e=>{e?(t("new_task_id",u.value),p.value="",_.value="success"):(p.value="Not Unique",_.value="error")})):(p.value=f["id"],_.value="error")}),d)})),(0,n.ic)((()=>{g()})),(0,n.bv)((()=>{g()}));const m={id:/^[\w\-_]+$/},f={id:"Required, Must only contain characters { A-Z - _ }."};return(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",ve,[(0,n._)("div",_e,[(0,n._)("div",pe,[ge,(0,n.wy)((0,n._)("input",{type:"text",id:"task_id_input",name:"task_id_input",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),"aria-describedby":e.task_id_help},null,8,be),[[s.nr,u.value]]),(0,n._)("span",me,["editing"==_.value?((0,n.wg)(),(0,n.iD)("div",fe,we)):(0,n.kq)("",!0),"success"==_.value?((0,n.wg)(),(0,n.iD)("i",ye)):(0,n.kq)("",!0),"error"==_.value?((0,n.wg)(),(0,n.iD)("i",he)):(0,n.kq)("",!0)])])]),Se]),(0,n._)("div",Ce,[(0,n._)("p",De,(0,l.zw)(p.value),1)])],64))}};const xe=(0,g.Z)(He,[["__scopeId","data-v-be8f706a"]]);var qe=xe;const Ue=e=>((0,n.dD)("data-v-749000ad"),e=e(),(0,n.Cn)(),e),je={class:"row align-items-center g-2 mb-2"},ze={class:"col"},Fe={class:"input-group"},Me=["id","name"],Te=["id","name","aria-describedby"],Ye={class:"input-group-text"},Ie={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},Oe=Ue((()=>(0,n._)("span",{class:"visually-hidden"},"Editing...",-1))),Ze=[Oe],Ke={key:1,class:"bi bi-check"},Le={key:2,class:"bi bi-exclamation-lg"},Pe={class:"col"},Ee=["id"],$e={key:0,class:"row align-items-center g-2"},Be={class:"error"};var Re={__name:"SettingText",props:{process_id:String,setting:Object},setup(e){const t=e,i=c(),a=i.socket,o=(0,r.iH)(""),u=(0,n.Fl)((()=>t.setting.id+"_help_inline")),d=(0,n.Fl)((()=>t.setting.id+"_addon"));var v=500,_=null;const p=(0,r.iH)("success"),g=(0,r.iH)("");function b(e){m(e)?(a.emit("setting_change",{process_id:t.process_id,setting_id:t.setting.id,data:e,namespace:t.setting.namespace}),p.value="success",g.value=""):(p.value="error",g.value=k[t.setting.validation])}function m(e){let i=f[t.setting.validation];return i.test(e)}(0,n.YP)(o,(e=>{clearTimeout(_),p.value="editing",_=setTimeout((()=>{b(e)}),v)})),(0,n.bv)((()=>{a.emit("request_setting",{process_id:t.process_id,setting_id:t.setting.id},(e=>{o.value=e}))}));const f={filename:/^[\w\-_]*$/,"required filename":/^[\w\-_]+$/,filepath:/^(^\/[\w\-_]+|(?![\s\S]))$/,"required filepath":/^\/[\w\-_]+$/,integer:/^[0-9]*$/,"required integer":/^[0-9]+$/,float:/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+|^(?![\s\S]))$/,"required float":/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+)$/},k={filename:"Must only contain characters { A-Z - _ }.","required filename":"Required, Must only contain characters { A-Z - _ }.",filepath:"Must start with / and only contain characters { A-Z - _ }.","required filepath":"Required, Must start with / and only contain characters { A-Z - _ }.",integer:"Must be an Integer.","required integer":"Required, Must be an Integer.",float:"Must be a number. Scientific notation e.g. 6.022e-23 is supported.","required float":"Required, Must be a number. Scientific notation e.g. 6.022e-23 is supported."};return(t,i)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",je,[(0,n._)("div",ze,[(0,n._)("div",Fe,[(0,n._)("span",{class:"input-group-text",style:{width:"50%"},id:(0,r.SU)(d),name:e.setting.name},(0,l.zw)(e.setting.name),9,Me),(0,n.wy)((0,n._)("input",{type:"text",id:e.setting.id,name:e.setting.name,class:"form-control","onUpdate:modelValue":i[0]||(i[0]=e=>o.value=e),"aria-describedby":(0,r.SU)(u)},null,8,Te),[[s.nr,o.value]]),(0,n._)("span",Ye,["editing"==p.value?((0,n.wg)(),(0,n.iD)("div",Ie,Ze)):(0,n.kq)("",!0),"success"==p.value?((0,n.wg)(),(0,n.iD)("i",Ke)):(0,n.kq)("",!0),"error"==p.value?((0,n.wg)(),(0,n.iD)("i",Le)):(0,n.kq)("",!0)])])]),(0,n._)("div",Pe,[(0,n._)("span",{id:(0,r.SU)(u),class:"form-text"},(0,l.zw)(e.setting.help),9,Ee)])]),""!=g.value?((0,n.wg)(),(0,n.iD)("div",$e,[(0,n._)("p",Be,(0,l.zw)(g.value),1)])):(0,n.kq)("",!0)],64))}};const Ae=(0,g.Z)(Re,[["__scopeId","data-v-749000ad"]]);var We=Ae;const Ve=e=>((0,n.dD)("data-v-8b40e886"),e=e(),(0,n.Cn)(),e),Ne={class:"row align-items-center g-2 mb-2"},Ge={class:"col"},Qe={class:"input-group"},Je=["id","name"],Xe=["id","name","aria-describedby"],et={class:"input-group-text"},tt={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},it=Ve((()=>(0,n._)("span",{class:"visually-hidden"},"Editing...",-1))),st=[it],at={key:1,class:"bi bi-check"},nt={key:2,class:"bi bi-exclamation-lg"},lt={class:"col"},rt=["id"],ot={key:0,class:"row align-items-center g-2"},ct={class:"error"};var ut={__name:"SettingNumber",props:{process_id:String,setting:Object},setup(e){const t=e,i=c(),a=i.socket,o=(0,r.iH)(""),u=(0,n.Fl)((()=>t.setting.id+"_help_inline")),d=(0,n.Fl)((()=>t.setting.id+"_addon"));var v=500,_=null;const p=(0,r.iH)("success"),g=(0,r.iH)("");function b(e){m(e)?(a.emit("setting_change",{process_id:t.process_id,setting_id:t.setting.id,data:e,namespace:t.setting.namespace}),p.value="success",g.value=""):(p.value="error",g.value=k[t.setting.validation])}function m(e){let i=f[t.setting.validation];return i.test(e)}(0,n.YP)(o,(e=>{clearTimeout(_),p.value="editing",_=setTimeout((()=>{b(e)}),v)})),(0,n.bv)((()=>{a.emit("request_setting",{process_id:t.process_id,setting_id:t.setting.id},(e=>{o.value=e}))}));const f={integer:/^[0-9]*$/,"required integer":/^[0-9]+$/,float:/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+|^(?![\s\S]))$/,"required float":/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+)$/},k={integer:"Must be an Integer.","required integer":"Required, Must be an Integer.",float:"Must be a number. Scientific notation e.g. 6.022e-23 is supported.","required float":"Required, Must be a number. Scientific notation e.g. 6.022e-23 is supported."};return(t,i)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",Ne,[(0,n._)("div",Ge,[(0,n._)("div",Qe,[(0,n._)("span",{class:"input-group-text",style:{width:"50%"},id:(0,r.SU)(d),name:e.setting.name},(0,l.zw)(e.setting.name),9,Je),(0,n.wy)((0,n._)("input",{type:"number",id:e.setting.id,name:e.setting.name,class:"form-control","onUpdate:modelValue":i[0]||(i[0]=e=>o.value=e),"aria-describedby":(0,r.SU)(u)},null,8,Xe),[[s.nr,o.value,void 0,{number:!0}]]),(0,n._)("span",et,["editing"==p.value?((0,n.wg)(),(0,n.iD)("div",tt,st)):(0,n.kq)("",!0),"success"==p.value?((0,n.wg)(),(0,n.iD)("i",at)):(0,n.kq)("",!0),"error"==p.value?((0,n.wg)(),(0,n.iD)("i",nt)):(0,n.kq)("",!0)])])]),(0,n._)("div",lt,[(0,n._)("span",{id:(0,r.SU)(u),class:"form-text"},(0,l.zw)(e.setting.help),9,rt)])]),""!=g.value?((0,n.wg)(),(0,n.iD)("div",ot,[(0,n._)("p",ct,(0,l.zw)(g.value),1)])):(0,n.kq)("",!0)],64))}};const dt=(0,g.Z)(ut,[["__scopeId","data-v-8b40e886"]]);var vt=dt;const _t={class:"row g-2 align-items-center mb-2"},pt={class:"col"},gt={class:"input-group"},bt=["id","name"],mt=["id","name","aria-describedby"],ft=["value"],kt=(0,n._)("span",{class:"input-group-text"},[(0,n._)("i",{class:"bi bi-check"})],-1),wt={class:"col"},yt=["id"];var ht={__name:"SettingDropdown",props:{process_id:String,setting:Object},setup(e){const t=e,i=c(),a=i.socket,o=(0,r.iH)(""),u=(0,n.Fl)((()=>t.setting.id+"_help_inline")),d=(0,n.Fl)((()=>t.setting.id+"_addon"));return(0,n.YP)(o,(e=>{a.emit("setting_change",{process_id:t.process_id,setting_id:t.setting.id,data:e,namespace:t.setting.namespace})})),(0,n.bv)((()=>{a.emit("request_setting",{process_id:t.process_id,setting_id:t.setting.id},(e=>{o.value=e}))})),(t,i)=>((0,n.wg)(),(0,n.iD)("div",_t,[(0,n._)("div",pt,[(0,n._)("div",gt,[(0,n._)("span",{class:"input-group-text",style:{width:"50%"},id:(0,r.SU)(d),name:(0,r.SU)(d)},(0,l.zw)(e.setting.name),9,bt),(0,n.wy)((0,n._)("select",{class:"form-select",id:e.setting.id,name:e.setting.name,"onUpdate:modelValue":i[0]||(i[0]=e=>o.value=e),"aria-describedby":t.downsample_help_inline},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.setting.options,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.value,value:e.value},(0,l.zw)(e.label),9,ft)))),128))],8,mt),[[s.bM,o.value]]),kt])]),(0,n._)("div",wt,[(0,n._)("span",{id:(0,r.SU)(u),class:"form-text"},(0,l.zw)(e.setting.help),9,yt)])]))}};const St=ht;var Ct=St;const Dt=e=>((0,n.dD)("data-v-311b3641"),e=e(),(0,n.Cn)(),e),Ht={class:"card"},xt={class:"card-header d-flex justify-content-center"},qt={class:"btn-group p-2",role:"group","aria-label":"Nav Buttons"},Ut=["disabled"],jt=Dt((()=>(0,n._)("i",{class:"bi bi-chevron-left"},null,-1))),zt=[jt],Ft=["disabled"],Mt=Dt((()=>(0,n._)("i",{class:"bi bi-chevron-right"},null,-1))),Tt=[Mt],Yt={class:"input-group p-2"},It=["onKeyup"],Ot=Dt((()=>(0,n._)("i",{class:"bi bi-search"},null,-1))),Zt=[Ot],Kt=Dt((()=>(0,n._)("i",{class:"bi bi-arrow-90deg-up"},null,-1))),Lt=[Kt],Pt=Dt((()=>(0,n._)("i",{class:"bi bi-house"},null,-1))),Et=[Pt],$t=Dt((()=>(0,n._)("i",{class:"bi bi-x-lg"},null,-1))),Bt=[$t],Rt={key:0,class:"card-body"},At={class:"list-view"},Wt=["onClick"],Vt={key:1,class:"card-body overflow-scroll"},Nt={class:"d-flex flex-wrap"},Gt=["onClick"],Qt={class:"col"},Jt={class:"row text-center"},Xt={class:"row text-center d-flex flex-wrap",style:{width:"12rem"}},ei={class:"card-footer text-muted inline align-middle d-flex justify-content-between"},ti=["disabled"];var ii={__name:"FileBrowserCard",props:{valid_selections:Object},emits:["close, user_selected"],setup(e,{expose:t,emit:i}){const a=e,o=c(),u=o.socket,d=(0,r.iH)(o.working_directory),v=(0,r.iH)(""),_=(0,r.iH)("grid"),p=(0,r.iH)(""),g=(0,r.iH)([]),b=(0,r.iH)([]),m=(0,r.iH)(""),f=(0,r.iH)(""),k=(0,r.iH)(""),w=(0,r.iH)([]),y=(0,n.Fl)((()=>0==g.value.length||m.value==g.value.at(-1))),h=(0,n.Fl)((()=>0==b.value.length||m.value==b.value.at(-1))),S=(0,n.Fl)((()=>""==f.value));function C(){console.log(b.value),h.value?k.value="cannot go back":(g.value.push(m.value),U(b.value.at(-1)),b.value.pop())}function D(){console.log(g.value),y.value?k.value="Cannot go Forward":(b.value.push(m.value),U(g.value.at(-1)),g.value.pop())}function H(){U(d.value)}function x(){let e=m.value.split("/");""==e.at(-1)&&e.pop(),e.pop();let t=e.join("/");""==t&&(t="/"),U(t)}function q(){p.value==f.value?M(p.value):U(p.value)}function U(e){u.emit("request_directory_contents",e,(e=>{"success"==e.status?(k.value="",""!=m.value&&b.value.push(m.value),m.value=e.path,f.value=e.path,w.value=e.contents):k.value=e.status}))}function j(e){f.value!=e.path?f.value=e.path:e.dir?U(e.path):M(e.path)}function z(e){return f.value==e.path?"p-2 selected":"p-2"}function F(){console.log("close"),i("close")}function M(){u.emit("request_filetype",f.value,(e=>{a.valid_selections.includes(e)?(k.value="",o.set_prev_file_browser_path(m.value),i("user_selected",f.value)):k.value="Invalid selection"}))}function T(e){v.value=e}(0,n.bv)((()=>{""==v.value?U(o.prev_file_browser_path):U(v.value)})),(0,n.YP)(m,(e=>{p.value=e})),t({set_initial_dir:T});const Y={directory:"bi bi-folder-fill file clickable","directory-empty":"bi bi-folder file clickable","file-generic":"bi bi-file-earmark file clickable","file-data":"bi bi-file-earmark-image file clickable","file-yaml":"bi bi-filetype-yml file clickable"};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",Ht,[(0,n._)("div",xt,[(0,n._)("div",qt,[(0,n._)("button",{type:"button",class:"btn btn-outline-primary",disabled:(0,r.SU)(h),onClick:C},zt,8,Ut),(0,n._)("button",{type:"button",class:"btn btn-outline-primary",disabled:(0,r.SU)(y),onClick:D},Tt,8,Ft)]),(0,n._)("div",Yt,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),type:"text",class:"form-control","aria-label":"filepath",onFocus:t[1]||(t[1]=e=>e.target.select()),onKeyup:(0,s.D2)(q,["enter"])},null,40,It),[[s.nr,p.value]]),(0,n._)("button",{class:"btn btn-outline-primary",type:"button",onClick:q},Zt)]),(0,n._)("div",{class:"btn-group p-2",role:"group","aria-label":"Right nav Buttons"},[(0,n._)("button",{type:"button",class:"btn btn-outline-primary",onClick:x},Lt),(0,n._)("button",{type:"button",class:"btn btn-outline-primary",onClick:H},Et),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary p-2",onClick:F},Bt)])]),"list"==_.value?((0,n.wg)(),(0,n.iD)("div",Rt,[(0,n._)("div",At,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(w.value,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.path,class:(0,l.C_)(z(e)),onClick:t=>j(e)},(0,l.zw)(e.path),11,Wt)))),128))])])):(0,n.kq)("",!0),"grid"==_.value?((0,n.wg)(),(0,n.iD)("div",Vt,[(0,n._)("div",Nt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(w.value,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.path,class:(0,l.C_)(z(e)),onClick:t=>j(e)},[(0,n._)("div",Qt,[(0,n._)("div",Jt,[(0,n._)("i",{class:(0,l.C_)(Y[e.type]),style:{"font-size":"6rem"}},null,2)]),(0,n._)("div",Xt,[(0,n._)("p",null,(0,l.zw)("/"+e.path.split("/").at(-1)),1)])])],10,Gt)))),128))])])):(0,n.kq)("",!0),(0,n._)("div",ei,[(0,n._)("b",null,(0,l.zw)(f.value),1),(0,n._)("b",null,(0,l.zw)(k.value),1),(0,n._)("button",{type:"button",class:"btn btn-outline-primary",disabled:(0,r.SU)(S),onClick:M},"Select",8,ti)])]))}};const si=(0,g.Z)(ii,[["__scopeId","data-v-311b3641"]]);var ai=si;const ni={key:0,class:"foggy d-flex justify-content-center align-items-center"};var li={__name:"FileBrowserModal",props:{valid_selections:Object},emits:["user_selected"],setup(e,{expose:t,emit:i}){const s=(0,r.iH)(null),a=(0,r.iH)(!1);function l(){a.value=!1}function o(){a.value=!0}function c(){a.value?l():o()}function u(e){s.value.set_initial_dir(e)}function d(e){i("user_selected",e),l()}return t({open:o,close:l,toggle:c,set_initial_dir:u}),(t,i)=>a.value?((0,n.wg)(),(0,n.iD)("div",ni,[(0,n.Wm)(ai,{ref_key:"my_browser",ref:s,valid_selections:e.valid_selections,onClose:l,onUser_selected:d},null,8,["valid_selections"])])):(0,n.kq)("",!0)}};const ri=li;var oi=ri;const ci={class:"row align-items-center g-2"},ui={class:"col-6"},di={class:"vertical-input-group mb-2"},vi=["onClick"],_i=["id","name"],pi=["id","name","aria-describedby"],gi=["id","name"],bi={class:"col-6"},mi=["id"];var fi={__name:"FileSelect",props:{process_id:String,setting:Object},setup(e){const t=e,i=c(),s=i.socket,a=(0,r.iH)(null),o=(0,r.iH)([]),u=(0,r.iH)(0),d=(0,n.Fl)((()=>o.value.length+1));function v(e){u.value=e,a.value.open()}function _(e){u.value<d.value-1?(o.value.splice(u,1,e),p(o.value)):(o.value.push(e),p(o.value),d.value=++d.value)}function p(e){s.emit("setting_change",{process_id:t.process_id,setting_id:t.setting.id,data:e,namespace:t.setting.namespace})}const g=e=>void 0==e?"+ Add":e.split("/").at(-1),b=e=>e==o.value.length+1&&0!=o.value.length,m=e=>({"input-group":!b(e),"input-group translucent":b(e)});return(t,i)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",ci,[(0,n._)("div",ui,[(0,n._)("div",di,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,r.SU)(d),(i=>((0,n.wg)(),(0,n.iD)("div",{class:(0,l.C_)(m(i)),onClick:e=>v(i-1),key:o.value[i-1]},[1==i?((0,n.wg)(),(0,n.iD)("span",{key:0,class:"input-group-text",style:{width:"25%"},id:t.addon_id,name:e.setting.name},(0,l.zw)(e.setting.name),9,_i)):(0,n.kq)("",!0),(0,n._)("button",{type:"Button",style:{width:"15%"},id:t.id+"btn",name:e.setting.name,class:"form-control","aria-describedby":t.help_id},"Browse",8,pi),(0,n._)("span",{class:"input-group-text filename",style:{width:"60%"},id:t.addon_id+"post",name:t.name},(0,l.zw)(g(o.value[i-1])),9,gi)],10,vi)))),128))])]),(0,n._)("div",bi,[(0,n._)("span",{id:t.help_id,class:"form-text"},(0,l.zw)(e.setting.help),9,mi)])]),(0,n.Wm)(oi,{valid_selections:["file"],ref_key:"file_browser",ref:a,onUser_selected:_},null,512)],64))}};const ki=(0,g.Z)(fi,[["__scopeId","data-v-57d32bd8"]]);var wi=ki;const yi={class:"pb-4"},hi=(0,n._)("hr",null,null,-1);var Si={__name:"SettingSectionBasic",props:{header:String,struct:Object,id:String},setup(e){const t={text:We,number:vt,select:Ct,file_select:wi};return(i,s)=>((0,n.wg)(),(0,n.iD)("div",yi,[(0,n._)("h5",null,(0,l.zw)(e.header),1),hi,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.struct,(i=>((0,n.wg)(),(0,n.j4)((0,n.LL)(t[i.component]),{key:i,process_id:e.id,setting:i},null,8,["process_id","setting"])))),128))]))}};const Ci=Si;var Di=Ci;const Hi={class:"pb-4"},xi={class:"row"},qi={class:"col align-self-start"},Ui={class:"col-1 align-self-end"},ji=(0,n._)("hr",null,null,-1),zi={key:0};var Fi={__name:"SettingSectionAdvanced",props:{header:String,struct:Object,id:String},setup(e){const t={text:We,number:vt,select:Ct,file_select:wi},i=(0,r.iH)(!1);function s(){i.value=!i.value}const a={true:"bi bi-chevron-up",false:"bi bi-chevron-down"};return(r,o)=>((0,n.wg)(),(0,n.iD)("div",Hi,[(0,n._)("div",xi,[(0,n._)("div",qi,[(0,n._)("h5",{onClick:o[0]||(o[0]=e=>s()),style:{cursor:"pointer"}},(0,l.zw)(e.header),1)]),(0,n._)("div",Ui,[(0,n._)("h5",null,[(0,n._)("i",{class:(0,l.C_)(a[i.value]),onClick:o[1]||(o[1]=e=>s()),style:{cursor:"pointer"}},null,2)])])]),ji,i.value?((0,n.wg)(),(0,n.iD)("div",zi,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.struct,(i=>((0,n.wg)(),(0,n.j4)((0,n.LL)(t[i.component]),{key:i.id,process_id:e.id,setting:i},null,8,["process_id","setting"])))),128))])):(0,n.kq)("",!0)]))}};const Mi=Fi;var Ti=Mi;const Yi={class:"card mb-2"},Ii={class:"card-header"},Oi={class:"float-start"},Zi={class:"card-body"},Ki={class:"row"},Li={class:"col"},Pi={key:0,class:"spinner-border text-primary",role:"status"},Ei=(0,n._)("span",{class:"visually-hidden"},"Loading...",-1),$i=[Ei];var Bi={__name:"SettingsCard",props:{id:{required:!0,type:String},struct:{default:null},active:{default:!1,type:Boolean}},emits:["settings_completed"],setup(e,{emit:t}){const i=e,s=c(),a=s.socket,o={basic:Di,advanced:Ti},u=(0,r.iH)(""),d=(0,r.iH)(!1),v=(0,n.Fl)((()=>_(i.struct)));function _(e){let t=e.slice(1).findIndex(p)+1;return 0==t?[{header:e[0]["header"],type:e[0]["type"],struct:e.slice(1)}]:[{header:e[0]["header"],type:e[0]["type"],struct:e.slice(1,t)}].concat(_(e.slice(t)))}function p(e){return"section"==e["component"]}function g(e){u.value=e}function b(){a.emit("launch_process",{process_id:i.id,task_id:u.value}),d.value=!0}return a.on("server_added_task",(e=>{console.log(e),e==u.value&&(d.value=!1,t("settings_completed",u.value,i.id))})),(t,i)=>((0,n.wg)(),(0,n.iD)("div",Yi,[(0,n._)("div",Ii,[(0,n._)("div",Oi,(0,l.zw)(e.id),1)]),(0,n._)("div",Zi,[(0,n.Wm)(qe,{process_id:e.id,onNew_task_id:g},null,8,["process_id"]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,r.SU)(v),(t=>((0,n.wg)(),(0,n.j4)((0,n.LL)(o[t.type]),{key:t.header,struct:t.struct,id:e.id,header:t.header},null,8,["struct","id","header"])))),128)),(0,n._)("div",Ki,[(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-primary",onClick:b},"Start")]),(0,n._)("div",Li,[1==d.value?((0,n.wg)(),(0,n.iD)("div",Pi,$i)):(0,n.kq)("",!0)])])])]))}};const Ri=Bi;var Ai=Ri;const Wi=e=>((0,n.dD)("data-v-69a3eff5"),e=e(),(0,n.Cn)(),e),Vi={class:"card",style:{width:"18rem"}},Ni={class:"card-header"},Gi=Wi((()=>(0,n._)("div",{class:"float-start"}," Add Task ",-1))),Qi={class:"float-end"},Ji={class:"list-group list-group-flush"},Xi=["onClick"];var es={__name:"NewTaskMenu",emits:["process_chosen"],setup(e,{expose:t,emit:i}){const s=(0,r.iH)(!1),a=(0,r.iH)(0),o=(0,r.iH)(0),c=(0,r.qj)({value:[]});function u(e){s.value=!0,c.value=e}function d(){s.value=!1}function v(e){s.value?d():u(e)}function _(e,t){a.value=e,o.value=t}function p(e){d(),i("process_chosen",e)}return t({open:u,toggle:v,set_position:_}),(e,t)=>s.value?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"position-absolute overlay",style:(0,l.j5)({top:o.value+"px",left:a.value+"px"})},[(0,n._)("div",Vi,[(0,n._)("div",Ni,[Gi,(0,n._)("div",Qi,[(0,n._)("i",{class:"bi bi-x-lg clickable",onClick:t[0]||(t[0]=e=>d())})])]),(0,n._)("ul",Ji,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.value,(e=>((0,n.wg)(),(0,n.iD)("li",{class:"list-group-item clickable",key:e.name,onClick:t=>p(e)},(0,l.zw)(e.name),9,Xi)))),128))])])],4)):(0,n.kq)("",!0)}};const ts=(0,g.Z)(es,[["__scopeId","data-v-69a3eff5"]]);var is=ts,ss=i(4677);const as={class:"navbar fixed-top navbar-expand-sm navbar-light bg-light","aria-label":"Volume Segmentation Toolkit"},ns={class:"container-fluid"},ls=(0,n._)("div",{class:"navbar-brand"},"Volume Segmentation Toolkit",-1),rs=(0,n._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar_top","aria-controls":"navbar_top","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n._)("span",{class:"navbar-toggler-icon"})],-1),os={class:"collapse navbar-collapse",id:"navbar_top"},cs={class:"navbar-nav ms-auto"},us=(0,n._)("hr",null,null,-1),ds={class:"container-fluid mt-20"},vs={class:"row gx-1"},_s={class:"col-3"},ps={class:"card"},gs={class:"card-header d-flex justify-content-between align-items-center"},bs=(0,n._)("h5",null,"Tasks",-1),ms={class:"list-group list-group-flush"},fs=["onClick"],ks={key:0,class:"float-end"},ws=["onClick"],ys=["onClick"],hs={key:0,class:"float-end"},Ss=["onClick"],Cs=["onClick"],Ds={key:0,class:"float-end"},Hs=["onClick"],xs={class:"col-9"};var qs={__name:"App",setup(e){const t=c(),i=t.socket,a=(0,ss.pm)(),o=(0,r.iH)(null),u=(0,r.iH)(null),d=(0,r.iH)(null),v={TaskCard:ue,SettingsCard:Ai},_=(0,n.Fl)((()=>"/"==t.working_directory?"Choose Working Directory":t.working_directory)),p=(0,r.iH)([]),g=(0,r.iH)([]),b=(0,r.iH)([]),m=(0,r.iH)([{id:"Help",struct:[{key:"Nothing to Show",component:"LogElement"}],active:!1,card_type:"TaskCard"}]),f=(0,r.iH)("other"),k=(0,r.iH)(m.value[0]);function w(e,t){f.value=t,k.value=e}function y(e){e.id==k.value.id&&w(m.value[0]),b.value.splice(b.value.findIndex((t=>t.id===e.id)),1)}function h(e,t){y(b.value.find((e=>e.id===t)))}function S(e){b.value.some((t=>t.id===e.name))||(b.value.push({id:e.name,struct:e.settings_schema,active:!1,card_type:"SettingsCard"}),w(b.value.at(-1)))}function C(e){var t="list-group-item pointer clickable";return k.value.id==e.id&&(t+=" border border-primary border-4"),t}function D(){d.value.toggle()}function H(e){t.set_working_directory(e)}function x(){const e=o.value.getBoundingClientRect().left,t=o.value.getBoundingClientRect().bottom;u.value.set_position(e,t),u.value.toggle(p.value)}return i.on("connect",(()=>{console.log("connected"),a("server connected")})),i.on("disconnect",(()=>{console.log("disconnected"),a.error("server disconnected"),w(m.value.at(-1)),g.value=[]})),i.on("tasks",(e=>{console.log("tasks update"),g.value=e})),i.on("available_processes",(e=>{p.value=e})),(0,n.bv)((()=>{i.emit("request_working_dir",(e=>{t.set_working_directory(e)}))})),i.on("toast",(e=>{var t=e.txt,i=e.type;"success"==i?a.success(t):"error"==i?a.error(t):"info"==i?a.info(t):"warning"==i&&a.warning(t)})),(e,t)=>((0,n.wg)(),(0,n.iD)("html",null,[(0,n._)("body",null,[(0,n._)("nav",as,[(0,n._)("div",ns,[ls,rs,(0,n._)("div",os,[(0,n._)("ul",cs,[(0,n._)("button",{type:"button",class:"btn btn-outline-primary",onClick:D},(0,l.zw)((0,r.SU)(_)),1)])])]),us]),(0,n._)("div",ds,[(0,n._)("div",vs,[(0,n._)("div",_s,[(0,n._)("div",ps,[(0,n._)("div",gs,[bs,(0,n._)("h3",null,[(0,n._)("button",{class:"btn btn-outline-primary clickable",ref_key:"new_task_button",ref:o,onClick:t[0]||(t[0]=(0,s.iM)((e=>x()),["self"]))},"New Task",512)])]),(0,n._)("ul",ms,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(b.value,(e=>((0,n.wg)(),(0,n.iD)("li",{class:(0,l.C_)(C(e)),key:e,onClick:t=>w(e,"SettingsCard")},[(0,n.Uk)((0,l.zw)(e.id)+" ",1),"SettingsCard"==e.card_type?((0,n.wg)(),(0,n.iD)("div",ks,[(0,n._)("i",{class:"bi bi-x-lg",onClick:(0,s.iM)((t=>y(e)),["stop"])},null,8,ws)])):(0,n.kq)("",!0)],10,fs)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(g.value,(e=>((0,n.wg)(),(0,n.iD)("li",{class:(0,l.C_)(C(e)),key:e,onClick:t=>w(e,"TaskCard")},[(0,n.Uk)((0,l.zw)(e.id)+" ",1),"SettingsCard"==e.card_type?((0,n.wg)(),(0,n.iD)("div",hs,[(0,n._)("i",{class:"bi bi-x-lg",onClick:(0,s.iM)((t=>y(e)),["stop"])},null,8,Ss)])):(0,n.kq)("",!0)],10,ys)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(m.value,(e=>((0,n.wg)(),(0,n.iD)("li",{class:(0,l.C_)(C(e)),key:e,onClick:t=>w(e,"TaskCard")},[(0,n.Uk)((0,l.zw)(e.id)+" ",1),"SettingsCard"==e.card_type?((0,n.wg)(),(0,n.iD)("div",Ds,[(0,n._)("i",{class:"bi bi-x-lg",onClick:(0,s.iM)((t=>y(e)),["stop"])},null,8,Hs)])):(0,n.kq)("",!0)],10,Cs)))),128))])])]),(0,n._)("div",xs,[((0,n.wg)(),(0,n.j4)((0,n.LL)(v[f.value]),{id:k.value.id,struct:k.value.struct,active:k.value.active,onSettings_completed:h},null,40,["id","struct","active"]))])]),(0,n.Wm)(is,{ref_key:"task_menu",ref:u,onProcess_chosen:S},null,512),(0,n.Wm)(oi,{ref_key:"file_browser",ref:d,valid_selections:["dir"],onUser_selected:H},null,512)])])]))}};const Us=qs;var js=Us;i(343),i(2166),i(6744);const zs=(0,a.WB)(),Fs=(0,s.ri)(js),Ms={position:"bottom-right"};Fs.use(zs),Fs.use(ss.ZP,Ms),Fs.mount("#app")}},t={};function i(s){var a=t[s];if(void 0!==a)return a.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,i),n.exports}i.m=e,function(){var e=[];i.O=function(t,s,a,n){if(!s){var l=1/0;for(u=0;u<e.length;u++){s=e[u][0],a=e[u][1],n=e[u][2];for(var r=!0,o=0;o<s.length;o++)(!1&n||l>=n)&&Object.keys(i.O).every((function(e){return i.O[e](s[o])}))?s.splice(o--,1):(r=!1,n<l&&(l=n));if(r){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[s,a,n]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,n,l=s[0],r=s[1],o=s[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(a in r)i.o(r,a)&&(i.m[a]=r[a]);if(o)var u=o(i)}for(t&&t(s);c<l.length;c++)n=l[c],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(u)},s=self["webpackChunkweb"]=self["webpackChunkweb"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(7634)}));s=i.O(s)})();
//# sourceMappingURL=app.2de014ed.js.map