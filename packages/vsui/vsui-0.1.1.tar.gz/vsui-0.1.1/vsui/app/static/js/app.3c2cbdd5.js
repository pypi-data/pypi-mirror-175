(function(){"use strict";var e={8263:function(e,i,t){var a=t(9242),n=t(1020),l=(t(2262),t(4506),t(7658),t(3396)),s=t(7139),r=t(4870),o=t(2066);const c=(0,n.Q_)("vsui_store",(()=>{const e=(0,o.ZP)({extraHeaders:{type:"web"}}),i=(0,r.iH)("/");function t(t){i.value=t,e.emit("web_working_dir",t)}return e.on("server_working_dir",(e=>{i.value=e})),{socket:e,working_directory:i,set_working_directory:t}})),u={class:"row mb-3"},d={class:"col"},v={class:"progress"},_=["aria-valuenow"];var p={__name:"ProgressElement",props:{id:String,task_id:String},setup(e){const i=e,t=c(),a=t.socket,n=(0,r.qj)({value:{current:0,max:1}}),o=(0,l.Fl)((()=>n.value.current/n.value.max*100));return a.on("progress_data_update",(e=>{i.task_id in e&&i.id in e[i.task_id]&&(n.value=e[i.task_id][i.id])})),(0,l.bv)((()=>{a.emit("request_update",{task_id:i.task_id,key:i.id})})),(i,t)=>((0,l.wg)(),(0,l.iD)("div",u,[(0,l._)("div",d,[(0,l._)("h5",null,(0,s.zw)(e.id)+" - "+(0,s.zw)(n.value.current)+" / "+(0,s.zw)(n.value.max),1),(0,l._)("div",v,[(0,l._)("div",{class:"progress-bar",role:"progressbar",id:"epoch-progress-bar",style:(0,s.j5)({width:(0,r.SU)(o)+"%"}),"aria-valuenow":(0,r.SU)(o),"aria-valuemin":"0","aria-valuemax":"100"},null,12,_)])])]))}},g=t(89);const b=(0,g.Z)(p,[["__scopeId","data-v-5feaa082"]]);var m=b;const f=e=>((0,l.dD)("data-v-64816b98"),e=e(),(0,l.Cn)(),e),k={class:"row mb-3"},w={class:"col"},y={class:"row"},h={class:"col align-self-start"},S={class:"col-1 align-self-end"},D=f((()=>(0,l._)("hr",null,null,-1))),x=f((()=>(0,l._)("hr",null,null,-1)));var q={__name:"LogElement",props:{id:String,task_id:String},setup(e){const i=e,t=c(),a=t.socket,n=(0,r.iH)(!1);function o(){n.value=!n.value}const u=(0,l.Fl)((()=>n.value?"":"log")),d=(0,l.Fl)((()=>n.value?"bi bi-chevron-down":"bi bi-chevron-up")),v=(0,l.Fl)((()=>{var e=_.value;return e.reverse()})),_=(0,r.qj)({value:["nothing to show"]});return a.on("log_data_update",(e=>{i.task_id in e&&i.id in e[i.task_id]&&(_.value=e[i.task_id][i.id])})),(0,l.bv)((()=>{a.emit("request_update",{task_id:i.task_id,key:i.id})})),(i,t)=>((0,l.wg)(),(0,l.iD)("div",k,[(0,l._)("div",w,[(0,l._)("div",y,[(0,l._)("div",h,[(0,l._)("h5",null,(0,s.zw)(e.id),1)]),(0,l._)("div",S,[(0,l._)("h5",null,[(0,l._)("i",{class:(0,s.C_)((0,r.SU)(d)),onClick:t[0]||(t[0]=e=>o()),style:{cursor:"pointer"}},null,2)])])]),D,(0,l._)("div",{class:(0,s.C_)((0,r.SU)(u))},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,r.SU)(v),(e=>((0,l.wg)(),(0,l.iD)("p",{key:e},(0,s.zw)(e),1)))),128))],2),x])]))}};const C=(0,g.Z)(q,[["__scopeId","data-v-64816b98"]]);var H=C,j=t(6294),U=t(741);const z={class:"row mb-3"},F={class:"col"};var T={__name:"ChartElement",props:{id:String,task_id:String},setup(e){const i=e;U.kL.register(U.Dx,U.u,U.De,U.jn,U.f$,U.od,U.uw);const t=c(),a=t.socket,n=(0,r.qj)({value:{x:[],y:[]}}),o=(0,l.Fl)((()=>({value:{labels:n.value.x,datasets:[{label:"Training Loss",backgroundColor:"#f87979",data:n.value.y}]}}))),u={responsive:!0,maintainAspectRatio:!1};return a.on("chart_data_update",(e=>{i.task_id in e&&i.id in e[i.task_id]&&(n.value=e[i.task_id][i.id])})),(0,l.bv)((()=>{a.emit("request_update",{task_id:i.task_id,key:i.id})})),(i,t)=>((0,l.wg)(),(0,l.iD)("div",z,[(0,l._)("div",F,[(0,l._)("h5",null,(0,s.zw)(e.id),1),(0,l.Wm)((0,r.SU)(j.x1),{"chart-options":u,"chart-data":(0,r.SU)(o).value},null,8,["chart-data"])])]))}};const M=T;var Y=M;const I={class:"row"},O={class:"col"},Z=["src"],L={class:"col"},K=["src"],$={class:"col"},E=["src"];var P={__name:"GalleryViewer",setup(e,{expose:i}){const t=(0,r.iH)(!1),n=(0,r.iH)(""),s=(0,r.iH)([]);function o(e){n.value=e}function c(){t.value=!1}function u(){t.value=!0}function d(e){s.value=e}return i({open:u,close:c,set_images:o,set_reference:d}),(e,i)=>t.value?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"foggy d-flex justify-content-center align-items-center",onClick:i[0]||(i[0]=(0,a.iM)((e=>c()),["stop"]))},[(0,l._)("div",I,[(0,l._)("div",O,[(0,l._)("img",{src:n.value,class:"img-fluid"},null,8,Z)]),(0,l._)("div",L,[(0,l._)("img",{src:s.value[1],class:"img-fluid"},null,8,K)]),(0,l._)("div",$,[(0,l._)("img",{src:s.value[0],class:"img-fluid"},null,8,E)])])])):(0,l.kq)("",!0)}};const B=(0,g.Z)(P,[["__scopeId","data-v-40e9d1e2"]]);var R=B;const A=e=>((0,l.dD)("data-v-15f6f784"),e=e(),(0,l.Cn)(),e),W={class:"row mb-3"},N={class:"col"},V={class:"row"},G={class:"col align-self-start"},Q=A((()=>(0,l._)("div",{class:"col-1 align-self-end"},null,-1))),J=A((()=>(0,l._)("hr",null,null,-1))),X={class:"container"},ee=["src","onClick"],ie=A((()=>(0,l._)("hr",null,null,-1)));var te={__name:"GalleryElement",props:{id:String,task_id:String},setup(e){const i=e,t=c(),a=t.socket,n=(0,r.iH)(null),o=4,u=(0,r.qj)({value:[]}),d=(0,r.iH)([]),v=(0,l.Fl)((()=>{var e=u.value;return e.reverse()}));function _(e){return"data:image/jpeg;base64, "+e}const p=(0,l.Fl)((()=>u.value.length)),g=(0,l.Fl)((()=>Math.ceil(p.value/o)));function b(e){n.value.set_images(_(v.value[e])),n.value.set_reference(d.value.map(_)),n.value.open()}return a.on("gallery_data_update",(e=>{i.task_id in e&&i.id in e[i.task_id]&&(u.value=e[i.task_id][i.id])})),a.on("gallery_reference_update",(e=>{i.task_id in e&&i.id in e[i.task_id]&&(d.value=e[i.task_id][i.id],console.log("have some reference images"))})),(0,l.bv)((()=>{a.emit("request_update",{task_id:i.task_id,key:i.id})})),(i,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",W,[(0,l._)("div",N,[(0,l._)("div",V,[(0,l._)("div",G,[(0,l._)("h5",null,(0,s.zw)(e.id),1)]),Q]),J,(0,l._)("div",X,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,r.SU)(g),(e=>((0,l.wg)(),(0,l.iD)("div",{class:"row",key:e},[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(o,(i=>(0,l._)("div",{class:"col",key:i},[(e-1)*o+(i-1)<(0,r.SU)(p)?((0,l.wg)(),(0,l.iD)("img",{key:0,src:_((0,r.SU)(v)[(e-1)*o+(i-1)]),class:"img-fluid",onClick:t=>b((e-1)*o+(i-1))},null,8,ee)):(0,l.kq)("",!0)]))),64))])))),128))]),ie])]),(0,l.Wm)(R,{ref_key:"viewer",ref:n},null,512)],64))}};const ae=(0,g.Z)(te,[["__scopeId","data-v-15f6f784"]]);var ne=ae;const le={class:"card mb-2"},se={class:"card-header"},re={class:"float-start"},oe={class:"card-body"};var ce={__name:"TaskCard",props:{id:{required:!0,type:String},struct:{default:null},active:{default:!1,type:Boolean}},setup(e){const i={ProgressElement:m,LogElement:H,ChartElement:Y,GalleryElement:ne};function t(){}return(a,n)=>((0,l.wg)(),(0,l.iD)("div",le,[(0,l._)("div",se,[(0,l._)("div",re,(0,s.zw)(e.id),1),(0,l._)("div",{class:"float-end"},[(0,l._)("i",{class:"bi bi-download clickable",onClick:t})])]),(0,l._)("div",oe,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.struct,(t=>((0,l.wg)(),(0,l.j4)((0,l.LL)(i[t.component]),{key:t.key,id:t.key,task_id:e.id},null,8,["id","task_id"])))),128))])]))}};const ue=ce;var de=ue;const ve=e=>((0,l.dD)("data-v-bc512cd4"),e=e(),(0,l.Cn)(),e),_e={class:"row align-items-center g-2 mt-2 pb-4"},pe={class:"col"},ge={class:"input-group"},be=ve((()=>(0,l._)("span",{class:"input-group-text",style:{width:"20%"},id:"task_id_label",name:"task_id_label"},"Task ID",-1))),me=["aria-describedby"],fe={class:"input-group-text"},ke={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},we=ve((()=>(0,l._)("span",{class:"visually-hidden"},"Editing...",-1))),ye=[we],he={key:1,class:"bi bi-check"},Se={key:2,class:"bi bi-exclamation-lg"},De=ve((()=>(0,l._)("div",{class:"col"},[(0,l._)("span",{id:"task_id_help",class:"form-text"}," Must be Unique ")],-1))),xe={class:"row align-items-center g-2"},qe={class:"error"};var Ce={__name:"TaskIDInput",props:{process_id:String},emits:["new_task_id"],setup(e,{emit:i}){const t=e,n=c(),o=n.socket;var u=new Date,d=String(u.getFullYear())+String(u.getMonth()+1)+String(u.getDate()),v=String(u.getHours())+String(u.getMinutes()),_=d+"_"+v;const p=(0,r.iH)(t.process_id+"_"+_);var g=1200,b=null;const m=(0,r.iH)("success"),f=(0,r.iH)("");function k(e){let i=w["id"];return i.test(e)}(0,l.YP)(p,(e=>{clearTimeout(b),m.value="editing",b=setTimeout((()=>{k(e)?o.emit("check_task_id_unique",e):(f.value=y["id"],m.value="error")}),g)})),(0,l.bv)((()=>{k(p.value)?o.emit("check_task_id_unique",p.value):(f.value=y["id"],m.value="error")})),o.on("task_id_uniqueness",(e=>{"unique"==e?(i("new_task_id",p.value),f.value="",m.value="success"):(f.value="Not Unique",m.value="error")}));const w={id:/^[\w\-_]+$/},y={id:"Required, Must only contain characters { A-Z - _ }."};return(e,i)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",_e,[(0,l._)("div",pe,[(0,l._)("div",ge,[be,(0,l.wy)((0,l._)("input",{type:"text",id:"task_id_input",name:"task_id_input",class:"form-control","onUpdate:modelValue":i[0]||(i[0]=e=>p.value=e),"aria-describedby":e.task_id_help},null,8,me),[[a.nr,p.value]]),(0,l._)("span",fe,["editing"==m.value?((0,l.wg)(),(0,l.iD)("div",ke,ye)):(0,l.kq)("",!0),"success"==m.value?((0,l.wg)(),(0,l.iD)("i",he)):(0,l.kq)("",!0),"error"==m.value?((0,l.wg)(),(0,l.iD)("i",Se)):(0,l.kq)("",!0)])])]),De]),(0,l._)("div",xe,[(0,l._)("p",qe,(0,s.zw)(f.value),1)])],64))}};const He=(0,g.Z)(Ce,[["__scopeId","data-v-bc512cd4"]]);var je=He;const Ue=e=>((0,l.dD)("data-v-7e2b9d0b"),e=e(),(0,l.Cn)(),e),ze={class:"row align-items-center g-2 mb-2"},Fe={class:"col"},Te={class:"input-group"},Me=["id","name"],Ye=["id","name","aria-describedby"],Ie={class:"input-group-text"},Oe={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},Ze=Ue((()=>(0,l._)("span",{class:"visually-hidden"},"Editing...",-1))),Le=[Ze],Ke={key:1,class:"bi bi-check"},$e={key:2,class:"bi bi-exclamation-lg"},Ee={class:"col"},Pe=["id"],Be={key:0,class:"row align-items-center g-2"},Re={class:"error"};var Ae={__name:"SettingText",props:{process_id:String,id:String,name:String,help:String,validation:String},setup(e){const i=e,t=c(),n=t.socket,o=(0,r.iH)(""),u=(0,l.Fl)((()=>i.id+"_help_inline")),d=(0,l.Fl)((()=>i.id+"_addon"));var v=500,_=null;const p=(0,r.iH)("success"),g=(0,r.iH)("");function b(e){m(e)?(n.emit("setting_change",{process_id:i.process_id,setting_id:i.id,data:e}),p.value="success",g.value=""):(p.value="error",g.value=k[i.validation])}function m(e){let t=f[i.validation];return t.test(e)}(0,l.YP)(o,(e=>{clearTimeout(_),p.value="editing",_=setTimeout((()=>{b(e)}),v)})),n.emit("request_setting",{process_id:i.process_id,setting_id:i.id}),n.on("setting_update",(e=>{i.process_id in e&&i.id in e[i.process_id]&&(o.value=e[i.process_id][i.id])}));const f={filename:/^[\w\-_]*$/,"required filename":/^[\w\-_]+$/,filepath:/^(^\/[\w\-_]+|(?![\s\S]))$/,"required filepath":/^\/[\w\-_]+$/,integer:/^[0-9]*$/,"required integer":/^[0-9]+$/,float:/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+|^(?![\s\S]))$/,"required float":/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+)$/},k={filename:"Must only contain characters { A-Z - _ }.","required filename":"Required, Must only contain characters { A-Z - _ }.",filepath:"Must start with / and only contain characters { A-Z - _ }.","required filepath":"Required, Must start with / and only contain characters { A-Z - _ }.",integer:"Must be an Integer.","required integer":"Required, Must be an Integer.",float:"Must be a number. Scientific notation e.g. 6.022e-23 is supported.","required float":"Required, Must be a number. Scientific notation e.g. 6.022e-23 is supported."};return(i,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",ze,[(0,l._)("div",Fe,[(0,l._)("div",Te,[(0,l._)("span",{class:"input-group-text",style:{width:"50%"},id:(0,r.SU)(d),name:e.name},(0,s.zw)(e.name),9,Me),(0,l.wy)((0,l._)("input",{type:"text",id:e.id,name:e.name,class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),"aria-describedby":(0,r.SU)(u)},null,8,Ye),[[a.nr,o.value]]),(0,l._)("span",Ie,["editing"==p.value?((0,l.wg)(),(0,l.iD)("div",Oe,Le)):(0,l.kq)("",!0),"success"==p.value?((0,l.wg)(),(0,l.iD)("i",Ke)):(0,l.kq)("",!0),"error"==p.value?((0,l.wg)(),(0,l.iD)("i",$e)):(0,l.kq)("",!0)])])]),(0,l._)("div",Ee,[(0,l._)("span",{id:(0,r.SU)(u),class:"form-text"},(0,s.zw)(e.help),9,Pe)])]),""!=g.value?((0,l.wg)(),(0,l.iD)("div",Be,[(0,l._)("p",Re,(0,s.zw)(g.value),1)])):(0,l.kq)("",!0)],64))}};const We=(0,g.Z)(Ae,[["__scopeId","data-v-7e2b9d0b"]]);var Ne=We;const Ve=e=>((0,l.dD)("data-v-7c39d40f"),e=e(),(0,l.Cn)(),e),Ge={class:"row align-items-center g-2 mb-2"},Qe={class:"col"},Je={class:"input-group"},Xe=["id","name"],ei=["id","name","aria-describedby"],ii={class:"input-group-text"},ti={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},ai=Ve((()=>(0,l._)("span",{class:"visually-hidden"},"Editing...",-1))),ni=[ai],li={key:1,class:"bi bi-check"},si={key:2,class:"bi bi-exclamation-lg"},ri={class:"col"},oi=["id"],ci={key:0,class:"row align-items-center g-2"},ui={class:"error"};var di={__name:"SettingNumber",props:{process_id:String,id:String,default:String,name:String,help:String,validation:String},setup(e){const i=e,t=c(),n=t.socket,o=(0,r.iH)(""),u=(0,l.Fl)((()=>i.id+"_help_inline")),d=(0,l.Fl)((()=>i.id+"_addon"));var v=500,_=null;const p=(0,r.iH)("success"),g=(0,r.iH)("");function b(e){m(e)?(n.emit("setting_change",{process_id:i.process_id,setting_id:i.id,data:e}),p.value="success",g.value=""):(p.value="error",g.value=k[i.validation])}function m(e){let t=f[i.validation];return t.test(e)}(0,l.YP)(o,(e=>{clearTimeout(_),p.value="editing",_=setTimeout((()=>{b(e)}),v)})),n.emit("request_setting",{process_id:i.process_id,setting_id:i.id}),n.on("setting_update",(e=>{let t=e;i.process_id in t&&i.id in t[i.process_id]&&(o.value=t[i.process_id][i.id])}));const f={integer:/^[0-9]*$/,"required integer":/^[0-9]+$/,float:/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+|^(?![\s\S]))$/,"required float":/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+)$/},k={integer:"Must be an Integer.","required integer":"Required, Must be an Integer.",float:"Must be a number. Scientific notation e.g. 6.022e-23 is supported.","required float":"Required, Must be a number. Scientific notation e.g. 6.022e-23 is supported."};return(i,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Ge,[(0,l._)("div",Qe,[(0,l._)("div",Je,[(0,l._)("span",{class:"input-group-text",style:{width:"50%"},id:(0,r.SU)(d),name:e.name},(0,s.zw)(e.name),9,Xe),(0,l.wy)((0,l._)("input",{type:"number",id:e.id,name:e.name,class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),"aria-describedby":(0,r.SU)(u)},null,8,ei),[[a.nr,o.value,void 0,{number:!0}]]),(0,l._)("span",ii,["editing"==p.value?((0,l.wg)(),(0,l.iD)("div",ti,ni)):(0,l.kq)("",!0),"success"==p.value?((0,l.wg)(),(0,l.iD)("i",li)):(0,l.kq)("",!0),"error"==p.value?((0,l.wg)(),(0,l.iD)("i",si)):(0,l.kq)("",!0)])])]),(0,l._)("div",ri,[(0,l._)("span",{id:(0,r.SU)(u),class:"form-text"},(0,s.zw)(e.help),9,oi)])]),""!=g.value?((0,l.wg)(),(0,l.iD)("div",ci,[(0,l._)("p",ui,(0,s.zw)(g.value),1)])):(0,l.kq)("",!0)],64))}};const vi=(0,g.Z)(di,[["__scopeId","data-v-7c39d40f"]]);var _i=vi;const pi={class:"row g-2 align-items-center mb-2"},gi={class:"col"},bi={class:"input-group"},mi=["id","name"],fi=["id","name","aria-describedby"],ki=["value"],wi=(0,l._)("span",{class:"input-group-text"},[(0,l._)("i",{class:"bi bi-check"})],-1),yi={class:"col"},hi=["id"];var Si={__name:"SettingDropdown",props:{process_id:String,id:String,default:String,help:String,name:String,options:Object,selected:String},setup(e){const i=e,t=c(),n=t.socket,o=(0,r.iH)(""),u=(0,l.Fl)((()=>i.id+"_help_inline")),d=(0,l.Fl)((()=>i.id+"_addon"));return n.on("setting_update",(e=>{let t=e;i.process_id in t&&i.id in t[i.process_id]&&(o.value=t[i.process_id][i.id])})),(0,l.bv)((()=>{n.emit("request_setting",{process_id:i.process_id,setting_id:i.id})})),(i,t)=>((0,l.wg)(),(0,l.iD)("div",pi,[(0,l._)("div",gi,[(0,l._)("div",bi,[(0,l._)("span",{class:"input-group-text",style:{width:"50%"},id:(0,r.SU)(d),name:(0,r.SU)(d)},(0,s.zw)(e.name),9,mi),(0,l.wy)((0,l._)("select",{class:"form-select",id:e.id,name:e.name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),"aria-describedby":i.downsample_help_inline},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.options,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.value,value:e.value},(0,s.zw)(e.label),9,ki)))),128))],8,fi),[[a.bM,o.value]]),wi])]),(0,l._)("div",yi,[(0,l._)("span",{id:(0,r.SU)(u),class:"form-text"},(0,s.zw)(e.help),9,hi)])]))}};const Di=Si;var xi=Di;const qi=e=>((0,l.dD)("data-v-da076340"),e=e(),(0,l.Cn)(),e),Ci={class:"card"},Hi={class:"card-header d-flex justify-content-center"},ji={class:"btn-group p-2",role:"group","aria-label":"Nav Buttons"},Ui=["disabled"],zi=qi((()=>(0,l._)("i",{class:"bi bi-chevron-left"},null,-1))),Fi=[zi],Ti=["disabled"],Mi=qi((()=>(0,l._)("i",{class:"bi bi-chevron-right"},null,-1))),Yi=[Mi],Ii={class:"input-group p-2"},Oi=["onKeyup"],Zi=qi((()=>(0,l._)("i",{class:"bi bi-search"},null,-1))),Li=[Zi],Ki=qi((()=>(0,l._)("i",{class:"bi bi-arrow-90deg-up"},null,-1))),$i=[Ki],Ei=qi((()=>(0,l._)("i",{class:"bi bi-house"},null,-1))),Pi=[Ei],Bi=qi((()=>(0,l._)("i",{class:"bi bi-x-lg"},null,-1))),Ri=[Bi],Ai={key:0,class:"card-body"},Wi={class:"list-view"},Ni=["onClick"],Vi={key:1,class:"card-body overflow-scroll"},Gi={class:"d-flex flex-wrap"},Qi=["onClick"],Ji={class:"col"},Xi={class:"row text-center"},et={class:"row text-center d-flex flex-wrap",style:{width:"7rem"}},it={class:"card-footer text-muted inline align-middle d-flex justify-content-between"},tt=["disabled"];var at={__name:"FileBrowserCard",emits:["close, user_selected"],setup(e,{emit:i}){const t=c(),n=t.socket,o=t.working_directory,u=(0,r.iH)("grid"),d=(0,r.iH)(""),v=(0,r.iH)([]),_=(0,r.iH)([]),p=(0,r.iH)(""),g=(0,r.iH)(""),b=(0,r.iH)(""),m=(0,r.iH)([]),f=(0,l.Fl)((()=>0==v.value.length||p.value==v.value.at(-1))),k=(0,l.Fl)((()=>0==_.value.length||p.value==_.value.at(-1))),w=(0,l.Fl)((()=>""==g.value));function y(){console.log(_.value),k.value?b.value="cannot go back":(v.value.push(p.value),q(_.value.at(-1)),_.value.pop())}function h(){console.log(v.value),f.value?b.value="Cannot go Forward":(_.value.push(p.value),q(v.value.at(-1)),v.value.pop())}function S(){q(o)}function D(){let e=p.value.split("/");""==e.at(-1)&&e.pop(),e.pop();let i=e.join("/");""==i&&(i="/"),console.log(i),q(i)}function x(){q(d.value)}function q(e){n.emit("request_directory_contents",e)}function C(e){g.value!=e.path?g.value=e.path:q(e.path)}function H(e){return g.value==e.path?"p-2 selected":"p-2"}function j(){console.log("close"),i("close")}function U(){i("user_selected",g.value)}(0,l.bv)((()=>{q(o)})),n.on("directory_contents",(e=>{"success"==e.status?(b.value="",""!=p.value&&_.value.push(p.value),p.value=e.path,g.value=e.path,m.value=e.contents):b.value=e.status})),(0,l.YP)(p,(e=>{d.value=e}));const z={directory:"bi bi-folder-fill file clickable","directory-empty":"bi bi-folder file clickable","file-generic":"bi bi-file-earmark file clickable","file-data":"bi bi-file-earmark-image file clickable","file-yaml":"bi bi-filetype-yml file clickable"};return(e,i)=>((0,l.wg)(),(0,l.iD)("div",Ci,[(0,l._)("div",Hi,[(0,l._)("div",ji,[(0,l._)("button",{type:"button",class:"btn btn-outline-primary",disabled:e.no_history_exists,onClick:y},Fi,8,Ui),(0,l._)("button",{type:"button",class:"btn btn-outline-primary",disabled:e.no_future_exists,onClick:h},Yi,8,Ti)]),(0,l._)("div",Ii,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>d.value=e),type:"text",class:"form-control","aria-label":"filepath",onFocus:i[1]||(i[1]=e=>e.target.select()),onKeyup:(0,a.D2)(x,["enter"])},null,40,Oi),[[a.nr,d.value]]),(0,l._)("button",{class:"btn btn-outline-primary",type:"button",onClick:x},Li)]),(0,l._)("div",{class:"btn-group p-2",role:"group","aria-label":"Right nav Buttons"},[(0,l._)("button",{type:"button",class:"btn btn-outline-primary",onClick:D},$i),(0,l._)("button",{type:"button",class:"btn btn-outline-primary",onClick:S},Pi),(0,l._)("button",{type:"button",class:"btn btn-outline-secondary p-2",onClick:j},Ri)])]),"list"==u.value?((0,l.wg)(),(0,l.iD)("div",Ai,[(0,l._)("div",Wi,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.value,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.path,class:(0,s.C_)(H(e)),onClick:i=>C(e)},(0,s.zw)(e.path),11,Ni)))),128))])])):(0,l.kq)("",!0),"grid"==u.value?((0,l.wg)(),(0,l.iD)("div",Vi,[(0,l._)("div",Gi,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.value,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.path,class:(0,s.C_)(H(e)),onClick:i=>C(e)},[(0,l._)("div",Ji,[(0,l._)("div",Xi,[(0,l._)("i",{class:(0,s.C_)(z[e.type]),style:{"font-size":"6rem"}},null,2)]),(0,l._)("div",et,[(0,l._)("p",null,(0,s.zw)("/"+e.path.split("/").at(-1)),1)])])],10,Qi)))),128))])])):(0,l.kq)("",!0),(0,l._)("div",it,[(0,l._)("b",null,(0,s.zw)(g.value),1),(0,l._)("b",null,(0,s.zw)(b.value),1),(0,l._)("button",{type:"button",class:"btn btn-outline-primary",disabled:(0,r.SU)(w),onClick:U},"Select",8,tt)])]))}};const nt=(0,g.Z)(at,[["__scopeId","data-v-da076340"]]);var lt=nt;const st={key:0,class:"foggy d-flex justify-content-center align-items-center"};var rt={__name:"FileBrowserModal",emits:["user_selected"],setup(e,{expose:i,emit:t}){const a=(0,r.iH)(!1);function n(){a.value=!1}function s(){a.value=!0}function o(){a.value?n():s()}function c(e){console.log(e),t("user_selected",e),n()}return i({open:s,close:n,toggle:o}),(e,i)=>a.value?((0,l.wg)(),(0,l.iD)("div",st,[(0,l.Wm)(lt,{onClose:n,onUser_selected:c})])):(0,l.kq)("",!0)}};const ot=rt;var ct=ot;const ut={class:"row align-items-center g-2 mb-2"},dt={class:"col"},vt=["id","name"],_t=["id","name","aria-describedby"],pt=["id","name"],gt={class:"col"},bt=["id"];var mt={__name:"FileSelect",props:{process_id:String,id:String,name:String,help:String,count:Number,validation:String},setup(e){const i=e,t=c(),a=t.socket,n=(0,r.iH)(null),o=(0,r.iH)("");function u(){n.value.open()}function d(e){o.value.includes(e)||null===e||(o.value=e,v(o.value))}function v(e){a.emit("setting_change",{process_id:i.process_id,setting_id:i.id,data:e})}return(i,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",ut,[(0,l._)("div",dt,[(0,l._)("div",{class:"input-group",onClick:u},[(0,l._)("span",{class:"input-group-text",style:{width:"25%"},id:i.addon_id,name:e.name},(0,s.zw)(e.name),9,vt),(0,l._)("button",{type:"Button",style:{width:"15%"},id:e.id+"btn",name:e.name,class:"form-control","aria-describedby":i.help_id},"Browse",8,_t),(0,l._)("span",{class:"input-group-text filename",style:{width:"60%"},id:i.addon_id+"post",name:e.name},(0,s.zw)(o.value),9,pt)])]),(0,l._)("div",gt,[(0,l._)("span",{id:i.help_id,class:"form-text"},(0,s.zw)(e.help),9,bt)])]),(0,l.Wm)(ct,{ref_key:"file_browser",ref:n,onUser_selected:d},null,512)],64))}};const ft=(0,g.Z)(mt,[["__scopeId","data-v-2979908c"]]);var kt=ft;const wt={class:"pb-4"},yt=(0,l._)("hr",null,null,-1);var ht={__name:"SettingSectionBasic",props:{header:String,struct:Object,id:String},setup(e){const i={text:Ne,number:_i,select:xi,file_select:kt};return(t,a)=>((0,l.wg)(),(0,l.iD)("div",wt,[(0,l._)("h5",null,(0,s.zw)(e.header),1),yt,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.struct,(t=>((0,l.wg)(),(0,l.j4)((0,l.LL)(i[t.component]),{key:t.id,process_id:e.id,id:t.id,name:t.name,help:t.help,validation:t.validation,options:t.options,count:t.count},null,8,["process_id","id","name","help","validation","options","count"])))),128))]))}};const St=ht;var Dt=St;const xt={class:"pb-4"},qt={class:"row"},Ct={class:"col align-self-start"},Ht={class:"col-1 align-self-end"},jt=(0,l._)("hr",null,null,-1),Ut={key:0};var zt={__name:"SettingSectionAdvanced",props:{header:String,struct:Object,id:String},setup(e){const i={text:Ne,number:_i,select:xi,file_select:kt},t=(0,r.iH)(!1);function a(){t.value=!t.value}const n={true:"bi bi-chevron-down",false:"bi bi-chevron-up"};return(r,o)=>((0,l.wg)(),(0,l.iD)("div",xt,[(0,l._)("div",qt,[(0,l._)("div",Ct,[(0,l._)("h5",{onClick:o[0]||(o[0]=e=>a()),style:{cursor:"pointer"}},(0,s.zw)(e.header),1)]),(0,l._)("div",Ht,[(0,l._)("h5",null,[(0,l._)("i",{class:(0,s.C_)(n[t.value]),onClick:o[1]||(o[1]=e=>a()),style:{cursor:"pointer"}},null,2)])])]),jt,((0,l.wg)(),(0,l.j4)(l.Ob,null,[t.value?((0,l.wg)(),(0,l.iD)("div",Ut,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.struct,(t=>((0,l.wg)(),(0,l.j4)((0,l.LL)(i[t.component]),{key:t.id,process_id:e.id,id:t.id,name:t.name,help:t.help,options:t.options,validation:t.validation,count:t.count},null,8,["process_id","id","name","help","options","validation","count"])))),128))])):(0,l.kq)("",!0)],1024))]))}};const Ft=zt;var Tt=Ft;const Mt={class:"card mb-2"},Yt={class:"card-header"},It={class:"float-start"},Ot={class:"card-body"},Zt={class:"row"},Lt={class:"col"},Kt={key:0,class:"spinner-border text-primary",role:"status"},$t=(0,l._)("span",{class:"visually-hidden"},"Loading...",-1),Et=[$t];var Pt={__name:"SettingsCard",props:{id:{required:!0,type:String},struct:{default:null},active:{default:!1,type:Boolean}},emits:["settings_completed"],setup(e,{emit:i}){const t=e,a=c(),n=a.socket,o={basic:Dt,advanced:Tt},u=(0,r.iH)(""),d=(0,r.iH)(!1),v=(0,l.Fl)((()=>_(t.struct)));function _(e){let i=e.slice(1).findIndex(p)+1;return 0==i?[{header:e[0]["header"],type:e[0]["type"],struct:e.slice(1)}]:[{header:e[0]["header"],type:e[0]["type"],struct:e.slice(1,i)}].concat(_(e.slice(i)))}function p(e){return"section"==e["component"]}function g(e){u.value=e}function b(){n.emit("launch_process",{process_id:t.id,task_id:u.value}),d.value=!0}return n.on("server_added_task",(e=>{console.log(e),e==u.value&&(d.value=!1,i("settings_completed",u.value,t.id))})),(i,t)=>((0,l.wg)(),(0,l.iD)("div",Mt,[(0,l._)("div",Yt,[(0,l._)("div",It,(0,s.zw)(e.id),1)]),(0,l._)("div",Ot,[(0,l.Wm)(je,{process_id:e.id,onNew_task_id:g},null,8,["process_id"]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,r.SU)(v),(i=>((0,l.wg)(),(0,l.j4)((0,l.LL)(o[i.type]),{key:i.header,struct:i.struct,id:e.id,header:i.header},null,8,["struct","id","header"])))),128)),(0,l._)("div",Zt,[(0,l._)("div",{class:"col"},[(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:b},"Start")]),(0,l._)("div",Lt,[1==d.value?((0,l.wg)(),(0,l.iD)("div",Kt,Et)):(0,l.kq)("",!0)])])])]))}};const Bt=Pt;var Rt=Bt;const At=e=>((0,l.dD)("data-v-69a3eff5"),e=e(),(0,l.Cn)(),e),Wt={class:"card",style:{width:"18rem"}},Nt={class:"card-header"},Vt=At((()=>(0,l._)("div",{class:"float-start"}," Add Task ",-1))),Gt={class:"float-end"},Qt={class:"list-group list-group-flush"},Jt=["onClick"];var Xt={__name:"NewTaskMenu",emits:["process_chosen"],setup(e,{expose:i,emit:t}){const a=(0,r.iH)(!1),n=(0,r.iH)(0),o=(0,r.iH)(0),c=(0,r.qj)({value:[]});function u(e){a.value=!0,c.value=e}function d(){a.value=!1}function v(e){a.value?d():u(e)}function _(e,i){n.value=e,o.value=i}function p(e){d(),t("process_chosen",e)}return i({open:u,toggle:v,set_position:_}),(e,i)=>a.value?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"position-absolute overlay",style:(0,s.j5)({top:o.value+"px",left:n.value+"px"})},[(0,l._)("div",Wt,[(0,l._)("div",Nt,[Vt,(0,l._)("div",Gt,[(0,l._)("i",{class:"bi bi-x-lg clickable",onClick:i[0]||(i[0]=e=>d())})])]),(0,l._)("ul",Qt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.value,(e=>((0,l.wg)(),(0,l.iD)("li",{class:"list-group-item clickable",key:e.name,onClick:i=>p(e)},(0,s.zw)(e.name),9,Jt)))),128))])])],4)):(0,l.kq)("",!0)}};const ea=(0,g.Z)(Xt,[["__scopeId","data-v-69a3eff5"]]);var ia=ea,ta=t(4677);const aa={class:"navbar fixed-top navbar-expand-sm navbar-light bg-light","aria-label":"Volume Segmentation Toolkit"},na={class:"container-fluid"},la=(0,l._)("div",{class:"navbar-brand"},"Volume Segmentation Toolkit",-1),sa=(0,l._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar_top","aria-controls":"navbar_top","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,l._)("span",{class:"navbar-toggler-icon"})],-1),ra={class:"collapse navbar-collapse",id:"navbar_top"},oa={class:"navbar-nav ms-auto"},ca=(0,l._)("hr",null,null,-1),ua={class:"container-fluid mt-20"},da={class:"row gx-1"},va={class:"col-3"},_a={class:"card"},pa={class:"card-header d-flex justify-content-between align-items-center"},ga=(0,l._)("h5",null,"Tasks",-1),ba={class:"list-group list-group-flush"},ma=["onClick"],fa={key:0,class:"float-end"},ka=["onClick"],wa={key:1,class:"float-end"},ya=(0,l._)("div",{class:"spinner-border spinner-border-sm text-primary m-1",role:"status"},[(0,l._)("span",{class:"visually-hidden"},"Task running...")],-1),ha=[ya],Sa={class:"col-9"};var Da={__name:"App",setup(e){const i=c(),t=i.socket,n=(0,ta.pm)(),o=(0,r.iH)(null),u=(0,r.iH)(null),d=(0,r.iH)(null),v={TaskCard:de,SettingsCard:Rt},_=(0,r.qj)({value:[]}),p=(0,r.qj)({value:[]}),g=(0,r.qj)({value:[]}),b=(0,l.Fl)((()=>g.value.concat(p.value.map((e=>Object.assign(e,{card_type:"TaskCard"}))),[{id:"Help",struct:[{key:"Nothing to Show",component:"LogElement"}],active:!1,card_type:"TaskCard"}]))),m=(0,l.Fl)((()=>"/"==i.working_directory?"Choose Working Directory":i.working_directory)),f={Taskcard:p,SettingsCard:g},k=(0,r.iH)(b.value[0]);function w(e){k.value=e}function y(e){e.id==k.value.id&&w(b.value.at(-1));let i=f[e.card_type].value;i.splice(i.findIndex((i=>i.id===e.id)),1)}function h(e,i){y(b.value.find((e=>e.id===i)))}function S(e){if(console.log(e.name),!g.value.some((i=>i.id===e.name))){let i={id:e.name,struct:e.settings_schema,false:!0,card_type:"SettingsCard"};g.value.push(i),w(i)}}function D(e){var i="list-group-item pointer clickable";return k.value.id==e.id&&(i+=" border border-primary border-4"),i}function x(){d.value.toggle()}function q(e){i.set_working_directory(e),console.log(i.working_directory)}function C(){const e=o.value.getBoundingClientRect().left,i=o.value.getBoundingClientRect().bottom;u.value.set_position(e,i),u.value.toggle(_.value)}return t.on("connect",(()=>{console.log("connected"),n("server connected")})),t.on("disconnect",(()=>{console.log("disconnected"),n.error("server disconnected"),w(b.value.at(-1)),p.value=[]})),t.on("tasks",(e=>{p.value=e})),t.on("available_processes",(e=>{_.value=e})),(0,l.bv)((()=>{t.emit("get_working_dir")})),t.on("toast",(e=>{var i=e.txt,t=e.type;"success"==t?n.success(i):"error"==t?n.error(i):"info"==t?n.info(i):"warning"==t&&n.warning(i)})),(e,i)=>((0,l.wg)(),(0,l.iD)("html",null,[(0,l._)("body",null,[(0,l._)("nav",aa,[(0,l._)("div",na,[la,sa,(0,l._)("div",ra,[(0,l._)("ul",oa,[(0,l._)("button",{type:"button",class:"btn btn-outline-primary",onClick:x},(0,s.zw)((0,r.SU)(m)),1)])])]),ca]),(0,l._)("div",ua,[(0,l._)("div",da,[(0,l._)("div",va,[(0,l._)("div",_a,[(0,l._)("div",pa,[ga,(0,l._)("h3",null,[(0,l._)("button",{class:"btn btn-outline-primary clickable",ref_key:"new_task_button",ref:o,onClick:i[0]||(i[0]=(0,a.iM)((e=>C()),["self"]))},"New Task",512)])]),(0,l._)("ul",ba,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,r.SU)(b),(e=>((0,l.wg)(),(0,l.iD)("li",{class:(0,s.C_)(D(e)),key:e.id,onClick:i=>w(e)},[(0,l.Uk)((0,s.zw)(e.id)+" ",1),"SettingsCard"==e.card_type?((0,l.wg)(),(0,l.iD)("div",fa,[(0,l._)("i",{class:"bi bi-x-lg",onClick:(0,a.iM)((i=>y(e)),["stop"])},null,8,ka)])):(0,l.kq)("",!0),e.active?((0,l.wg)(),(0,l.iD)("div",wa,ha)):(0,l.kq)("",!0)],10,ma)))),128))])])]),(0,l._)("div",Sa,[((0,l.wg)(),(0,l.j4)(l.Ob,null,[((0,l.wg)(),(0,l.j4)((0,l.LL)(v[k.value.card_type]),{id:k.value.id,struct:k.value.struct,active:k.value.active,onSettings_completed:h},null,40,["id","struct","active"]))],1024))])]),(0,l.Wm)(ia,{ref_key:"task_menu",ref:u,onProcess_chosen:S},null,512),(0,l.Wm)(ct,{ref_key:"file_browser",ref:d,onUser_selected:q},null,512)])])]))}};const xa=Da;var qa=xa;t(343),t(2166),t(6744);const Ca=(0,n.WB)(),Ha=(0,a.ri)(qa),ja={position:"bottom-right"};Ha.use(Ca),Ha.use(ta.ZP,ja),Ha.mount("#app")}},i={};function t(a){var n=i[a];if(void 0!==n)return n.exports;var l=i[a]={exports:{}};return e[a].call(l.exports,l,l.exports,t),l.exports}t.m=e,function(){var e=[];t.O=function(i,a,n,l){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],l=e[u][2];for(var r=!0,o=0;o<a.length;o++)(!1&l||s>=l)&&Object.keys(t.O).every((function(e){return t.O[e](a[o])}))?a.splice(o--,1):(r=!1,l<s&&(s=l));if(r){e.splice(u--,1);var c=n();void 0!==c&&(i=c)}}return i}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[a,n,l]}}(),function(){t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,{a:i}),i}}(),function(){t.d=function(e,i){for(var a in i)t.o(i,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:i[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(i){return 0===e[i]};var i=function(i,a){var n,l,s=a[0],r=a[1],o=a[2],c=0;if(s.some((function(i){return 0!==e[i]}))){for(n in r)t.o(r,n)&&(t.m[n]=r[n]);if(o)var u=o(t)}for(i&&i(a);c<s.length;c++)l=s[c],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(u)},a=self["webpackChunkweb"]=self["webpackChunkweb"]||[];a.forEach(i.bind(null,0)),a.push=i.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(8263)}));a=t.O(a)})();
//# sourceMappingURL=app.3c2cbdd5.js.map