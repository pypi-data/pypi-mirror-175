(function(){"use strict";var e={2698:function(e,i,t){var a=t(9242),s=t(1020),n=(t(2262),t(4506),t(7658),t(3396)),l=t(4870),r=t(7139),o=t(2066);const c=(0,s.Q_)("vsui_store",(()=>{const e=(0,o.ZP)({extraHeaders:{type:"web"}}),i=(0,l.qj)({value:[]});function t(e){i.value=e,console.log(i.value)}return{socket:e,set_available_processes:t}})),d={class:"row mb-3"},u={class:"col"},v={class:"progress"},_=["aria-valuenow"];var p={__name:"ProgressElement",props:{id:String,task_id:String},setup(e){const i=e,t=c(),a=t.socket,s=(0,l.qj)({value:{current:0,max:1}}),o=(0,n.Fl)((()=>s.value.current/s.value.max*100));return a.on("progress_data_update",(e=>{i.task_id in e&&i.id in e[i.task_id]&&(s.value=e[i.task_id][i.id])})),(0,n.bv)((()=>{a.emit("request_update",{task_id:i.task_id,key:i.id})})),(i,t)=>((0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("div",u,[(0,n._)("h5",null,(0,r.zw)(e.id)+" - "+(0,r.zw)(s.value.current)+" / "+(0,r.zw)(s.value.max),1),(0,n._)("div",v,[(0,n._)("div",{class:"progress-bar",role:"progressbar",id:"epoch-progress-bar",style:(0,r.j5)({width:(0,l.SU)(o)+"%"}),"aria-valuenow":(0,l.SU)(o),"aria-valuemin":"0","aria-valuemax":"100"},null,12,_)])])]))}},g=t(89);const m=(0,g.Z)(p,[["__scopeId","data-v-5feaa082"]]);var f=m;const b=e=>((0,n.dD)("data-v-64816b98"),e=e(),(0,n.Cn)(),e),k={class:"row mb-3"},w={class:"col"},y={class:"row"},h={class:"col align-self-start"},S={class:"col-1 align-self-end"},D=b((()=>(0,n._)("hr",null,null,-1))),q=b((()=>(0,n._)("hr",null,null,-1)));var x={__name:"LogElement",props:{id:String,task_id:String},setup(e){const i=e,t=c(),a=t.socket,s=(0,l.iH)(!1);function o(){s.value=!s.value}const d=(0,n.Fl)((()=>s.value?"":"log")),u=(0,n.Fl)((()=>s.value?"bi bi-chevron-down":"bi bi-chevron-up")),v=(0,n.Fl)((()=>{var e=_.value;return e.reverse()})),_=(0,l.qj)({value:["nothing to show"]});return a.on("log_data_update",(e=>{i.task_id in e&&i.id in e[i.task_id]&&(_.value=e[i.task_id][i.id])})),(0,n.bv)((()=>{a.emit("request_update",{task_id:i.task_id,key:i.id})})),(i,t)=>((0,n.wg)(),(0,n.iD)("div",k,[(0,n._)("div",w,[(0,n._)("div",y,[(0,n._)("div",h,[(0,n._)("h5",null,(0,r.zw)(e.id),1)]),(0,n._)("div",S,[(0,n._)("h5",null,[(0,n._)("i",{class:(0,r.C_)((0,l.SU)(u)),onClick:t[0]||(t[0]=e=>o()),style:{cursor:"pointer"}},null,2)])])]),D,(0,n._)("div",{class:(0,r.C_)((0,l.SU)(d))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,l.SU)(v),(e=>((0,n.wg)(),(0,n.iD)("p",{key:e},(0,r.zw)(e),1)))),128))],2),q])]))}};const C=(0,g.Z)(x,[["__scopeId","data-v-64816b98"]]);var H=C,j=t(6294),U=t(741);const z={class:"row mb-3"},M={class:"col"};var T={__name:"ChartElement",props:{id:String,task_id:String},setup(e){const i=e;U.kL.register(U.Dx,U.u,U.De,U.jn,U.f$,U.od,U.uw);const t=c(),a=t.socket,s=(0,l.qj)({value:{x:[],y:[]}}),o=(0,n.Fl)((()=>({value:{labels:s.value.x,datasets:[{label:"Training Loss",backgroundColor:"#f87979",data:s.value.y}]}}))),d={responsive:!0,maintainAspectRatio:!1};return a.on("chart_data_update",(e=>{i.task_id in e&&i.id in e[i.task_id]&&(s.value=e[i.task_id][i.id])})),(0,n.bv)((()=>{a.emit("request_update",{task_id:i.task_id,key:i.id})})),(i,t)=>((0,n.wg)(),(0,n.iD)("div",z,[(0,n._)("div",M,[(0,n._)("h5",null,(0,r.zw)(e.id),1),(0,n.Wm)((0,l.SU)(j.x1),{"chart-options":d,"chart-data":(0,l.SU)(o).value},null,8,["chart-data"])])]))}};const Y=T;var F=Y;const O={class:"row"},I={class:"col"},L=["src"],Z={class:"col"},P=["src"],$={class:"col"},E=["src"];var K={__name:"GalleryViewer",setup(e,{expose:i}){const t=(0,l.iH)(!1),s=(0,l.iH)(""),r=(0,l.iH)([]);function o(e){s.value=e}function c(){t.value=!1}function d(){t.value=!0}function u(e){r.value=e}return i({open:d,close:c,set_images:o,set_reference:u}),(e,i)=>t.value?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"foggy d-flex justify-content-center align-items-center",onClick:i[0]||(i[0]=(0,a.iM)((e=>c()),["stop"]))},[(0,n._)("div",O,[(0,n._)("div",I,[(0,n._)("img",{src:s.value,class:"img-fluid"},null,8,L)]),(0,n._)("div",Z,[(0,n._)("img",{src:r.value[1],class:"img-fluid"},null,8,P)]),(0,n._)("div",$,[(0,n._)("img",{src:r.value[0],class:"img-fluid"},null,8,E)])])])):(0,n.kq)("",!0)}};const R=(0,g.Z)(K,[["__scopeId","data-v-40e9d1e2"]]);var A=R;const B=e=>((0,n.dD)("data-v-15f6f784"),e=e(),(0,n.Cn)(),e),V={class:"row mb-3"},W={class:"col"},N={class:"row"},G={class:"col align-self-start"},Q=B((()=>(0,n._)("div",{class:"col-1 align-self-end"},null,-1))),J=B((()=>(0,n._)("hr",null,null,-1))),X={class:"container"},ee=["src","onClick"],ie=B((()=>(0,n._)("hr",null,null,-1)));var te={__name:"GalleryElement",props:{id:String,task_id:String},setup(e){const i=e,t=c(),a=t.socket,s=(0,l.iH)(null),o=4,d=(0,l.qj)({value:[]}),u=(0,l.iH)([]),v=(0,n.Fl)((()=>{var e=d.value;return e.reverse()}));function _(e){return"data:image/jpeg;base64, "+e}const p=(0,n.Fl)((()=>d.value.length)),g=(0,n.Fl)((()=>Math.ceil(p.value/o)));function m(e){s.value.set_images(_(v.value[e])),s.value.set_reference(u.value.map(_)),s.value.open()}return a.on("gallery_data_update",(e=>{i.task_id in e&&i.id in e[i.task_id]&&(d.value=e[i.task_id][i.id])})),a.on("gallery_reference_update",(e=>{i.task_id in e&&i.id in e[i.task_id]&&(u.value=e[i.task_id][i.id],console.log("have some reference images"))})),(0,n.bv)((()=>{a.emit("request_update",{task_id:i.task_id,key:i.id})})),(i,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",V,[(0,n._)("div",W,[(0,n._)("div",N,[(0,n._)("div",G,[(0,n._)("h5",null,(0,r.zw)(e.id),1)]),Q]),J,(0,n._)("div",X,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,l.SU)(g),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"row",key:e},[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(o,(i=>(0,n._)("div",{class:"col",key:i},[(e-1)*o+(i-1)<(0,l.SU)(p)?((0,n.wg)(),(0,n.iD)("img",{key:0,src:_((0,l.SU)(v)[(e-1)*o+(i-1)]),class:"img-fluid",onClick:t=>m((e-1)*o+(i-1))},null,8,ee)):(0,n.kq)("",!0)]))),64))])))),128))]),ie])]),(0,n.Wm)(A,{ref_key:"viewer",ref:s},null,512)],64))}};const ae=(0,g.Z)(te,[["__scopeId","data-v-15f6f784"]]);var se=ae;const ne={class:"card mb-2"},le={class:"card-header"},re={class:"float-start"},oe={class:"card-body"};var ce={__name:"TaskCard",props:{id:{required:!0,type:String},struct:{default:null},active:{default:!1,type:Boolean}},setup(e){const i={ProgressElement:f,LogElement:H,ChartElement:F,GalleryElement:se};function t(){}return(a,s)=>((0,n.wg)(),(0,n.iD)("div",ne,[(0,n._)("div",le,[(0,n._)("div",re,(0,r.zw)(e.id),1),(0,n._)("div",{class:"float-end"},[(0,n._)("i",{class:"bi bi-download clickable",onClick:t})])]),(0,n._)("div",oe,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.struct,(t=>((0,n.wg)(),(0,n.j4)((0,n.LL)(i[t.component]),{key:t.key,id:t.key,task_id:e.id},null,8,["id","task_id"])))),128))])]))}};const de=ce;var ue=de;const ve=e=>((0,n.dD)("data-v-bc512cd4"),e=e(),(0,n.Cn)(),e),_e={class:"row align-items-center g-2 mt-2 pb-4"},pe={class:"col"},ge={class:"input-group"},me=ve((()=>(0,n._)("span",{class:"input-group-text",style:{width:"20%"},id:"task_id_label",name:"task_id_label"},"Task ID",-1))),fe=["aria-describedby"],be={class:"input-group-text"},ke={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},we=ve((()=>(0,n._)("span",{class:"visually-hidden"},"Editing...",-1))),ye=[we],he={key:1,class:"bi bi-check"},Se={key:2,class:"bi bi-exclamation-lg"},De=ve((()=>(0,n._)("div",{class:"col"},[(0,n._)("span",{id:"task_id_help",class:"form-text"}," Must be Unique ")],-1))),qe={class:"row align-items-center g-2"},xe={class:"error"};var Ce={__name:"TaskIDInput",props:{process_id:String},emits:["new_task_id"],setup(e,{emit:i}){const t=e,s=c(),o=s.socket;var d=new Date,u=String(d.getFullYear())+String(d.getMonth()+1)+String(d.getDate()),v=String(d.getHours())+String(d.getMinutes()),_=u+"_"+v;const p=(0,l.iH)(t.process_id+"_"+_);var g=1200,m=null;const f=(0,l.iH)("success"),b=(0,l.iH)("");function k(e){let i=w["id"];return i.test(e)}(0,n.YP)(p,(e=>{clearTimeout(m),f.value="editing",m=setTimeout((()=>{k(e)?o.emit("check_task_id_unique",e):(b.value=y["id"],f.value="error")}),g)})),(0,n.bv)((()=>{k(p.value)?o.emit("check_task_id_unique",p.value):(b.value=y["id"],f.value="error")})),o.on("task_id_uniqueness",(e=>{"unique"==e?(i("new_task_id",p.value),b.value="",f.value="success"):(b.value="Not Unique",f.value="error")}));const w={id:/^[\w\-_]+$/},y={id:"Required, Must only contain characters { A-Z - _ }."};return(e,i)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",_e,[(0,n._)("div",pe,[(0,n._)("div",ge,[me,(0,n.wy)((0,n._)("input",{type:"text",id:"task_id_input",name:"task_id_input",class:"form-control","onUpdate:modelValue":i[0]||(i[0]=e=>p.value=e),"aria-describedby":e.task_id_help},null,8,fe),[[a.nr,p.value]]),(0,n._)("span",be,["editing"==f.value?((0,n.wg)(),(0,n.iD)("div",ke,ye)):(0,n.kq)("",!0),"success"==f.value?((0,n.wg)(),(0,n.iD)("i",he)):(0,n.kq)("",!0),"error"==f.value?((0,n.wg)(),(0,n.iD)("i",Se)):(0,n.kq)("",!0)])])]),De]),(0,n._)("div",qe,[(0,n._)("p",xe,(0,r.zw)(b.value),1)])],64))}};const He=(0,g.Z)(Ce,[["__scopeId","data-v-bc512cd4"]]);var je=He;const Ue=e=>((0,n.dD)("data-v-7e2b9d0b"),e=e(),(0,n.Cn)(),e),ze={class:"row align-items-center g-2 mb-2"},Me={class:"col"},Te={class:"input-group"},Ye=["id","name"],Fe=["id","name","aria-describedby"],Oe={class:"input-group-text"},Ie={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},Le=Ue((()=>(0,n._)("span",{class:"visually-hidden"},"Editing...",-1))),Ze=[Le],Pe={key:1,class:"bi bi-check"},$e={key:2,class:"bi bi-exclamation-lg"},Ee={class:"col"},Ke=["id"],Re={key:0,class:"row align-items-center g-2"},Ae={class:"error"};var Be={__name:"SettingText",props:{process_id:String,id:String,name:String,help:String,validation:String},setup(e){const i=e,t=c(),s=t.socket,o=(0,l.iH)(""),d=(0,n.Fl)((()=>i.id+"_help_inline")),u=(0,n.Fl)((()=>i.id+"_addon"));var v=500,_=null;const p=(0,l.iH)("success"),g=(0,l.iH)("");function m(e){f(e)?(s.emit("setting_change",{process_id:i.process_id,setting_id:i.id,data:e}),p.value="success",g.value=""):(p.value="error",g.value=k[i.validation])}function f(e){let t=b[i.validation];return t.test(e)}(0,n.YP)(o,(e=>{clearTimeout(_),p.value="editing",_=setTimeout((()=>{m(e)}),v)})),s.emit("request_setting",{process_id:i.process_id,setting_id:i.id}),s.on("setting_update",(e=>{i.process_id in e&&i.id in e[i.process_id]&&(o.value=e[i.process_id][i.id])}));const b={filename:/^[\w\-_]*$/,"required filename":/^[\w\-_]+$/,filepath:/^(^\/[\w\-_]+|(?![\s\S]))$/,"required filepath":/^\/[\w\-_]+$/,integer:/^[0-9]*$/,"required integer":/^[0-9]+$/,float:/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+|^(?![\s\S]))$/,"required float":/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+)$/},k={filename:"Must only contain characters { A-Z - _ }.","required filename":"Required, Must only contain characters { A-Z - _ }.",filepath:"Must start with / and only contain characters { A-Z - _ }.","required filepath":"Required, Must start with / and only contain characters { A-Z - _ }.",integer:"Must be an Integer.","required integer":"Required, Must be an Integer.",float:"Must be a number. Scientific notation e.g. 6.022e-23 is supported.","required float":"Required, Must be a number. Scientific notation e.g. 6.022e-23 is supported."};return(i,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",ze,[(0,n._)("div",Me,[(0,n._)("div",Te,[(0,n._)("span",{class:"input-group-text",style:{width:"50%"},id:(0,l.SU)(u),name:e.name},(0,r.zw)(e.name),9,Ye),(0,n.wy)((0,n._)("input",{type:"text",id:e.id,name:e.name,class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),"aria-describedby":(0,l.SU)(d)},null,8,Fe),[[a.nr,o.value]]),(0,n._)("span",Oe,["editing"==p.value?((0,n.wg)(),(0,n.iD)("div",Ie,Ze)):(0,n.kq)("",!0),"success"==p.value?((0,n.wg)(),(0,n.iD)("i",Pe)):(0,n.kq)("",!0),"error"==p.value?((0,n.wg)(),(0,n.iD)("i",$e)):(0,n.kq)("",!0)])])]),(0,n._)("div",Ee,[(0,n._)("span",{id:(0,l.SU)(d),class:"form-text"},(0,r.zw)(e.help),9,Ke)])]),""!=g.value?((0,n.wg)(),(0,n.iD)("div",Re,[(0,n._)("p",Ae,(0,r.zw)(g.value),1)])):(0,n.kq)("",!0)],64))}};const Ve=(0,g.Z)(Be,[["__scopeId","data-v-7e2b9d0b"]]);var We=Ve;const Ne=e=>((0,n.dD)("data-v-7c39d40f"),e=e(),(0,n.Cn)(),e),Ge={class:"row align-items-center g-2 mb-2"},Qe={class:"col"},Je={class:"input-group"},Xe=["id","name"],ei=["id","name","aria-describedby"],ii={class:"input-group-text"},ti={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},ai=Ne((()=>(0,n._)("span",{class:"visually-hidden"},"Editing...",-1))),si=[ai],ni={key:1,class:"bi bi-check"},li={key:2,class:"bi bi-exclamation-lg"},ri={class:"col"},oi=["id"],ci={key:0,class:"row align-items-center g-2"},di={class:"error"};var ui={__name:"SettingNumber",props:{process_id:String,id:String,default:String,name:String,help:String,validation:String},setup(e){const i=e,t=c(),s=t.socket,o=(0,l.iH)(""),d=(0,n.Fl)((()=>i.id+"_help_inline")),u=(0,n.Fl)((()=>i.id+"_addon"));var v=500,_=null;const p=(0,l.iH)("success"),g=(0,l.iH)("");function m(e){f(e)?(s.emit("setting_change",{process_id:i.process_id,setting_id:i.id,data:e}),p.value="success",g.value=""):(p.value="error",g.value=k[i.validation])}function f(e){let t=b[i.validation];return t.test(e)}(0,n.YP)(o,(e=>{clearTimeout(_),p.value="editing",_=setTimeout((()=>{m(e)}),v)})),s.emit("request_setting",{process_id:i.process_id,setting_id:i.id}),s.on("setting_update",(e=>{let t=e;i.process_id in t&&i.id in t[i.process_id]&&(o.value=t[i.process_id][i.id])}));const b={integer:/^[0-9]*$/,"required integer":/^[0-9]+$/,float:/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+|^(?![\s\S]))$/,"required float":/^([0-9]+\.*[0-9]*|[0-9]*\.+[0-9]+|[0-9]+\.?e-?[0-9]+)$/},k={integer:"Must be an Integer.","required integer":"Required, Must be an Integer.",float:"Must be a number. Scientific notation e.g. 6.022e-23 is supported.","required float":"Required, Must be a number. Scientific notation e.g. 6.022e-23 is supported."};return(i,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",Ge,[(0,n._)("div",Qe,[(0,n._)("div",Je,[(0,n._)("span",{class:"input-group-text",style:{width:"50%"},id:(0,l.SU)(u),name:e.name},(0,r.zw)(e.name),9,Xe),(0,n.wy)((0,n._)("input",{type:"number",id:e.id,name:e.name,class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),"aria-describedby":(0,l.SU)(d)},null,8,ei),[[a.nr,o.value,void 0,{number:!0}]]),(0,n._)("span",ii,["editing"==p.value?((0,n.wg)(),(0,n.iD)("div",ti,si)):(0,n.kq)("",!0),"success"==p.value?((0,n.wg)(),(0,n.iD)("i",ni)):(0,n.kq)("",!0),"error"==p.value?((0,n.wg)(),(0,n.iD)("i",li)):(0,n.kq)("",!0)])])]),(0,n._)("div",ri,[(0,n._)("span",{id:(0,l.SU)(d),class:"form-text"},(0,r.zw)(e.help),9,oi)])]),""!=g.value?((0,n.wg)(),(0,n.iD)("div",ci,[(0,n._)("p",di,(0,r.zw)(g.value),1)])):(0,n.kq)("",!0)],64))}};const vi=(0,g.Z)(ui,[["__scopeId","data-v-7c39d40f"]]);var _i=vi;const pi={class:"row g-2 align-items-center mb-2"},gi={class:"col"},mi={class:"input-group"},fi=["id","name"],bi=["id","name","aria-describedby"],ki=["value"],wi=(0,n._)("span",{class:"input-group-text"},[(0,n._)("i",{class:"bi bi-check"})],-1),yi={class:"col"},hi=["id"];var Si={__name:"SettingDropdown",props:{process_id:String,id:String,default:String,help:String,name:String,options:Object,selected:String},setup(e){const i=e,t=c(),s=t.socket,o=(0,l.iH)(""),d=(0,n.Fl)((()=>i.id+"_help_inline")),u=(0,n.Fl)((()=>i.id+"_addon"));return s.on("setting_update",(e=>{let t=e;i.process_id in t&&i.id in t[i.process_id]&&(o.value=t[i.process_id][i.id])})),(0,n.bv)((()=>{s.emit("request_setting",{process_id:i.process_id,setting_id:i.id})})),(i,t)=>((0,n.wg)(),(0,n.iD)("div",pi,[(0,n._)("div",gi,[(0,n._)("div",mi,[(0,n._)("span",{class:"input-group-text",style:{width:"50%"},id:(0,l.SU)(u),name:(0,l.SU)(u)},(0,r.zw)(e.name),9,fi),(0,n.wy)((0,n._)("select",{class:"form-select",id:e.id,name:e.name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),"aria-describedby":i.downsample_help_inline},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.options,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.value,value:e.value},(0,r.zw)(e.label),9,ki)))),128))],8,bi),[[a.bM,o.value]]),wi])]),(0,n._)("div",yi,[(0,n._)("span",{id:(0,l.SU)(d),class:"form-text"},(0,r.zw)(e.help),9,hi)])]))}};const Di=Si;var qi=Di;const xi={class:"pb-4"},Ci=(0,n._)("hr",null,null,-1);var Hi={__name:"SettingSectionBasic",props:{header:String,struct:Object,id:String},setup(e){const i={text:We,number:_i,select:qi};return(t,a)=>((0,n.wg)(),(0,n.iD)("div",xi,[(0,n._)("h5",null,(0,r.zw)(e.header),1),Ci,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.struct,(t=>((0,n.wg)(),(0,n.j4)((0,n.LL)(i[t.component]),{key:t.id,process_id:e.id,id:t.id,name:t.name,help:t.help,validation:t.validation,options:t.options},null,8,["process_id","id","name","help","validation","options"])))),128))]))}};const ji=Hi;var Ui=ji;const zi={class:"pb-4"},Mi={class:"row"},Ti={class:"col align-self-start"},Yi={class:"col-1 align-self-end"},Fi=(0,n._)("hr",null,null,-1),Oi={key:0};var Ii={__name:"SettingSectionAdvanced",props:{header:String,struct:Object,id:String},setup(e){const i={text:We,number:_i,select:qi},t=(0,l.iH)(!1);function a(){t.value=!t.value}const s={true:"bi bi-chevron-down",false:"bi bi-chevron-up"};return(l,o)=>((0,n.wg)(),(0,n.iD)("div",zi,[(0,n._)("div",Mi,[(0,n._)("div",Ti,[(0,n._)("h5",{onClick:o[0]||(o[0]=e=>a()),style:{cursor:"pointer"}},(0,r.zw)(e.header),1)]),(0,n._)("div",Yi,[(0,n._)("h5",null,[(0,n._)("i",{class:(0,r.C_)(s[t.value]),onClick:o[1]||(o[1]=e=>a()),style:{cursor:"pointer"}},null,2)])])]),Fi,((0,n.wg)(),(0,n.j4)(n.Ob,null,[t.value?((0,n.wg)(),(0,n.iD)("div",Oi,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.struct,(t=>((0,n.wg)(),(0,n.j4)((0,n.LL)(i[t.component]),{key:t.id,process_id:e.id,id:t.id,name:t.name,help:t.help,options:t.options,validation:t.validation},null,8,["process_id","id","name","help","options","validation"])))),128))])):(0,n.kq)("",!0)],1024))]))}};const Li=Ii;var Zi=Li;const Pi={class:"card mb-2"},$i={class:"card-header"},Ei={class:"float-start"},Ki={class:"card-body"},Ri={class:"row"},Ai={class:"col"},Bi={key:0,class:"spinner-border text-primary",role:"status"},Vi=(0,n._)("span",{class:"visually-hidden"},"Loading...",-1),Wi=[Vi];var Ni={__name:"SettingsCard",props:{id:{required:!0,type:String},struct:{default:null},active:{default:!1,type:Boolean}},emits:["settings_completed"],setup(e,{emit:i}){const t=e,a=c(),s=a.socket,o={basic:Ui,advanced:Zi},d=(0,l.iH)(""),u=(0,l.iH)(!1),v=(0,n.Fl)((()=>_(t.struct)));function _(e){let i=e.slice(1).findIndex(p)+1;return 0==i?[{header:e[0]["header"],type:e[0]["type"],struct:e.slice(1)}]:[{header:e[0]["header"],type:e[0]["type"],struct:e.slice(1,i)}].concat(_(e.slice(i)))}function p(e){return"section"==e["component"]}function g(e){d.value=e}function m(){s.emit("launch_process",{process_id:t.id,task_id:d.value}),u.value=!0}return s.on("server_added_task",(e=>{console.log(e),e==d.value&&(u.value=!1,i("settings_completed",d.value,t.id))})),(i,t)=>((0,n.wg)(),(0,n.iD)("div",Pi,[(0,n._)("div",$i,[(0,n._)("div",Ei,(0,r.zw)(e.id),1)]),(0,n._)("div",Ki,[(0,n.Wm)(je,{process_id:e.id,onNew_task_id:g},null,8,["process_id"]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,l.SU)(v),(i=>((0,n.wg)(),(0,n.j4)((0,n.LL)(o[i.type]),{key:i.header,struct:i.struct,id:e.id,header:i.header},null,8,["struct","id","header"])))),128)),(0,n._)("div",Ri,[(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-primary",onClick:m},"Start")]),(0,n._)("div",Ai,[1==u.value?((0,n.wg)(),(0,n.iD)("div",Bi,Wi)):(0,n.kq)("",!0)])])])]))}};const Gi=Ni;var Qi=Gi;const Ji=e=>((0,n.dD)("data-v-69a3eff5"),e=e(),(0,n.Cn)(),e),Xi={class:"card",style:{width:"18rem"}},et={class:"card-header"},it=Ji((()=>(0,n._)("div",{class:"float-start"}," Add Task ",-1))),tt={class:"float-end"},at={class:"list-group list-group-flush"},st=["onClick"];var nt={__name:"NewTaskMenu",emits:["process_chosen"],setup(e,{expose:i,emit:t}){const a=(0,l.iH)(!1),s=(0,l.iH)(0),o=(0,l.iH)(0),c=(0,l.qj)({value:[]});function d(e){a.value=!0,c.value=e}function u(){a.value=!1}function v(e){a.value?u():d(e)}function _(e,i){s.value=e,o.value=i}function p(e){u(),t("process_chosen",e)}return i({open:d,toggle:v,set_position:_}),(e,i)=>a.value?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"position-absolute overlay",style:(0,r.j5)({top:o.value+"px",left:s.value+"px"})},[(0,n._)("div",Xi,[(0,n._)("div",et,[it,(0,n._)("div",tt,[(0,n._)("i",{class:"bi bi-x-lg clickable",onClick:i[0]||(i[0]=e=>u())})])]),(0,n._)("ul",at,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.value,(e=>((0,n.wg)(),(0,n.iD)("li",{class:"list-group-item clickable",key:e.name,onClick:i=>p(e)},(0,r.zw)(e.name),9,st)))),128))])])],4)):(0,n.kq)("",!0)}};const lt=(0,g.Z)(nt,[["__scopeId","data-v-69a3eff5"]]);var rt=lt;const ot=e=>((0,n.dD)("data-v-17c0fa9c"),e=e(),(0,n.Cn)(),e),ct={class:"card"},dt={class:"card-header d-flex justify-conetent-center"},ut=ot((()=>(0,n._)("div",{class:"btn-group p-2",role:"group","aria-label":"Basic outlined example"},[(0,n._)("button",{type:"button",class:"btn btn-outline-primary"},[(0,n._)("i",{class:"bi bi-chevron-left"})]),(0,n._)("button",{type:"button",class:"btn btn-outline-primary"},[(0,n._)("i",{class:"bi bi-chevron-right"})])],-1))),vt={class:"input-group p-2"},_t=["value"],pt=ot((()=>(0,n._)("i",{class:"bi bi-x-lg"},null,-1))),gt=[pt],mt={class:"card-body overflow-scroll"},ft={class:"d-flex flex-wrap"},bt={class:"col p-2"},kt={class:"row text-center"},wt={class:"row text-center"},yt={class:"card-footer text-muted"};var ht={__name:"FileBrowserCard",emits:["close"],setup(e,{emit:i}){const t=c(),a=t.socket,s=(0,l.iH)("/"),o=(0,l.iH)([]);function d(){console.log("close"),i("close")}(0,n.YP)(s,(()=>{console.log("directory change")})),(0,n.bv)((()=>{a.emit("explore_directory",s.value)})),a.on("directory_contents",(e=>{o.value=e}));const u={directory:"bi bi-folder-fill file","directory-empty":"bi bi-folder file","file-generic":"bi bi-file-earmark file","file-data":"bi bi-file-earmark-image file","file-yaml":"bi bi-filetype-yml file"};return(e,i)=>((0,n.wg)(),(0,n.iD)("div",ct,[(0,n._)("div",dt,[ut,(0,n._)("div",vt,[(0,n._)("input",{type:"text",class:"form-control","aria-label":"filepath",value:s.value},null,8,_t)]),(0,n._)("button",{type:"button",class:"btn btn-outline-secondary p-2",onClick:d},gt)]),(0,n._)("div",mt,[(0,n._)("div",ft,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.value,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.path},[(0,n._)("div",bt,[(0,n._)("div",kt,[(0,n._)("i",{class:(0,r.C_)(u[e.dir]),style:{"font-size":"100px"}},null,2)]),(0,n._)("div",wt,[(0,n._)("p",null,(0,r.zw)(e.path),1)])])])))),128))])]),(0,n._)("div",yt,(0,r.zw)(s.value),1)]))}};const St=(0,g.Z)(ht,[["__scopeId","data-v-17c0fa9c"]]);var Dt=St;const qt={key:0,class:"foggy d-flex justify-content-center align-items-center"};var xt={__name:"ModalPopover",setup(e,{expose:i}){const t=(0,l.iH)(!1);function a(){t.value=!1}function s(){t.value=!0}function r(){t.value?a():s()}return i({open:s,close:a,toggle:r}),(e,i)=>t.value?((0,n.wg)(),(0,n.iD)("div",qt,[(0,n.Wm)(Dt,{onClose:a})])):(0,n.kq)("",!0)}};const Ct=xt;var Ht=Ct,jt=t(4677);const Ut=(0,n._)("div",{class:"navbar-brand"},"Volume Segmentation Toolkit",-1),zt=(0,n._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar_top","aria-controls":"navbar_top","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n._)("span",{class:"navbar-toggler-icon"})],-1),Mt=(0,n._)("li",{class:"nav-item"},[(0,n._)("a",{class:"nav-link active","aria-current":"page",href:"/download"},"Help")],-1),Tt=(0,n._)("hr",null,null,-1),Yt={class:"container-fluid mt-20"},Ft={class:"row gx-1"},Ot={class:"col-3"},It={class:"card"},Lt={class:"card-header"},Zt=(0,n._)("div",{class:"float-start"}," Tasks ",-1),Pt={class:"float-end"},$t={class:"list-group list-group-flush"},Et=["onClick"],Kt={key:0,class:"float-end"},Rt=["onClick"],At={key:1,class:"float-end"},Bt=(0,n._)("div",{class:"spinner-border spinner-border-sm text-primary m-1",role:"status"},[(0,n._)("span",{class:"visually-hidden"},"Task running...")],-1),Vt=[Bt],Wt={class:"col-9"};var Nt={__name:"App",setup(e){const i=c(),t=i.socket,s=(0,jt.pm)(),o=(0,l.iH)(null),d=(0,l.iH)(null),u=(0,l.iH)(null),v={TaskCard:ue,SettingsCard:Qi},_=(0,l.qj)({value:[]}),p=(0,l.qj)({value:[]}),g=(0,l.qj)({value:[]}),m=(0,n.Fl)((()=>g.value.concat(p.value.map((e=>Object.assign(e,{card_type:"TaskCard"}))),[{id:"Help",struct:[{key:"Nothing to Show",component:"LogElement"}],active:!1,card_type:"TaskCard"}]))),f={Taskcard:p,SettingsCard:g},b=(0,l.iH)(m.value[0]);function k(e){b.value=e}function w(e){e.id==b.value.id&&k(m.value.at(-1));let i=f[e.card_type].value;i.splice(i.findIndex((i=>i.id===e.id)),1)}function y(e,i){w(m.value.find((e=>e.id===i)))}function h(e){if(console.log(e.name),!g.value.some((i=>i.id===e.name))){let i={id:e.name,struct:e.settings_schema,false:!0,card_type:"SettingsCard"};g.value.push(i),k(i)}}function S(e){var i="list-group-item pointer clickable";return b.value.id==e.id&&(i+=" border border-primary border-4"),i}function D(){u.value.toggle()}function q(){const e=o.value.getBoundingClientRect().left,i=o.value.getBoundingClientRect().bottom;d.value.set_position(e,i),d.value.toggle(_.value)}return t.on("connect",(()=>{console.log("connected"),s("server connected")})),t.on("disconnect",(()=>{console.log("disconnected"),s.error("server disconnected"),k(m.value.at(-1)),p.value=[]})),t.on("tasks",(e=>{p.value=e})),t.on("available_processes",(e=>{_.value=e})),t.on("toast",(e=>{var i=e.txt,t=e.type;"success"==t?s.success(i):"error"==t?s.error(i):"info"==t?s.info(i):"warning"==t&&s.warning(i)})),(e,i)=>((0,n.wg)(),(0,n.iD)("html",null,[(0,n._)("body",null,[(0,n._)("nav",{class:"navbar fixed-top navbar-expand-sm navbar-light bg-light","aria-label":"Volume Segmentation Toolkit"},[(0,n._)("div",{class:"container-fluid"},[Ut,zt,(0,n._)("div",{class:"collapse navbar-collapse",id:"navbar_top"},[(0,n._)("ul",{class:"navbar-nav ms-auto"},[(0,n._)("li",{class:"nav-item"},[(0,n._)("i",{class:"bi bi-folder",onClick:D})]),Mt])])]),Tt]),(0,n._)("div",Yt,[(0,n._)("div",Ft,[(0,n._)("div",Ot,[(0,n._)("div",It,[(0,n._)("div",Lt,[Zt,(0,n._)("div",Pt,[(0,n._)("h3",null,[(0,n._)("i",{class:"bi bi-plus-square-fill clickable",ref_key:"new_task_button",ref:o,onClick:i[0]||(i[0]=(0,a.iM)((e=>q()),["self"]))},null,512)])])]),(0,n._)("ul",$t,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,l.SU)(m),(e=>((0,n.wg)(),(0,n.iD)("li",{class:(0,r.C_)(S(e)),key:e.id,onClick:i=>k(e)},[(0,n.Uk)((0,r.zw)(e.id)+" ",1),"SettingsCard"==e.card_type?((0,n.wg)(),(0,n.iD)("div",Kt,[(0,n._)("i",{class:"bi bi-x-lg",onClick:(0,a.iM)((i=>w(e)),["stop"])},null,8,Rt)])):(0,n.kq)("",!0),e.active?((0,n.wg)(),(0,n.iD)("div",At,Vt)):(0,n.kq)("",!0)],10,Et)))),128))])])]),(0,n._)("div",Wt,[((0,n.wg)(),(0,n.j4)(n.Ob,null,[((0,n.wg)(),(0,n.j4)((0,n.LL)(v[b.value.card_type]),{id:b.value.id,struct:b.value.struct,active:b.value.active,onSettings_completed:y},null,40,["id","struct","active"]))],1024))])]),(0,n.Wm)(rt,{ref_key:"task_menu",ref:d,onProcess_chosen:h},null,512),(0,n.Wm)(Ht,{ref_key:"file_browser",ref:u},null,512)])])]))}};const Gt=Nt;var Qt=Gt;t(343),t(2166),t(6744);const Jt=(0,s.WB)(),Xt=(0,a.ri)(Qt),ea={position:"bottom-right"};Xt.use(Jt),Xt.use(jt.ZP,ea),Xt.mount("#app")}},i={};function t(a){var s=i[a];if(void 0!==s)return s.exports;var n=i[a]={exports:{}};return e[a].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(i,a,s,n){if(!a){var l=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],n=e[d][2];for(var r=!0,o=0;o<a.length;o++)(!1&n||l>=n)&&Object.keys(t.O).every((function(e){return t.O[e](a[o])}))?a.splice(o--,1):(r=!1,n<l&&(l=n));if(r){e.splice(d--,1);var c=s();void 0!==c&&(i=c)}}return i}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,s,n]}}(),function(){t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,{a:i}),i}}(),function(){t.d=function(e,i){for(var a in i)t.o(i,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:i[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(i){return 0===e[i]};var i=function(i,a){var s,n,l=a[0],r=a[1],o=a[2],c=0;if(l.some((function(i){return 0!==e[i]}))){for(s in r)t.o(r,s)&&(t.m[s]=r[s]);if(o)var d=o(t)}for(i&&i(a);c<l.length;c++)n=l[c],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(d)},a=self["webpackChunkweb"]=self["webpackChunkweb"]||[];a.forEach(i.bind(null,0)),a.push=i.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(2698)}));a=t.O(a)})();
//# sourceMappingURL=app.e5b116a9.js.map