(function(){"use strict";var e={903:function(e,a,l){var t=l(9242),n=l(1020),i=(l(7658),l(3396)),s=l(7139),o=l(4870),r=l(2066);const u=(0,n.Q_)("vsui_store",(()=>{const e=(0,r.ZP)({extraHeaders:{type:"web"}}),a=(0,o.qj)({value:[]});function l(e){a.value=e,console.log(a.value)}return{socket:e,set_available_processes:l}})),c={class:"row mb-3"},d={class:"col"},v={class:"progress"},p=["aria-valuenow"];var _={__name:"ProgressElement",props:{id:String,task_id:String},setup(e){const a=e,l=u(),t=l.socket,n=(0,o.qj)({value:{current:0,max:1}}),r=(0,i.Fl)((()=>n.value.current/n.value.max*100));return t.on("display_update",(e=>{let l=e.data;a.id in l&&(n.value=l[a.id])})),(0,i.bv)((()=>{console.log("requesting progress updates"),t.emit("request_update",{task_id:a.task_id,key:a.id})})),(a,l)=>((0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",d,[(0,i._)("h5",null,(0,s.zw)(e.id)+" - "+(0,s.zw)(n.value.current)+" / "+(0,s.zw)(n.value.max),1),(0,i._)("div",v,[(0,i._)("div",{class:"progress-bar",role:"progressbar",id:"epoch-progress-bar",style:(0,s.j5)({width:(0,o.SU)(r)+"%"}),"aria-valuenow":(0,o.SU)(r),"aria-valuemin":"0","aria-valuemax":"100"},null,12,p)])])]))}},g=l(89);const f=(0,g.Z)(_,[["__scopeId","data-v-9e1db9ba"]]);var k=f;const m=e=>((0,i.dD)("data-v-5a267718"),e=e(),(0,i.Cn)(),e),b={class:"row mb-3"},w={class:"col"},y={class:"row"},h={class:"col align-self-start"},S={class:"col-1 align-self-end"},D=m((()=>(0,i._)("hr",null,null,-1))),x=m((()=>(0,i._)("hr",null,null,-1)));var C={__name:"LogElement",props:{id:String,task_id:String},setup(e){const a=e,l=u(),t=l.socket,n=(0,o.iH)(!1);function r(){n.value=!n.value}const c=(0,i.Fl)((()=>n.value?"":"log")),d=(0,i.Fl)((()=>n.value?"bi bi-chevron-down":"bi bi-chevron-up")),v=(0,i.Fl)((()=>{var e=p.value;return e.reverse()})),p=(0,o.qj)({value:["nothing to show"]});return t.on("display_update",(e=>{let l=e.data;a.id in l&&(p.value=l[a.id])})),(0,i.bv)((()=>{console.log("requesting progress updates"),t.emit("request_update",{task_id:a.task_id,key:a.id})})),(a,l)=>((0,i.wg)(),(0,i.iD)("div",b,[(0,i._)("div",w,[(0,i._)("div",y,[(0,i._)("div",h,[(0,i._)("h5",null,(0,s.zw)(e.id),1)]),(0,i._)("div",S,[(0,i._)("h5",null,[(0,i._)("i",{class:(0,s.C_)((0,o.SU)(d)),onClick:l[0]||(l[0]=e=>r()),style:{cursor:"pointer"}},null,2)])])]),D,(0,i._)("div",{class:(0,s.C_)((0,o.SU)(c))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,o.SU)(v),(e=>((0,i.wg)(),(0,i.iD)("p",{key:e},(0,s.zw)(e),1)))),128))],2),x])]))}};const q=(0,g.Z)(C,[["__scopeId","data-v-5a267718"]]);var H=q,j=l(6294),U=l(741);const T={class:"row mb-3"},z={class:"col"};var O={__name:"ChartElement",props:{id:String,task_id:String},setup(e){const a=e;U.kL.register(U.Dx,U.u,U.De,U.jn,U.f$,U.od,U.uw);const l=u(),t=l.socket,n=(0,o.qj)({value:{x:[],y:[]}}),r=(0,i.Fl)((()=>({value:{labels:n.value.x,datasets:[{label:"Training Loss",backgroundColor:"#f87979",data:n.value.y}]}}))),c={responsive:!0,maintainAspectRatio:!1};return t.on("display_update",(e=>{let l=e.data;a.id in l&&(n.value=l[a.id])})),(0,i.bv)((()=>{console.log("requesting progress updates"),t.emit("request_update",{task_id:a.task_id,key:a.id})})),(a,l)=>((0,i.wg)(),(0,i.iD)("div",T,[(0,i._)("div",z,[(0,i._)("h5",null,(0,s.zw)(e.id),1),(0,i.Wm)((0,o.SU)(j.x1),{"chart-options":c,"chart-data":(0,o.SU)(r).value},null,8,["chart-data"])])]))}};const E=O;var F=E;const Y={class:"justify-content-center"},K={class:"row"},N=["src"];var P={__name:"GalleryViewer",setup(e,{expose:a}){const l=(0,o.iH)(!1),n=(0,o.iH)([]);function s(e){n.value=e}function r(){l.value=!1}function u(){l.value=!0}return a({open:u,close:r,set_images:s}),(e,a)=>l.value?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"foggy",onClick:a[0]||(a[0]=(0,t.iM)((e=>r()),["stop"]))},[(0,i._)("div",Y,[(0,i._)("div",K,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.value,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"col",key:e},[(0,i._)("img",{src:e,class:"img-fluid"},null,8,N)])))),128))])])])):(0,i.kq)("",!0)}};const I=(0,g.Z)(P,[["__scopeId","data-v-73b85606"]]);var L=I;const M=e=>((0,i.dD)("data-v-2d6bd503"),e=e(),(0,i.Cn)(),e),W={class:"row mb-3"},Z={class:"col"},B={class:"row"},V={class:"col align-self-start"},A=M((()=>(0,i._)("div",{class:"col-1 align-self-end"},null,-1))),G=M((()=>(0,i._)("hr",null,null,-1))),R={class:"container"},Q=["src","onClick"],$=M((()=>(0,i._)("hr",null,null,-1)));var J={__name:"GalleryElement",props:{id:String,task_id:String},setup(e){const a=e,l=u(),t=l.socket,n=(0,o.iH)(null),r=4,c=(0,o.qj)({value:[]}),d=(0,i.Fl)((()=>{var e=c.value;return e.reverse()}));function v(e){return"data:image/jpeg;base64, "+e}const p=(0,i.Fl)((()=>c.value.length)),_=(0,i.Fl)((()=>Math.ceil(p.value/r)));function g(e){n.value.set_images([v(d.value[e])]),n.value.open()}return t.on("display_update",(e=>{let l=e.data;a.id in l&&(c.value=l[a.id])})),(0,i.bv)((()=>{console.log("requesting progress updates"),t.emit("request_update",{task_id:a.task_id,key:a.id})})),(a,l)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",W,[(0,i._)("div",Z,[(0,i._)("div",B,[(0,i._)("div",V,[(0,i._)("h5",null,(0,s.zw)(e.id),1)]),A]),G,(0,i._)("div",R,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,o.SU)(_),(e=>((0,i.wg)(),(0,i.iD)("div",{class:"row",key:e},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(r,(a=>(0,i._)("div",{class:"col",key:a},[(e-1)*r+(a-1)<(0,o.SU)(p)?((0,i.wg)(),(0,i.iD)("img",{key:0,src:v((0,o.SU)(d)[(e-1)*r+(a-1)]),class:"img-fluid",onClick:l=>g((e-1)*r+(a-1))},null,8,Q)):(0,i.kq)("",!0)]))),64))])))),128))]),$])]),(0,i.Wm)(L,{ref_key:"viewer",ref:n},null,512)],64))}};const X=(0,g.Z)(J,[["__scopeId","data-v-2d6bd503"]]);var ee=X;const ae={class:"row g-2 align-items-center mb-2"},le={class:"col"},te={class:"input-group"},ne=["id","name"],ie=["id","name","aria-describedby"],se={class:"col"},oe=["id"];var re={__name:"SettingText",props:{name:String,default:String,help:String},setup(e){const a=e,l=(0,o.iH)(""),n=(0,i.Fl)((()=>a.name+"_help_inline")),r=(0,i.Fl)((()=>a.name+"_addon"));return(a,u)=>((0,i.wg)(),(0,i.iD)("div",ae,[(0,i._)("div",le,[(0,i._)("div",te,[(0,i._)("span",{class:"input-group-text",style:{width:"40%"},id:(0,o.SU)(r),name:e.name},(0,s.zw)(e.name),9,ne),(0,i.wy)((0,i._)("input",{type:"text",id:e.name,name:e.name,class:"form-control","onUpdate:modelValue":u[0]||(u[0]=e=>l.value=e),"aria-describedby":(0,o.SU)(n)},null,8,ie),[[t.nr,l.value]])])]),(0,i._)("div",se,[(0,i._)("span",{id:(0,o.SU)(n),class:"form-text"},(0,s.zw)(e.help),9,oe)])]))}};const ue=re;var ce=ue;const de=(0,i._)("p",null,"test",-1);var ve={__name:"NewTaskElement",setup(e){return(e,a)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[de,(0,i.Wm)(ce)],64))}};const pe=ve;var _e=pe;const ge={class:"card mb-2"},fe={class:"card-header"},ke={class:"float-start"},me={class:"card-body"},be={key:0},we={key:1};var ye={__name:"TaskCard",props:{id:{required:!0,type:String},struct:{default:null},active:{default:!1,type:Boolean}},setup(e){const a={ProgressElement:k,LogElement:H,ChartElement:F,GalleryElement:ee};return(l,t)=>((0,i.wg)(),(0,i.iD)("div",ge,[(0,i._)("div",fe,[(0,i._)("div",ke,(0,s.zw)(e.id),1)]),(0,i._)("div",me,["new_task"==e.struct?((0,i.wg)(),(0,i.iD)("div",be,[(0,i.Wm)(_e)])):(0,i.kq)("",!0),null!==e.struct?((0,i.wg)(),(0,i.iD)("div",we,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.struct,(l=>((0,i.wg)(),(0,i.j4)((0,i.LL)(a[l.component]),{key:l.key,id:l.key,task_id:e.id},null,8,["id","task_id"])))),128))])):(0,i.kq)("",!0)])]))}};const he=ye;var Se=he;const De=e=>((0,i.dD)("data-v-4f795fb2"),e=e(),(0,i.Cn)(),e),xe={class:"card",style:{width:"10rem"}},Ce={class:"card-header"},qe=De((()=>(0,i._)("div",{class:"float-start"}," Add Task ",-1))),He={class:"float-end"},je={class:"list-group list-group-flush"};var Ue={__name:"NewTaskMenu",emits:["new_train","new_predict"],setup(e,{expose:a,emit:l}){const t=(0,o.iH)(!1),n=(0,o.iH)(0),r=(0,o.iH)(0),u=(0,o.qj)({value:[]});function c(e){t.value=!0,u.value=e}function d(){t.value=!1}function v(e,a){n.value=e,r.value=a}function p(){d(),l("new_train")}return a({open:c,set_position:v}),(e,a)=>t.value?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"position-absolute overlay",style:(0,s.j5)({top:r.value+"px",left:n.value+"px"})},[(0,i._)("div",xe,[(0,i._)("div",Ce,[qe,(0,i._)("div",He,[(0,i._)("i",{class:"bi bi-x-lg clickable",onClick:a[0]||(a[0]=e=>d())})])]),(0,i._)("ul",je,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.available_processes.value,(e=>((0,i.wg)(),(0,i.iD)("li",{class:"list-group-item clickable",key:e.name,onClick:a[1]||(a[1]=e=>p())},(0,s.zw)(e.name),1)))),128))])])],4)):(0,i.kq)("",!0)}};const Te=(0,g.Z)(Ue,[["__scopeId","data-v-4f795fb2"]]);var ze=Te,Oe=l(4677);const Ee=(0,i.uE)('<nav class="navbar fixed-top navbar-expand-sm navbar-light bg-light" aria-label="Volume Segmentation Toolkit"><div class="container-fluid"><div class="navbar-brand">Volume Segmentation Toolkit</div><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar_top" aria-controls="navbar_top" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbar_top"><ul class="navbar-nav ms-auto"><li class="nav-item"><a class="nav-link active" aria-current="page" href="#">Help</a></li></ul></div></div><hr></nav>',1),Fe={class:"container-fluid mt-20"},Ye={class:"row gx-1"},Ke={class:"col-3"},Ne={class:"card"},Pe={class:"card-header"},Ie=(0,i._)("div",{class:"float-start"}," Tasks ",-1),Le={class:"float-end"},Me={class:"list-group list-group-flush"},We=["onClick"],Ze={class:"float-end"},Be=["onClick"],Ve=["onClick"],Ae={class:"col-9"};var Ge={__name:"App",setup(e){const a=u(),l=a.socket,n=(0,Oe.pm)(),r=(0,o.iH)("task"),c=(0,o.iH)(null),d=(0,o.iH)(null),v=(0,o.qj)({value:[]}),p=(0,o.qj)({value:[{id:"No Connection",struct:[{key:"Nothing to Show",component:"LogElement"}],active:!1}]}),_=(0,o.qj)({value:[]}),g=(0,o.iH)(0),f=(0,i.Fl)((()=>"task"==r.value?g.value<p.value.length?p.value[g.value]:p.value[0]:"utility"==r.value&&g.value<_.value.length?_.value[g.value]:p.value[0]));function k(e,a){"task"==a?(g.value=p.value.findIndex((a=>a.id===e)),r.value="task"):"utility"==a&&(g.value=_.value.findIndex((a=>a.id===e)),r.value="utility")}function m(e){let a=k(e);a>-1&&_.value.splice(a,1)}function b(e){var a="list-group-item pointer clickable";return f.value.id==e.id&&(a+=" border border-primary border-4"),e.active?a+=" active-task":a+=" inactive-task",a}function w(){const e=c.value.getBoundingClientRect().left,a=c.value.getBoundingClientRect().bottom;d.value.set_position(e,a),console.log(v.value.map((e=>e.key))),d.value.open(v.value.map((e=>e.key)))}function y(){_.value.some((e=>"New Task"===e.id))||_.value.push({id:"New Task",struct:"new_task",active:!0}),k("New Task","utility")}return l.on("connect",(()=>{console.log("connected"),n("connected")})),l.on("disconnect",(()=>{console.log("disconnected"),n.error("disconnected")})),l.on("tasks",(e=>{p.value=e.data})),l.on("available_processes",(e=>{v.value=e.data})),l.on("toast",(e=>{var a=e.txt,l=e.type;"success"==l?n.success(a):"error"==l?n.error(a):"info"==l?n.info(a):"warning"==l&&n.warning(a)})),(e,a)=>((0,i.wg)(),(0,i.iD)("html",null,[(0,i._)("body",null,[Ee,(0,i._)("div",Fe,[(0,i._)("div",Ye,[(0,i._)("div",Ke,[(0,i._)("div",Ne,[(0,i._)("div",Pe,[Ie,(0,i._)("div",Le,[(0,i._)("h3",null,[(0,i._)("i",{class:"bi bi-plus-square-fill clickable",ref_key:"new_task_button",ref:c,onClick:a[0]||(a[0]=(0,t.iM)((e=>w()),["self"]))},null,512)])])]),(0,i._)("ul",Me,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(_.value,(e=>((0,i.wg)(),(0,i.iD)("li",{class:(0,s.C_)(b(e)),key:e.id,onClick:a=>k(e.id,"utility")},[(0,i.Uk)("* "+(0,s.zw)(e.id)+" * ",1),(0,i._)("div",Ze,[(0,i._)("i",{class:"bi bi-x-lg",onClick:a=>m(e.id)},null,8,Be)])],10,We)))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(p.value,(e=>((0,i.wg)(),(0,i.iD)("li",{class:(0,s.C_)(b(e)),key:e.id,onClick:a=>k(e.id,"task")},(0,s.zw)(e.id),11,Ve)))),128))])])]),(0,i._)("div",Ae,[(0,i.Wm)(Se,{is:(0,o.SU)(f),id:(0,o.SU)(f).id,struct:(0,o.SU)(f).struct,active:(0,o.SU)(f).active},null,8,["is","id","struct","active"])])]),(0,i.Wm)(ze,{ref_key:"task_menu",ref:d,onNew_train:a[1]||(a[1]=e=>y())},null,512)])])]))}};const Re=Ge;var Qe=Re;l(343),l(2166);const $e=(0,n.WB)(),Je=(0,t.ri)(Qe),Xe={position:"bottom-right"};Je.use($e),Je.use(Oe.ZP,Xe),Je.mount("#app")}},a={};function l(t){var n=a[t];if(void 0!==n)return n.exports;var i=a[t]={exports:{}};return e[t](i,i.exports,l),i.exports}l.m=e,function(){var e=[];l.O=function(a,t,n,i){if(!t){var s=1/0;for(c=0;c<e.length;c++){t=e[c][0],n=e[c][1],i=e[c][2];for(var o=!0,r=0;r<t.length;r++)(!1&i||s>=i)&&Object.keys(l.O).every((function(e){return l.O[e](t[r])}))?t.splice(r--,1):(o=!1,i<s&&(s=i));if(o){e.splice(c--,1);var u=n();void 0!==u&&(a=u)}}return a}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[t,n,i]}}(),function(){l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,{a:a}),a}}(),function(){l.d=function(e,a){for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};l.O.j=function(a){return 0===e[a]};var a=function(a,t){var n,i,s=t[0],o=t[1],r=t[2],u=0;if(s.some((function(a){return 0!==e[a]}))){for(n in o)l.o(o,n)&&(l.m[n]=o[n]);if(r)var c=r(l)}for(a&&a(t);u<s.length;u++)i=s[u],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(c)},t=self["webpackChunkweb"]=self["webpackChunkweb"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=l.O(void 0,[998],(function(){return l(903)}));t=l.O(t)})();
//# sourceMappingURL=app.7123b582.js.map