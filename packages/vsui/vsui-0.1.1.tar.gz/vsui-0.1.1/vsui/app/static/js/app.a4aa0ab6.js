(function(){"use strict";var e={259:function(e,a,t){var i=t(9242),l=t(1020),n=(t(7658),t(3396)),s=t(7139),o=t(4870),r=t(2066);const c=(0,l.Q_)("vsui_store",(()=>{const e=(0,r.ZP)({extraHeaders:{type:"web"}}),a=(0,o.qj)({value:[]});function t(e){a.value=e,console.log(a.value)}return{socket:e,set_available_processes:t}})),u={class:"row mb-3"},d={class:"col"},v={class:"progress"},p=["aria-valuenow"];var _={__name:"ProgressElement",props:{id:String,task_id:String},setup(e){const a=e,t=c(),i=t.socket,l=(0,o.qj)({value:{current:0,max:1}}),r=(0,n.Fl)((()=>l.value.current/l.value.max*100));return i.on("display_update",(e=>{let t=e.data;a.id in t&&(l.value=t[a.id])})),(0,n.bv)((()=>{console.log("requesting progress updates"),i.emit("request_update",{task_id:a.task_id,key:a.id})})),(a,t)=>((0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("div",d,[(0,n._)("h5",null,(0,s.zw)(e.id)+" - "+(0,s.zw)(l.value.current)+" / "+(0,s.zw)(l.value.max),1),(0,n._)("div",v,[(0,n._)("div",{class:"progress-bar",role:"progressbar",id:"epoch-progress-bar",style:(0,s.j5)({width:(0,o.SU)(r)+"%"}),"aria-valuenow":(0,o.SU)(r),"aria-valuemin":"0","aria-valuemax":"100"},null,12,p)])])]))}},g=t(89);const m=(0,g.Z)(_,[["__scopeId","data-v-9e1db9ba"]]);var b=m;const f=e=>((0,n.dD)("data-v-5a267718"),e=e(),(0,n.Cn)(),e),w={class:"row mb-3"},k={class:"col"},y={class:"row"},h={class:"col align-self-start"},S={class:"col-1 align-self-end"},D=f((()=>(0,n._)("hr",null,null,-1))),x=f((()=>(0,n._)("hr",null,null,-1)));var C={__name:"LogElement",props:{id:String,task_id:String},setup(e){const a=e,t=c(),i=t.socket,l=(0,o.iH)(!1);function r(){l.value=!l.value}const u=(0,n.Fl)((()=>l.value?"":"log")),d=(0,n.Fl)((()=>l.value?"bi bi-chevron-down":"bi bi-chevron-up")),v=(0,n.Fl)((()=>{var e=p.value;return e.reverse()})),p=(0,o.qj)({value:["nothing to show"]});return i.on("display_update",(e=>{let t=e.data;a.id in t&&(p.value=t[a.id])})),(0,n.bv)((()=>{console.log("requesting progress updates"),i.emit("request_update",{task_id:a.task_id,key:a.id})})),(a,t)=>((0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("div",k,[(0,n._)("div",y,[(0,n._)("div",h,[(0,n._)("h5",null,(0,s.zw)(e.id),1)]),(0,n._)("div",S,[(0,n._)("h5",null,[(0,n._)("i",{class:(0,s.C_)((0,o.SU)(d)),onClick:t[0]||(t[0]=e=>r()),style:{cursor:"pointer"}},null,2)])])]),D,(0,n._)("div",{class:(0,s.C_)((0,o.SU)(u))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(v),(e=>((0,n.wg)(),(0,n.iD)("p",{key:e},(0,s.zw)(e),1)))),128))],2),x])]))}};const U=(0,g.Z)(C,[["__scopeId","data-v-5a267718"]]);var j=U,q=t(6294),H=t(741);const z={class:"row mb-3"},F={class:"col"};var O={__name:"ChartElement",props:{id:String,task_id:String},setup(e){const a=e;H.kL.register(H.Dx,H.u,H.De,H.jn,H.f$,H.od,H.uw);const t=c(),i=t.socket,l=(0,o.qj)({value:{x:[],y:[]}}),r=(0,n.Fl)((()=>({value:{labels:l.value.x,datasets:[{label:"Training Loss",backgroundColor:"#f87979",data:l.value.y}]}}))),u={responsive:!0,maintainAspectRatio:!1};return i.on("display_update",(e=>{let t=e.data;a.id in t&&(l.value=t[a.id])})),(0,n.bv)((()=>{console.log("requesting progress updates"),i.emit("request_update",{task_id:a.task_id,key:a.id})})),(a,t)=>((0,n.wg)(),(0,n.iD)("div",z,[(0,n._)("div",F,[(0,n._)("h5",null,(0,s.zw)(e.id),1),(0,n.Wm)((0,o.SU)(q.x1),{"chart-options":u,"chart-data":(0,o.SU)(r).value},null,8,["chart-data"])])]))}};const T=O;var E=T;const Y={class:"justify-content-center"},K={class:"row"},L=["src"];var P={__name:"GalleryViewer",setup(e,{expose:a}){const t=(0,o.iH)(!1),l=(0,o.iH)([]);function s(e){l.value=e}function r(){t.value=!1}function c(){t.value=!0}return a({open:c,close:r,set_images:s}),(e,a)=>t.value?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"foggy",onClick:a[0]||(a[0]=(0,i.iM)((e=>r()),["stop"]))},[(0,n._)("div",Y,[(0,n._)("div",K,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.value,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"col",key:e},[(0,n._)("img",{src:e,class:"img-fluid"},null,8,L)])))),128))])])])):(0,n.kq)("",!0)}};const I=(0,g.Z)(P,[["__scopeId","data-v-73b85606"]]);var M=I;const Z=e=>((0,n.dD)("data-v-2d6bd503"),e=e(),(0,n.Cn)(),e),B={class:"row mb-3"},V={class:"col"},N={class:"row"},W={class:"col align-self-start"},A=Z((()=>(0,n._)("div",{class:"col-1 align-self-end"},null,-1))),G=Z((()=>(0,n._)("hr",null,null,-1))),R={class:"container"},Q=["src","onClick"],$=Z((()=>(0,n._)("hr",null,null,-1)));var J={__name:"GalleryElement",props:{id:String,task_id:String},setup(e){const a=e,t=c(),i=t.socket,l=(0,o.iH)(null),r=4,u=(0,o.qj)({value:[]}),d=(0,n.Fl)((()=>{var e=u.value;return e.reverse()}));function v(e){return"data:image/jpeg;base64, "+e}const p=(0,n.Fl)((()=>u.value.length)),_=(0,n.Fl)((()=>Math.ceil(p.value/r)));function g(e){l.value.set_images([v(d.value[e])]),l.value.open()}return i.on("display_update",(e=>{let t=e.data;a.id in t&&(u.value=t[a.id])})),(0,n.bv)((()=>{console.log("requesting progress updates"),i.emit("request_update",{task_id:a.task_id,key:a.id})})),(a,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",B,[(0,n._)("div",V,[(0,n._)("div",N,[(0,n._)("div",W,[(0,n._)("h5",null,(0,s.zw)(e.id),1)]),A]),G,(0,n._)("div",R,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(_),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"row",key:e},[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(r,(a=>(0,n._)("div",{class:"col",key:a},[(e-1)*r+(a-1)<(0,o.SU)(p)?((0,n.wg)(),(0,n.iD)("img",{key:0,src:v((0,o.SU)(d)[(e-1)*r+(a-1)]),class:"img-fluid",onClick:t=>g((e-1)*r+(a-1))},null,8,Q)):(0,n.kq)("",!0)]))),64))])))),128))]),$])]),(0,n.Wm)(M,{ref_key:"viewer",ref:l},null,512)],64))}};const X=(0,g.Z)(J,[["__scopeId","data-v-2d6bd503"]]);var ee=X;const ae={class:"card mb-2"},te={class:"card-header"},ie={class:"float-start"},le={class:"card-body"};var ne={__name:"TaskCard",props:{id:{required:!0,type:String},struct:{default:null},active:{default:!1,type:Boolean}},setup(e){const a={ProgressElement:b,LogElement:j,ChartElement:E,GalleryElement:ee};return(t,i)=>((0,n.wg)(),(0,n.iD)("div",ae,[(0,n._)("div",te,[(0,n._)("div",ie,(0,s.zw)(e.id),1)]),(0,n._)("div",le,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.struct,(t=>((0,n.wg)(),(0,n.j4)((0,n.LL)(a[t.component]),{key:t.key,id:t.key,task_id:e.id},null,8,["id","task_id"])))),128))])]))}};const se=ne;var oe=se;const re=e=>((0,n.dD)("data-v-2ccccfeb"),e=e(),(0,n.Cn)(),e),ce={class:"card",style:{width:"18rem"}},ue={class:"card-header"},de=re((()=>(0,n._)("div",{class:"float-start"}," Add Task ",-1))),ve={class:"float-end"},pe={class:"list-group list-group-flush"},_e=["onClick"];var ge={__name:"NewTaskMenu",emits:["process_chosen"],setup(e,{expose:a,emit:t}){const i=(0,o.iH)(!1),l=(0,o.iH)(0),r=(0,o.iH)(0),c=(0,o.qj)({value:[]});function u(e){i.value=!0,c.value=e}function d(){i.value=!1}function v(e,a){l.value=e,r.value=a}function p(e){d(),t("process_chosen",e)}return a({open:u,set_position:v}),(e,a)=>i.value?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"position-absolute overlay",style:(0,s.j5)({top:r.value+"px",left:l.value+"px"})},[(0,n._)("div",ce,[(0,n._)("div",ue,[de,(0,n._)("div",ve,[(0,n._)("i",{class:"bi bi-x-lg clickable",onClick:a[0]||(a[0]=e=>d())})])]),(0,n._)("ul",pe,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.value,(e=>((0,n.wg)(),(0,n.iD)("li",{class:"list-group-item clickable",key:e.name,onClick:a=>p(e)},(0,s.zw)(e.name),9,_e)))),128))])])],4)):(0,n.kq)("",!0)}};const me=(0,g.Z)(ge,[["__scopeId","data-v-2ccccfeb"]]);var be=me,fe=t(4677);const we={class:"row g-2 align-items-center mb-2"},ke={class:"col"},ye={class:"input-group"},he=["id","name"],Se=["id","name","aria-describedby"],De={class:"col"},xe=["id"];var Ce={__name:"SettingText",props:{process_id:String,id:String,name:String,help:String},setup(e){const a=e,t=c(),l=t.socket,r=(0,o.iH)(""),u=(0,n.Fl)((()=>a.id+"_help_inline")),d=(0,n.Fl)((()=>a.id+"_addon"));return l.on("setting_update",(e=>{let t=e;a.process_id in t&&a.id in t[a.process_id]&&(r.value=t[a.process_id][a.id],console.log(r.value))})),(0,n.bv)((()=>{l.emit("request_setting",{process_id:a.process_id,setting_id:a.id})})),(a,t)=>((0,n.wg)(),(0,n.iD)("div",we,[(0,n._)("div",ke,[(0,n._)("div",ye,[(0,n._)("span",{class:"input-group-text",style:{width:"60%"},id:(0,o.SU)(d),name:e.name},(0,s.zw)(e.name),9,he),(0,n.wy)((0,n._)("input",{type:"text",id:e.id,name:e.name,class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),"aria-describedby":(0,o.SU)(u)},null,8,Se),[[i.nr,r.value]])])]),(0,n._)("div",De,[(0,n._)("span",{id:(0,o.SU)(u),class:"form-text"},(0,s.zw)(e.help),9,xe)])]))}};const Ue=Ce;var je=Ue;const qe={class:"row g-2 align-items-center mb-2"},He={class:"col"},ze={class:"input-group"},Fe=["id","name"],Oe=["id","name","aria-describedby"],Te={class:"col"},Ee=["id"];var Ye={__name:"SettingNumber",props:{process_id:String,name:String,default:String,help:String},setup(e){const a=e,t=c(),l=t.socket,r=(0,o.iH)(""),u=(0,n.Fl)((()=>a.name+"_help_inline")),d=(0,n.Fl)((()=>a.name+"_addon"));return l.on("setting_update",(e=>{let t=e;a.process_id in t&&a.id in t[a.process_id]&&(r.value=t[a.process_id][a.id],console.log(r.value))})),(0,n.bv)((()=>{l.emit("request_setting",{process_id:a.process_id,setting_id:a.id})})),(a,t)=>((0,n.wg)(),(0,n.iD)("div",qe,[(0,n._)("div",He,[(0,n._)("div",ze,[(0,n._)("span",{class:"input-group-text",style:{width:"60%"},id:(0,o.SU)(d),name:e.name},(0,s.zw)(e.name),9,Fe),(0,n.wy)((0,n._)("input",{type:"number",id:e.name,name:e.name,class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),"aria-describedby":(0,o.SU)(u)},null,8,Oe),[[i.nr,r.value,void 0,{number:!0}]])])]),(0,n._)("div",Te,[(0,n._)("span",{id:(0,o.SU)(u),class:"form-text"},(0,s.zw)(e.help),9,Ee)])]))}};const Ke=Ye;var Le=Ke;const Pe={class:"row g-2 align-items-center mb-2"},Ie={class:"col"},Me={class:"input-group"},Ze=["id","name"],Be=["id","name","aria-describedby"],Ve=["value"],Ne={class:"col"},We=["id"];var Ae={__name:"SettingDropdown",props:{process_id:String,name:String,default:String,help:String,options:Object,selected:String},setup(e){const a=e,t=(0,n.Fl)((()=>a.name+"_help_inline")),i=(0,n.Fl)((()=>a.name+"_addon"));return(a,l)=>((0,n.wg)(),(0,n.iD)("div",Pe,[(0,n._)("div",Ie,[(0,n._)("div",Me,[(0,n._)("span",{class:"input-group-text",style:{width:"60%"},id:(0,o.SU)(i),name:(0,o.SU)(i)},(0,s.zw)(e.name),9,Ze),(0,n._)("select",{class:"form-select",id:e.name,name:e.name,"aria-describedby":a.downsample_help_inline},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.options,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.value,value:e.value},(0,s.zw)(e.label),9,Ve)))),128))],8,Be)])]),(0,n._)("div",Ne,[(0,n._)("span",{id:(0,o.SU)(t),class:"form-text"},(0,s.zw)(e.help),9,We)])]))}};const Ge=Ae;var Re=Ge;const Qe={class:"card mb-2"},$e={class:"card-header"},Je={class:"float-start"},Xe={class:"card-body"};var ea={__name:"SettingsCard",props:{id:{required:!0,type:String},struct:{default:null},active:{default:!1,type:Boolean}},setup(e){const a={text:je,number:Le,select:Re};return(t,i)=>((0,n.wg)(),(0,n.iD)("div",Qe,[(0,n._)("div",$e,[(0,n._)("div",Je,(0,s.zw)(e.id),1)]),(0,n._)("div",Xe,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.struct,(t=>((0,n.wg)(),(0,n.j4)((0,n.LL)(a[t.component]),{key:t.id,process_id:e.id,id:t.id,name:t.name,help:t.help,options:t.options},null,8,["process_id","id","name","help","options"])))),128))])]))}};const aa=ea;var ta=aa;const ia=(0,n.uE)('<nav class="navbar fixed-top navbar-expand-sm navbar-light bg-light" aria-label="Volume Segmentation Toolkit"><div class="container-fluid"><div class="navbar-brand">Volume Segmentation Toolkit</div><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar_top" aria-controls="navbar_top" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbar_top"><ul class="navbar-nav ms-auto"><li class="nav-item"><a class="nav-link active" aria-current="page" href="#">Help</a></li></ul></div></div><hr></nav>',1),la={class:"container-fluid mt-20"},na={class:"row gx-1"},sa={class:"col-3"},oa={class:"card"},ra={class:"card-header"},ca=(0,n._)("div",{class:"float-start"}," Tasks ",-1),ua={class:"float-end"},da={class:"list-group list-group-flush"},va=["onClick"],pa={class:"float-end"},_a=["onClick"],ga=["onClick"],ma={class:"col-9"};var ba={__name:"App",setup(e){const a=c(),t=a.socket,l=(0,fe.pm)(),r=(0,o.iH)("task"),u=(0,o.iH)(null),d=(0,o.iH)(null),v=(0,o.qj)({value:[]}),p=(0,o.qj)({value:[{id:"No Connection",struct:[{key:"Nothing to Show",component:"LogElement"}],active:!1}]}),_=(0,o.qj)({value:[]}),g=(0,o.iH)(0),m=(0,n.Fl)((()=>"task"==r.value?g.value<p.value.length?p.value[g.value]:p.value[0]:"utility"==r.value&&g.value<_.value.length?_.value[g.value]:p.value[0]));function b(e,a){"task"==a?(g.value=p.value.findIndex((a=>a.id===e)),r.value="task"):"utility"==a&&(g.value=_.value.findIndex((a=>a.id===e)),r.value="utility")}function f(e){let a=b(e);a>-1&&_.value.splice(a,1)}function w(e){var a="list-group-item pointer clickable";return m.value.id==e.id&&(a+=" border border-primary border-4"),e.active?a+=" active-task":a+=" inactive-task",a}function k(){const e=u.value.getBoundingClientRect().left,a=u.value.getBoundingClientRect().bottom;d.value.set_position(e,a),d.value.open(v.value)}function y(e){console.log(e.name),_.value.some((a=>a.id===e.name))||_.value.push({id:e.name,struct:e.settings_schema,active:!0}),b(e.name,"utility")}return t.on("connect",(()=>{console.log("connected"),l("connected")})),t.on("disconnect",(()=>{console.log("disconnected"),l.error("disconnected")})),t.on("tasks",(e=>{p.value=e.data})),t.on("available_processes",(e=>{v.value=e.data,console.log(v.value)})),t.on("toast",(e=>{var a=e.txt,t=e.type;"success"==t?l.success(a):"error"==t?l.error(a):"info"==t?l.info(a):"warning"==t&&l.warning(a)})),(e,a)=>((0,n.wg)(),(0,n.iD)("html",null,[(0,n._)("body",null,[ia,(0,n._)("div",la,[(0,n._)("div",na,[(0,n._)("div",sa,[(0,n._)("div",oa,[(0,n._)("div",ra,[ca,(0,n._)("div",ua,[(0,n._)("h3",null,[(0,n._)("i",{class:"bi bi-plus-square-fill clickable",ref_key:"new_task_button",ref:u,onClick:a[0]||(a[0]=(0,i.iM)((e=>k()),["self"]))},null,512)])])]),(0,n._)("ul",da,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(_.value,(e=>((0,n.wg)(),(0,n.iD)("li",{class:(0,s.C_)(w(e)),key:e.id,onClick:a=>b(e.id,"utility")},[(0,n.Uk)("* "+(0,s.zw)(e.id)+" * ",1),(0,n._)("div",pa,[(0,n._)("i",{class:"bi bi-x-lg",onClick:a=>f(e.id)},null,8,_a)])],10,va)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(p.value,(e=>((0,n.wg)(),(0,n.iD)("li",{class:(0,s.C_)(w(e)),key:e.id,onClick:a=>b(e.id,"task")},(0,s.zw)(e.id),11,ga)))),128))])])]),(0,n._)("div",ma,[((0,n.wg)(),(0,n.j4)(n.Ob,null,["task"==r.value?((0,n.wg)(),(0,n.j4)(oe,{key:0,is:(0,o.SU)(m),id:(0,o.SU)(m).id,struct:(0,o.SU)(m).struct,active:(0,o.SU)(m).active},null,8,["is","id","struct","active"])):(0,n.kq)("",!0)],1024)),"utility"==r.value?((0,n.wg)(),(0,n.j4)(ta,{key:0,is:(0,o.SU)(m),id:(0,o.SU)(m).id,struct:(0,o.SU)(m).struct,active:(0,o.SU)(m).active},null,8,["is","id","struct","active"])):(0,n.kq)("",!0)])]),(0,n.Wm)(be,{ref_key:"task_menu",ref:d,onProcess_chosen:y},null,512)])])]))}};const fa=ba;var wa=fa;t(343),t(2166);const ka=(0,l.WB)(),ya=(0,i.ri)(wa),ha={position:"bottom-right"};ya.use(ka),ya.use(fe.ZP,ha),ya.mount("#app")}},a={};function t(i){var l=a[i];if(void 0!==l)return l.exports;var n=a[i]={exports:{}};return e[i](n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(a,i,l,n){if(!i){var s=1/0;for(u=0;u<e.length;u++){i=e[u][0],l=e[u][1],n=e[u][2];for(var o=!0,r=0;r<i.length;r++)(!1&n||s>=n)&&Object.keys(t.O).every((function(e){return t.O[e](i[r])}))?i.splice(r--,1):(o=!1,n<s&&(s=n));if(o){e.splice(u--,1);var c=l();void 0!==c&&(a=c)}}return a}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[i,l,n]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var i in a)t.o(a,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:a[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,i){var l,n,s=i[0],o=i[1],r=i[2],c=0;if(s.some((function(a){return 0!==e[a]}))){for(l in o)t.o(o,l)&&(t.m[l]=o[l]);if(r)var u=r(t)}for(a&&a(i);c<s.length;c++)n=s[c],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(u)},i=self["webpackChunkweb"]=self["webpackChunkweb"]||[];i.forEach(a.bind(null,0)),i.push=a.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(259)}));i=t.O(i)})();
//# sourceMappingURL=app.a4aa0ab6.js.map