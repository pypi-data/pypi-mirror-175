(this["webpackJsonpray-dashboard-client"]=this["webpackJsonpray-dashboard-client"]||[]).push([[0],{512:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return e<1024?"".concat(e.toFixed(4),"KB"):e<Math.pow(1024,2)?"".concat((e/Math.pow(1024,1)).toFixed(2),"KB"):e<Math.pow(1024,3)?"".concat((e/Math.pow(1024,2)).toFixed(2),"MB"):e<Math.pow(1024,4)?"".concat((e/Math.pow(1024,3)).toFixed(2),"GB"):e<Math.pow(1024,5)?"".concat((e/Math.pow(1024,4)).toFixed(2),"TB"):e<Math.pow(1024,6)?"".concat((e/Math.pow(1024,5)).toFixed(2),"TB"):""}},513:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m}));var n=a(161),r=a(493),l=a(499),c=a(487),o=a(500),i=a(0),d=a.n(i),s=Object(n.a)((function(e){return{search:{margin:e.spacing(1),marginTop:0}}})),u=function(e){var t=e.label,a=e.onChange,n=e.defaultValue,c=s();return d.a.createElement(r.a,{className:c.search,size:"small",label:t,InputProps:{onChange:function(e){var t=e.target.value;a&&a(t)},defaultValue:n,endAdornment:d.a.createElement(l.a,{position:"end"},d.a.createElement(o.a,null))}})},m=function(e){var t=e.label,a=e.onChange,n=e.options,l=s();return d.a.createElement(r.a,{className:l.search,size:"small",label:t,select:!0,SelectProps:{onChange:function(e){var t=e.target.value;a&&a(t)},style:{width:100}}},d.a.createElement(c.a,{value:""},"All"),n.map((function(e){return"string"===typeof e?d.a.createElement(c.a,{value:e},e):d.a.createElement(c.a,{value:e[0]},e[1])})))}},515:function(e,t,a){"use strict";var n=a(161),r=a(0),l=a.n(r),c=Object(n.a)((function(e){return{container:{background:"linear-gradient(45deg, #21CBF3ee 30%, #2196F3ee 90%)",border:"1px solid #ffffffbb",padding:"0 12px",height:18,lineHeight:"18px",position:"relative",boxSizing:"content-box",borderRadius:4},displayBar:{background:e.palette.background.paper,position:"absolute",right:0,height:18,transition:"0.5s width",borderRadius:2,borderTopLeftRadius:0,borderBottomLeftRadius:0,border:"2px solid transparent",boxSizing:"border-box"},text:{fontSize:12,zIndex:2,position:"relative",color:e.palette.text.primary,width:"100%",textAlign:"center"}}}));t.a=function(e){var t=e.num,a=e.total,n=c(),r=Math.round(t/a*100);return l.a.createElement("div",{className:n.container},l.a.createElement("div",{className:n.displayBar,style:{width:"".concat(Math.min(Math.max(0,100-r),100),"%")}}),l.a.createElement("div",{className:n.text},e.children))}},516:function(e,t,a){"use strict";var n=a(7),r=a(493),l=a(499),c=a(483),o=a(481),i=a(482),d=a(480),s=a(484),u=a(427),m=a(98),p=a(500),g=a(506),v=a(504),h=a(0),b=a.n(h),f=a(67),E=a(81),y=a(518),k=a(115),j=a(519),w=a(111),O=a(522);t.a=function(e){var t=e.actors,a=void 0===t?{}:t,x=e.workers,C=void 0===x?[]:x,I=Object(h.useState)(1),A=Object(n.a)(I,2),M=A[0],S=A[1],N=Object(k.a)(),F=N.changeFilter,P=N.filterFunc,z=Object(h.useState)(10),$=Object(n.a)(z,2),R=$[0],B=$[1],T=Object(h.useContext)(E.a).ipLogMap,L=Object.values(a||{}).filter(P),D=L.slice((M-1)*R,M*R),W=Object(y.a)();return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{style:{flex:1,display:"flex",alignItems:"center"}},b.a.createElement(g.a,{style:{margin:8,width:120},options:Array.from(new Set(Object.values(a).map((function(e){return e.state})))),onInputChange:function(e,t){F("state",t.trim())},renderInput:function(e){return b.a.createElement(r.a,Object.assign({},e,{label:"State"}))}}),b.a.createElement(g.a,{style:{margin:8,width:150},options:Array.from(new Set(Object.values(a).map((function(e){var t;return null===(t=e.address)||void 0===t?void 0:t.ipAddress})))),onInputChange:function(e,t){F("address.ipAddress",t.trim())},renderInput:function(e){return b.a.createElement(r.a,Object.assign({},e,{label:"IP"}))}}),b.a.createElement(r.a,{style:{margin:8,width:120},label:"PID",size:"small",InputProps:{onChange:function(e){var t=e.target.value;F("pid",t.trim())},endAdornment:b.a.createElement(l.a,{position:"end"},b.a.createElement(p.a,null))}}),b.a.createElement(r.a,{style:{margin:8,width:120},label:"Name",size:"small",InputProps:{onChange:function(e){var t=e.target.value;F("name",t.trim())},endAdornment:b.a.createElement(l.a,{position:"end"},b.a.createElement(p.a,null))}}),b.a.createElement(r.a,{style:{margin:8,width:120},label:"Actor ID",size:"small",InputProps:{onChange:function(e){var t=e.target.value;F("actorId",t.trim())},endAdornment:b.a.createElement(l.a,{position:"end"},b.a.createElement(p.a,null))}}),b.a.createElement(r.a,{style:{margin:8,width:120},label:"Page Size",size:"small",defaultValue:10,InputProps:{onChange:function(e){var t=e.target.value;B(Math.min(Number(t),500)||10)},endAdornment:b.a.createElement(l.a,{position:"end"},"Per Page")}})),b.a.createElement("div",{style:{display:"flex",alignItems:"center"}},b.a.createElement("div",null,b.a.createElement(v.a,{page:M,onChange:function(e,t){return S(t)},count:Math.ceil(L.length/R)})),b.a.createElement("div",null,b.a.createElement(j.a,{type:"actor",list:L}))),b.a.createElement(c.a,null,b.a.createElement(o.a,null,b.a.createElement(i.a,null,["","ID","Restart Times","Name","Class","Function","Job Id","Pid","IP","Port","State","Log"].map((function(e){return b.a.createElement(d.a,{align:"center",key:e},e)})))),b.a.createElement(s.a,null,D.map((function(e){var t,a,n,r,l=e.actorId,c=e.functionDescriptor,o=e.jobId,i=e.pid,s=e.address,p=e.state,g=e.name,v=e.numRestarts;return b.a.createElement(O.a,{length:C.filter((function(e){return e.pid===i&&s.ipAddress===e.coreWorkerStats[0].ipAddress})).length,expandComponent:b.a.createElement(O.b,{actorMap:{},workers:C.filter((function(e){return e.pid===i&&s.ipAddress===e.coreWorkerStats[0].ipAddress})),mini:!0}),key:l},b.a.createElement(d.a,{align:"center"},b.a.createElement(u.a,{className:W.idCol,title:l,arrow:!0,interactive:!0},b.a.createElement("div",null,l))),b.a.createElement(d.a,{align:"center",style:{color:Number(v)>0?m.a[500]:"inherit"}},v),b.a.createElement(d.a,{align:"center"},g),b.a.createElement(d.a,{align:"center"},null===c||void 0===c||null===(t=c.javaFunctionDescriptor)||void 0===t?void 0:t.className,null===c||void 0===c||null===(a=c.pythonFunctionDescriptor)||void 0===a?void 0:a.className),b.a.createElement(d.a,{align:"center"},null===c||void 0===c||null===(n=c.javaFunctionDescriptor)||void 0===n?void 0:n.functionName,null===c||void 0===c||null===(r=c.pythonFunctionDescriptor)||void 0===r?void 0:r.functionName),b.a.createElement(d.a,{align:"center"},o),b.a.createElement(d.a,{align:"center"},i),b.a.createElement(d.a,{align:"center"},null===s||void 0===s?void 0:s.ipAddress),b.a.createElement(d.a,{align:"center"},null===s||void 0===s?void 0:s.port),b.a.createElement(d.a,{align:"center"},b.a.createElement(w.a,{type:"actor",status:p})),b.a.createElement(d.a,{align:"center"},T[null===s||void 0===s?void 0:s.ipAddress]&&b.a.createElement(f.b,{target:"_blank",to:"/log/".concat(encodeURIComponent(T[null===s||void 0===s?void 0:s.ipAddress]),"?fileName=").concat(o,"-").concat(i)},"Log")))})))))}},518:function(e,t,a){"use strict";var n=a(161),r=a(444),l=Object(n.a)((function(e){return Object(r.a)({expandCollapseIcon:{color:e.palette.text.secondary,fontSize:"1.5em",verticalAlign:"middle"},idCol:{display:"block",width:"50px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})}));t.a=l},519:function(e,t,a){"use strict";var n=a(7),r=a(478),l=a(0),c=a.n(l),o=a(111);t.a=function(e){var t=e.type,a=e.list,l={};return a.forEach((function(e){var t=e.state;l[t]=l[t]+1||1})),c.a.createElement(r.a,{container:!0,spacing:2,alignItems:"center"},c.a.createElement(r.a,{item:!0},c.a.createElement(o.a,{status:"TOTAL",type:t,suffix:"x ".concat(a.length)})),Object.entries(l).map((function(e){var a=Object(n.a)(e,2),l=a[0],i=a[1];return c.a.createElement(r.a,{key:l,item:!0},c.a.createElement(o.a,{status:l,type:t,suffix:" x ".concat(i)}))})))}},520:function(e,t,a){"use strict";var n=a(1),r=a(2),l=a(0),c=(a(5),a(3)),o=a(4),i=l.forwardRef((function(e,t){var a=e.classes,o=e.className,i=e.component,d=void 0===i?"div":i,s=Object(r.a)(e,["classes","className","component"]);return l.createElement(d,Object(n.a)({ref:t,className:Object(c.a)(a.root,o)},s))}));t.a=Object(o.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(i)},521:function(e,t,a){"use strict";var n=a(1),r=a(2),l=a(0),c=(a(5),a(3)),o=a(4),i=a(9),d=a(6),s=a(112),u=l.forwardRef((function(e,t){var a=e.classes,o=e.className,i=e.color,u=void 0===i?"secondary":i,m=e.edge,p=void 0!==m&&m,g=e.size,v=void 0===g?"medium":g,h=Object(r.a)(e,["classes","className","color","edge","size"]),b=l.createElement("span",{className:a.thumb});return l.createElement("span",{className:Object(c.a)(a.root,o,{start:a.edgeStart,end:a.edgeEnd}[p],"small"===v&&a["size".concat(Object(d.a)(v))])},l.createElement(s.a,Object(n.a)({type:"checkbox",icon:b,checkedIcon:b,classes:{root:Object(c.a)(a.switchBase,a["color".concat(Object(d.a)(u))]),input:a.input,checked:a.checked,disabled:a.disabled},ref:t},h)),l.createElement("span",{className:a.track}))}));t.a=Object(o.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(i.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(i.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(u)},522:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n=a(7),r=a(118),l=a(482),c=a(480),o=a(426),i=a(520),d=a(488),s=a(483),u=a(481),m=a(484),p=a(478),g=a(0),v=a.n(g),h=a(109),b=Object(h.a)(v.a.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown"),f=Object(h.a)(v.a.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),E=a(64),y=a.n(E),k=a(67),j=a(81),w=a(512),O=a(523),x=a(115),C=a(516),I=a(515),A=a(513),M=["children","expandComponent","length","stateKey"],S=function(e){var t=e.children,a=e.expandComponent,i=e.length,d=e.stateKey,s=void 0===d?"":d,u=Object(r.a)(e,M),m=v.a.useState(!1),p=Object(n.a)(m,2),h=p[0],E=p[1];return Object(g.useEffect)((function(){s.startsWith("ON")?E(!0):s.startsWith("OFF")&&E(!1)}),[s]),i<1?v.a.createElement(l.a,u,v.a.createElement(c.a,{padding:"checkbox"}),t):v.a.createElement(v.a.Fragment,null,v.a.createElement(l.a,u,v.a.createElement(c.a,{padding:"checkbox"},v.a.createElement(o.a,{style:{color:"inherit"},onClick:function(){return E(!h)}},i,h?v.a.createElement(b,null):v.a.createElement(f,null))),t),h&&v.a.createElement(l.a,null,v.a.createElement(c.a,{colSpan:24},a)))},N=function(e){var t=e.actorMap,a=e.coreWorkerStats,n={};return(a||[]).filter((function(e){return t[e.actorId]})).forEach((function(e){return n[e.actorId]=t[e.actorId]})),Object.values(n).length?v.a.createElement(i.a,null,v.a.createElement(C.a,{actors:n})):v.a.createElement("p",null,"The Worker Haven't Had Related Actor Yet.")};t.b=function(e){var t=e.workers,a=void 0===t?[]:t,r=e.actorMap,o=e.mini,i=Object(x.a)(),h=i.changeFilter,b=i.filterFunc,f=Object(g.useState)(""),E=Object(n.a)(f,2),C=E[0],M=E[1],F=Object(g.useContext)(j.a),P=F.nodeMapByIp,z=F.ipLogMap;return v.a.createElement(v.a.Fragment,null,!o&&v.a.createElement("div",{style:{display:"flex",alignItems:"center"}},v.a.createElement(A.a,{label:"Pid",onChange:function(e){return h("pid",e)}}),v.a.createElement(d.a,{onClick:function(){return M("ON".concat(Math.random()))}},"Expand All"),v.a.createElement(d.a,{onClick:function(){return M("OFF".concat(Math.random()))}},"Collapse All"))," ",v.a.createElement(s.a,null,v.a.createElement(u.a,null,v.a.createElement(l.a,null,["","Pid","CPU","CPU Times","Memory","CMD Line","Create Time","Log","Ops","IP","Tasks","Objects"].map((function(e){return v.a.createElement(c.a,{align:"center",key:e},e)})))),v.a.createElement(m.a,null,a.filter(b).sort((function(e,t){var a=(e.coreWorkerStats||[]).filter((function(e){return r[e.actorId]})).length||0;return((t.coreWorkerStats||[]).filter((function(e){return r[e.actorId]})).length||0)-a})).map((function(e){var t,a,l,o,i,s,u,m,g,h,b,f,E=e.pid,j=e.cpuPercent,x=e.cpuTimes,A=e.memoryInfo,M=e.cmdline,F=e.createTime,$=e.coreWorkerStats,R=void 0===$?[]:$,B=e.language;return v.a.createElement(S,{expandComponent:v.a.createElement(N,{actorMap:r,coreWorkerStats:R}),length:(R||[]).filter((function(e){return r[e.actorId]})).length,key:E,stateKey:C},v.a.createElement(c.a,{align:"center"},E),v.a.createElement(c.a,{align:"center"},v.a.createElement(I.a,{num:Number(j),total:100},j,"%")),v.a.createElement(c.a,{align:"center"},v.a.createElement("div",{style:{maxHeight:55,overflow:"auto"}},Object.entries(x||{}).map((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return v.a.createElement("div",{style:{margin:4}},a,":",r,"%")})))),v.a.createElement(c.a,{align:"center"},v.a.createElement("div",{style:{maxHeight:55,overflow:"auto"}},Object.entries(A||{}).map((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return v.a.createElement("div",{style:{margin:4}},a,":",Object(w.a)(r))})))),v.a.createElement(c.a,{align:"center",style:{lineBreak:"anywhere"}},M&&Object(O.a)(M.filter((function(e){return e})).join(" "))),v.a.createElement(c.a,{align:"center"},y()(1e3*F).format("YYYY/MM/DD HH:mm:ss")),v.a.createElement(c.a,{align:"center"},v.a.createElement(p.a,{container:!0,spacing:2},z[null===(t=R[0])||void 0===t?void 0:t.ipAddress]&&v.a.createElement(p.a,{item:!0},v.a.createElement(k.b,{target:"_blank",to:"/log/".concat(encodeURIComponent(z[null===(a=R[0])||void 0===a?void 0:a.ipAddress]),"?fileName=").concat(R[0].jobId||"","-").concat(E)},"Log")))),v.a.createElement(c.a,{align:"center"},"JAVA"===B?v.a.createElement("div",null,v.a.createElement(d.a,{onClick:function(){var e;window.open("#/cmd/jstack/".concat(null===(e=R[0])||void 0===e?void 0:e.ipAddress,"/").concat(E))}},"jstack")," ",v.a.createElement(d.a,{onClick:function(){var e;window.open("#/cmd/jmap/".concat(null===(e=R[0])||void 0===e?void 0:e.ipAddress,"/").concat(E))}},"jmap"),v.a.createElement(d.a,{onClick:function(){var e;window.open("#/cmd/jstat/".concat(null===(e=R[0])||void 0===e?void 0:e.ipAddress,"/").concat(E))}},"jstat")):"N/A"),v.a.createElement(c.a,{align:"center"},P[null===(l=R[0])||void 0===l?void 0:l.ipAddress]?v.a.createElement(k.b,{target:"_blank",to:"/node/".concat(P[null===(o=R[0])||void 0===o?void 0:o.ipAddress])},null===(i=R[0])||void 0===i?void 0:i.ipAddress):null===(s=R[0])||void 0===s?void 0:s.ipAddress),v.a.createElement(c.a,{align:"center"},v.a.createElement("div",null,"Pending tasks: ",null===(u=R[0])||void 0===u?void 0:u.numPendingTasks),v.a.createElement("div",null,"Executed tasks: ",null===(m=R[0])||void 0===m?void 0:m.numExecutedTasks)),v.a.createElement(c.a,{align:"center"},v.a.createElement("div",null,"ObjectRefs in scope:"," ",null===(g=R[0])||void 0===g?void 0:g.numObjectRefsInScope),v.a.createElement("div",null,"Objects in local memory store:"," ",null===(h=R[0])||void 0===h?void 0:h.numLocalObjects),v.a.createElement("div",null,"Objects in plasma store: ",null===(b=R[0])||void 0===b?void 0:b.numInPlasma),v.a.createElement("div",null,"Object store Memory used (MiB):"," ",null===(f=R[0])||void 0===f?void 0:f.usedObjectStoreMemory)))})))))}},523:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(427),r=a(0),l=a.n(r),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:28;return l.a.createElement(n.a,{title:e,interactive:!0},l.a.createElement("span",null,e.length>t?e.slice(0,t)+"...":e))}}}]);
//# sourceMappingURL=0.1109fea4.chunk.js.map