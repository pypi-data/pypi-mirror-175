import{d as h,u as y,b as e,I as $,f as l,i as s,o as C,g as x,w as u,h as n,a0 as D,s as A,K as N,L as S,a1 as B,a2 as i,a3 as F,X as V,q as L,m as P,a4 as q,E,G}from"./index.52801128.js";import{u as J}from"./useRouteParam.2cd4d7eb.js";import{u as c}from"./useSubscriptionWithDependencies.bb1e9971.js";import{u as K}from"./usePageTitle.2eedd110.js";const O={class:"task-run__meta"},Q=h({__name:"TaskRun",setup(W){const _=y(),r=J("id"),p=e(()=>{const t=["Logs","Task Inputs"];return P.xl||t.push("Details"),t}),d=e(()=>r.value?[r.value]:null),f=c(q.getTaskRun,d),a=e(()=>f.response),o=e(()=>{var t;return(t=a.value)==null?void 0:t.flowRunId}),m=e(()=>o.value?[o.value]:null),k=c(E.getFlowRun,m),v=e(()=>{var t;return(t=a.value)!=null&&t.taskInputs?JSON.stringify(a.value.taskInputs,void 0,2):"{}"});function R(){k.refresh(),_.push(G.flowRun(o.value))}const w=e(()=>{var t;return(t=a.value)==null?void 0:t.stateType});$(w);const g=e(()=>a.value?`Task Run: ${a.value.name}`:"Task Run");return K(g),(t,X)=>{const I=l("p-tabs"),T=l("p-divider"),b=l("p-layout-well");return s(a)?(C(),x(b,{key:0,class:"task-run"},{header:u(()=>[n(s(D),{"task-run":s(a),onDelete:R},null,8,["task-run"])]),well:u(()=>[A("div",O,[n(s(N),{state:s(a).state},null,8,["state"]),n(s(S),{duration:s(a).duration},null,8,["duration"]),n(s(B),{"flow-run-id":s(a).flowRunId},null,8,["flow-run-id"])]),n(T),n(s(i),{alternate:"","task-run":s(a)},null,8,["task-run"])]),default:u(()=>[n(I,{tabs:s(p)},{details:u(()=>[n(s(i),{"task-run":s(a)},null,8,["task-run"])]),logs:u(()=>[n(s(F),{"task-run":s(a)},null,8,["task-run"])]),"task-inputs":u(()=>[n(s(V),{value:s(v)},null,8,["value"])]),_:1},8,["tabs"])]),_:1})):L("",!0)}}});export{Q as default};
